{
  "id": "custom-instafeed-8",
  "name": "Instafeed 8",
  "description": "Section: Instafeed 8",
  "tags": [
    "instafeed"
  ],
  "type": "custom",
  "liquid_code": "<link\n  rel=\"stylesheet\"\n  href=\"https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css\"\n/>\n\n{%- liquid \n  assign padding_horizontal = section.settings.padding_horizontal\n  assign padding_horizontal_mobile = section.settings.padding_horizontal_mobile\n  assign padding_top = section.settings.padding_top\n  assign padding_bottom = section.settings.padding_bottom\n  assign border_color = section.settings.border_color\n  assign border_thickness = section.settings.border_thickness\n  assign margin_top = section.settings.margin_top\n  assign margin_bottom = section.settings.margin_bottom\n  assign margin_horizontal_mobile = section.settings.margin_horizontal_mobile\n  assign margin_horizontal = section.settings.margin_horizontal\n  assign background_color = section.settings.background_color\n  assign background_gradient = section.settings.background_gradient\n  assign full_width = section.settings.full_width\n  assign content_width = section.settings.content_width\n  assign lazy = section.settings.lazy\n  assign section_radius = section.settings.section_radius\n\n  assign heading = section.settings.heading\n  assign heading_size = section.settings.heading_size\n  assign heading_size_mobile = section.settings.heading_size_mobile\n  assign heading_color = section.settings.heading_color\n  assign heading_custom = section.settings.heading_custom\n  assign heading_font = section.settings.heading_font\n  assign heading_height = section.settings.heading_height\n  assign heading_align = section.settings.heading_align\n  assign heading_align_mobile = section.settings.heading_align_mobile\n\n  assign slider_view = section.settings.slider_view\n  assign slider_view_mobile = section.settings.slider_view_mobile\n  assign slider_gap = section.settings.slider_gap\n  assign slider_gap_mobile = section.settings.slider_gap_mobile\n  assign slider_mt = section.settings.slider_mt\n  assign slider_mt_mobile = section.settings.slider_mt_mobile\n\n  assign slide_border_thickness = section.settings.slide_border_thickness\n  assign slide_border_color = section.settings.slide_border_color\n  assign slide_radius = section.settings.slide_radius\n\n  assign slide_radius_divided = slide_radius | divided_by: 20\n  assign slide_radius_image = slide_radius | minus: slide_radius_divided\n\n  assign arrow_size = section.settings.arrow_size\n  assign arrow_size_mobile = section.settings.arrow_size_mobile\n  assign arrow_icon_size = section.settings.arrow_icon_size\n  assign arrow_icon_size_mobile = section.settings.arrow_icon_size_mobile\n  assign arrow_color = section.settings.arrow_color\n  assign arrow_hover_color = section.settings.arrow_hover_color\n  assign arrow_bg_color = section.settings.arrow_bg_color\n  assign arrow_bg_hover_color = section.settings.arrow_bg_hover_color\n  assign arrow_radius = section.settings.arrow_radius\n  assign arrow_border_thickness = section.settings.arrow_border_thickness\n  assign arrow_border_color = section.settings.arrow_border_color\n  assign arrow_border_hover_color = section.settings.arrow_border_hover_color\n  assign arrow_show_desktop = section.settings.arrow_show_desktop\n  assign arrow_show_mobile = section.settings.arrow_show_mobile\n  assign arrow_hover_effect = section.settings.arrow_hover_effect\n\n  assign modal_overlay = section.settings.modal_overlay\n  assign modal_overlay_color = section.settings.modal_overlay_color\n\n  assign modal_buttons_size = section.settings.modal_buttons_size\n  assign modal_buttons_size_mobile = section.settings.modal_buttons_size_mobile\n  assign modal_buttons_icon_color = section.settings.modal_buttons_icon_color\n\n  assign modal_slider_view = section.settings.modal_slider_view\n  assign modal_slider_gap = section.settings.modal_slider_gap\n\n  assign modal_autoplay = section.settings.modal_autoplay\n  assign modal_autoplay_delay = section.settings.modal_autoplay_delay\n\n  assign modal_image_radius = section.settings.modal_image_radius\n  assign modal_image_border_thickness = section.settings.modal_image_border_thickness\n  assign modal_image_border_color = section.settings.modal_image_border_color\n  assign modal_image_ratio = section.settings.modal_image_ratio\n  assign modal_image_ratio_mobile = section.settings.modal_image_ratio_mobile\n\n  assign modal_arrow_show_desktop = section.settings.modal_arrow_show_desktop\n  assign modal_arrow_show_mobile = section.settings.modal_arrow_show_mobile\n\n  assign modal_circle_size = section.settings.modal_circle_size\n  assign modal_circle_size_mobile = section.settings.modal_circle_size_mobile\n  assign modal_circle_border_thickness = section.settings.modal_circle_border_thickness\n  assign modal_circle_border_color = section.settings.modal_circle_border_color\n\n  assign author_size = section.settings.author_size\n  assign author_size_mobile = section.settings.author_size_mobile\n  assign author_color = section.settings.author_color\n  assign author_custom = section.settings.author_custom\n  assign author_font = section.settings.author_font\n  assign author_height = section.settings.author_height\n\n  assign text_size = section.settings.text_size\n  assign text_size_mobile = section.settings.text_size_mobile\n  assign text_color = section.settings.text_color\n  assign text_custom = section.settings.text_custom\n  assign text_font = section.settings.text_font\n  assign text_height = section.settings.text_height\n\n  assign toggle_text = section.settings.toggle_text\n  assign toggle_hide_text = section.settings.toggle_hide_text\n  assign toggle_size = section.settings.toggle_size\n  assign toggle_size_mobile = section.settings.toggle_size_mobile\n  assign toggle_color = section.settings.toggle_color\n  assign toggle_custom = section.settings.toggle_custom\n  assign toggle_font = section.settings.toggle_font\n  assign toggle_height = section.settings.toggle_height\n  assign toggle_mt = section.settings.toggle_mt\n  assign toggle_mt_mobile = section.settings.toggle_mt_mobile\n\n  assign products_modal_bg_color = section.settings.products_modal_bg_color\n  assign products_modal_overlay_color = section.settings.products_modal_overlay_color\n\n  assign product_cards_align = section.settings.product_cards_align\n  assign product_cards_gap_mobile = section.settings.product_cards_gap_mobile\n  assign product_cards_gap = section.settings.product_cards_gap\n\n  assign product_card_width_mobile = section.settings.product_card_width_mobile\n  assign product_card_width = section.settings.product_card_width\n  assign product_card_border_thickness = section.settings.product_card_border_thickness\n  assign product_card_border_color = section.settings.product_card_border_color\n  assign product_card_bg_color = section.settings.product_card_bg_color\n  assign product_card_radius = section.settings.product_card_radius\n\n  assign product_image_ratio = section.settings.product_image_ratio\n  assign product_image_ratio_mobile = section.settings.product_image_ratio_mobile\n\n  assign title_size = section.settings.title_size\n  assign title_size_mobile = section.settings.title_size_mobile\n  assign title_color = section.settings.title_color\n  assign title_hover_color = section.settings.title_hover_color\n  assign title_custom = section.settings.title_custom\n  assign title_font = section.settings.title_font\n  assign title_height = section.settings.title_height\n  assign title_mt = section.settings.title_mt\n  assign title_mt_mobile = section.settings.title_mt_mobile\n\n  assign details_size = section.settings.details_size\n  assign details_size_mobile = section.settings.details_size_mobile\n  assign details_color = section.settings.details_color\n  assign details_custom = section.settings.details_custom\n  assign details_font = section.settings.details_font\n  assign details_height = section.settings.details_height\n  assign details_mt = section.settings.details_mt\n  assign details_mt_mobile = section.settings.details_mt_mobile\n  \n-%}\n\n{%- style -%}\n\n  {{ heading_font | font_face: font_display: 'swap' }}\n  {{ author_font | font_face: font_display: 'swap' }}\n  {{ text_font | font_face: font_display: 'swap' }}\n  {{ toggle_font | font_face: font_display: 'swap' }}\n  {{ title_font | font_face: font_display: 'swap' }}\n  {{ details_font | font_face: font_display: 'swap' }}\n  \n  .section-{{ section.id }} {\n    border-top: solid {{ border_color }} {{ border_thickness }}px;\n    border-bottom: solid {{ border_color }} {{ border_thickness }}px;\n    margin-top: {{ margin_top | times: 0.75 | round: 0 }}px;\n    margin-bottom: {{ margin_bottom | times: 0.75 | round: 0 }}px;\n    margin-left: {{ margin_horizontal_mobile }}rem;\n    margin-right: {{ margin_horizontal_mobile }}rem;\n    border-radius: {{ section_radius | times: 0.6 | round: 0 }}px;\n    overflow: hidden;\n  }\n  \n  .section-{{ section.id }}-settings {\n    margin: 0 auto;\n    padding-top: {{ padding_top | times: 0.75 | round: 0 }}px;\n    padding-bottom: {{ padding_bottom | times: 0.75 | round: 0 }}px;\n    padding-left: {{ padding_horizontal_mobile }}rem;\n    padding-right: {{ padding_horizontal_mobile }}rem;\n  }\n\n  .instafeed-heading-{{ section.id }} {\n    text-align: {{ heading_align_mobile }};\n  }\n\n  .instafeed-heading-{{ section.id }} * {\n    margin: 0;\n    font-size: {{ heading_size_mobile }}px;\n    color: {{ heading_color }};\n    line-height: {{ heading_height }}%;\n    text-transform: unset;\n  }\n\n  .instafeed-slider-wrapper-{{ section.id }} {\n    margin-top: {{ slider_mt_mobile }}px;\n    position: relative;\n  }\n\n  .instafeed-slider-{{ section.id }} {\n    margin-left: -{{ padding_horizontal_mobile }}px !important;\n    margin-right: -{{ padding_horizontal_mobile }}px !important;\n    padding-left: {{ padding_horizontal_mobile }}px !important;\n    padding-right: {{ padding_horizontal_mobile }}px !important;\n    overflow: visible !important;\n  }\n\n  .instafeed-slider-{{ section.id }} .swiper-wrapper {\n    align-items: stretch !important;\n  }\n\n  .instafeed-slide-{{ section.id }} {\n    overflow: hidden;\n    border: {{ slide_border_thickness }}px solid {{ slide_border_color }};\n    cursor: pointer;\n    box-sizing: border-box !important;\n    aspect-ratio: 1;\n    border-radius: {{ slide_radius }}px;\n  }\n\n  .instafeed-slide-{{ section.id }} img,\n  .instafeed-slide-{{ section.id }} svg {\n    display: block;\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    box-shadow: none;\n    border: 0px;\n    border-radius: {{ slide_radius_image }}px;\n    position: absolute;\n  }\n\n  .instafeed-slide-{{ section.id }} svg {\n    background-color: #AFAFAF;\n  }\n\n  .instafeed-btn-prev-{{ section.id }},\n  .instafeed-btn-next-{{ section.id }} {\n    position: absolute;\n    top: 50%;\n    transform: translateY(-50%);\n    z-index: 2;\n    width: {{ arrow_size_mobile }}px;\n    height: {{ arrow_size_mobile }}px;\n    border: 0px;\n    border: {{ arrow_border_thickness }}px solid {{ arrow_border_color }};\n    border-radius: {{ arrow_radius }}px;\n    background: transparent;\n    background: {{ arrow_bg_color }};\n    align-items: center;\n    justify-content: center;\n    transition: all 0.3s ease 0s;\n    cursor: pointer;\n    -webkit-appearance: none;\n  }\n\n  .instafeed-btn-prev-{{ section.id }} {\n    left: 0px;\n  }\n\n  .instafeed-btn-next-{{ section.id }} {\n    right: 0px;\n  }\n\n  .instafeed-btn-prev-{{ section.id }} .animate-icon,\n  .instafeed-btn-next-{{ section.id }} .animate-icon {\n    pointer-events: none;\n    place-items: center;\n    display: grid;\n  }\n\n  .instafeed-btn-prev-{{ section.id }} .animate-icon:before,\n  .instafeed-btn-next-{{ section.id }} .animate-icon:before {\n    content: \"\";\n    grid-area: 1 / -1;\n    transition: all .2s ease;\n    width: {{ arrow_icon_size_mobile }}px;\n    height: {{ arrow_icon_size_mobile }}px;\n    transform: rotate(calc(1 * 45deg));\n    box-sizing: border-box;\n    border-style: solid;\n    border: 0px;\n    border-right: 2px solid currentColor;\n    border-top: 2px solid currentColor;\n    position: relative;\n    left: -1px;\n  }\n\n  .instafeed-btn-prev-{{ section.id }} .animate-icon:before {\n    left: unset;\n    right: -1px;\n    border-right: 0px;\n    border-top: 0px;\n    border-bottom: 2px solid currentColor;\n    border-left: 2px solid currentColor;\n  }\n\n  .instafeed-btn-prev-{{ section.id }} .animate-icon:after,\n  .instafeed-btn-next-{{ section.id }} .animate-icon:after {\n    content: \"\";\n    grid-area: 1 / -1;\n    transition: all .2s ease;\n    width: {{ arrow_icon_size_mobile | minus: 0.3 }}px;\n    height: 1.6px;\n    transform-origin: center;\n    opacity: 0;\n    background: currentColor;\n    transform: scaleX(.5);\n  }\n\n  .instafeed-btn-prev-{{ section.id }} span,\n  .instafeed-btn-next-{{ section.id }} span {\n    color: {{ arrow_color }};\n  }\n\n  .instafeed-btn-prev-{{ section.id }}.swiper-button-disabled,\n  .instafeed-btn-next-{{ section.id }}.swiper-button-disabled {\n    opacity: 0.5;\n  }\n\n  .instafeed-modal-{{ section.id }} {\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    background-color: {{ modal_overlay_color | hex_to_rgba: modal_overlay }};\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    padding: 20px;\n    padding-top: {{ modal_buttons_size_mobile | plus: 20 }}px;\n    opacity: 0;\n    pointer-events: none;\n    z-index: -1;\n    transition: all 0.25s ease 0s;\n    overflow: hidden;\n  }\n\n  .instafeed-modal-{{ section.id }}.active {\n    opacity: 1;\n    pointer-events: all;\n    z-index: 100;\n    transition: all 0.25s ease 0s;\n  }\n\n  .instafeed-modal-inner-{{ section.id }} {\n    width: 100%;\n    display: grid;\n    max-height: 80vh;\n    height: 100%;\n    position: relative;\n    z-index: 1;\n    overflow: hidden;\n  }\n\n  .instafeed-modal-slider-{{ section.id }} {\n    margin-left: -20px !important;\n    margin-right: -20px !important;\n    padding-left: 20px !important;\n    padding-right: 20px !important;\n    max-height: 80vh !important;\n  }\n\n  .instafeed-modal-close-{{ section.id }},\n  .instafeed-modal-btn-prev-{{ section.id }},\n  .instafeed-modal-btn-next-{{ section.id }} {\n    width: {{ modal_buttons_size_mobile }}px;\n    height: {{ modal_buttons_size_mobile }}px;\n    border-radius: 50%;\n    overflow: hidden;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    padding: {{ modal_buttons_size_mobile | times: 0.25 }}px;\n    background-color: transparent;\n    border: 0px;\n    backdrop-filter: blur(4px);\n    -webkit-backdrop-filter: blur(4px);\n    background: rgba(0, 0, 0, .2);\n    cursor: pointer;\n  }\n\n  .instafeed-modal-close-{{ section.id }} svg,\n  .instafeed-modal-btn-prev-{{ section.id }} svg,\n  .instafeed-modal-btn-next-{{ section.id }} svg {\n    display: block;\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n\n  .instafeed-modal-close-{{ section.id }} svg path,\n  .instafeed-modal-btn-prev-{{ section.id }} svg path,\n  .instafeed-modal-btn-next-{{ section.id }} svg path {\n    fill: {{ modal_buttons_icon_color }};\n  }\n\n  .instafeed-modal-close-{{ section.id }} {\n    position: fixed;\n    top: 10px;\n    right: 10px;\n    z-index: 2;\n  }\n\n  .instafeed-modal-btn-prev-{{ section.id }},\n  .instafeed-modal-btn-next-{{ section.id }} {\n    position: absolute;\n    top: 50%;\n    transform: translateY(-50%);\n    z-index: 2;\n  }\n\n  .instafeed-modal-btn-prev-{{ section.id }} {\n    left: 20px;\n  }\n\n  .instafeed-modal-btn-next-{{ section.id }} {\n    right: 20px;\n  }\n\n  .instafeed-modal-btn-prev-{{ section.id }} svg {\n    transform: rotate(-180deg);\n  }\n\n  .instafeed-modal-slide-{{ section.id }} {\n    position: relative;\n    box-sizing: border-box !important;\n    -webkit-filter: blur(6px);\n    filter: blur(6px);\n    -webkit-transform: scale(.85)!important;\n    transform: scale(.85)!important;\n    transition: -webkit-transform .2s;\n    transition: transform .2s;\n    transition: transform .2s,-webkit-transform .2s;\n      \n  }\n\n  .instafeed-modal-slide-{{ section.id }}.swiper-slide-active {\n    -webkit-filter: blur(0);\n    filter: blur(0);\n    -webkit-transform: scale(1)!important;\n    transform: scale(1)!important;\n  }\n\n  .instafeed-modal-image-{{ section.id }} {\n    position: relative;\n    border: {{ modal_image_border_thickness }}px solid {{ modal_image_border_color }};\n    border-radius: {{ modal_image_radius }}px;\n    overflow: hidden;\n    max-height: 80%;\n    width: 100%;\n  }\n\n  .instafeed-modal-image-{{ section.id }} img,\n  .instafeed-modal-image-{{ section.id }} svg {\n    display: block;\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n\n  .instafeed-modal-image-{{ section.id }} svg {\n    background-color: #AFAFAF;\n  }\n\n  #progress{{ section.id | replate: '-', '' }} {\n    width: 100%;\n    height: 2px;\n    background-color: rgba(255, 255, 255, 0.2);\n  }\n\n  #progress{{ section.id | replate: '-', '' }}[value] {\n    appearance: none;\n    border: none;\n    color: #ffffff;\n  }\n\n  #progress{{ section.id | replate: '-', '' }}[value]::-webkit-progress-value {\n    background: white;\n    transition: width 0.5s linear;\n  }\n  \n  #progress{{ section.id | replate: '-', '' }}[value]::-moz-progress-bar {\n    background: #ede8e8:\n  }\n\n  .instafeed-modal-slide-top-{{ section.id }} {\n    position: absolute;\n    left: 0px;\n    top: 0px;\n    z-index: 2;\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    gap: 8px;\n    padding: 16px 8px;\n    background: linear-gradient(180deg, #212121, rgba(33, 33, 33, 0));\n  }\n\n  .instafeed-modal-slide-row-{{ section.id }} {\n    display: flex;\n    align-items: center;\n    gap: 10px;\n  }\n\n  .instafeed-modal-slide-circle-{{ section.id }} {\n    flex: 0 0 {{ modal_circle_size_mobile }}px;\n    height: {{ modal_circle_size_mobile }}px;\n    border-radius: 50%;\n    overflow: hidden;\n    border: {{ modal_circle_border_thickness }}px solid {{ modal_circle_border_color }};\n  }\n\n  .instafeed-modal-slide-circle-{{ section.id }} img,\n  .instafeed-modal-slide-circle-{{ section.id }} svg {\n    display: block;\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n\n  .instafeed-modal-slide-circle-{{ section.id }} svg {\n    background-color: #AFAFAF;\n  }\n\n  .instafeed-modal-slide-author-{{ section.id }} {\n    margin: 0px;\n    font-size: {{ author_size_mobile }}px;\n    color: {{ author_color }};\n    line-height: {{ author_height }}%;\n    text-transform: unset;\n  }\n\n  .instafeed-modal-slide-text-{{ section.id }} {\n    position: absolute;\n    left: 0;\n    bottom: 0;\n    width: 100%;\n    z-index: 2;\n    padding: 24px 16px;\n    background: linear-gradient(0deg, #212121, rgba(33, 33, 33, 0));\n    margin: 0px;\n    font-size: {{ text_size_mobile }}px;\n    color: {{ text_color }};\n    line-height: {{ text_height }}%;\n    text-transform: unset;\n    font-weight: 700;\n  }\n\n  .instafeed-modal-slide-toggle-{{ section.id }} {\n    opacity: 0;\n    transition: all 0.25s ease 0s;\n    margin: 0px;\n    margin-top: {{ toggle_mt_mobile }}px;\n    font-size: {{ toggle_size_mobile }}px;\n    color: {{ toggle_color }};\n    line-height: {{ toggle_height }}%;\n    text-transform: unset;\n    text-align: center;\n    cursor: pointer;\n  }\n\n  .instafeed-modal-slide-{{ section.id }}.swiper-slide-active .instafeed-modal-slide-toggle-{{ section.id }},\n  .instafeed-modal-slide-toggle-{{ section.id }}.instafeed-modal-slide-hide-toggle-{{ section.id }}{\n    opacity: 1;\n    transition: all 0.25s ease 0s;\n  }\n\n  .instafeed-products-modal-{{ section.id }} {\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    right: 0;\n    left: 0;\n    height: 100%;\n    background: {{ products_modal_overlay_color | hex_to_rgba: 0.7 }};\n    z-index: 999999999;\n    display: none;\n    align-items: flex-end;\n  }\n\n  .instafeed-products-modal-{{ section.id }}.active {\n    display: flex;\n  }\n\n  .instafeed-products-modal-inner-{{ section.id }} {\n    min-height: 35%;\n    width: 100%;\n    background: {{ products_modal_bg_color }};\n    padding-bottom: 30px;\n  }\n\n  .instafeed-products-modal-grid-{{ section.id }} {\n    transform: translateY(-30%);\n    overflow-x: auto;\n    display: flex;\n    align-items: stretch;\n    gap: {{ product_cards_gap_mobile }}px;\n    scrollbar-width: 0px;\n    max-width: fit-content;\n    padding: 0px 30px;\n  }\n\n  .instafeed-products-modal-grid-{{ section.id }}::-webkit-scrollbar {\n    width: 0px;\n    display: none;\n  }\n\n  .instafeed-product-card-{{ section.id }} {\n    width: {{ product_card_width_mobile }}px;\n    border: {{ product_card_border_thickness }}px solid {{ product_card_border_color }};\n    background-color: {{ product_card_bg_color }};\n    padding: 20px;\n    border-radius: {{ product_card_radius }}px;\n    overflow: hidden;\n    flex-shrink: 0;\n  }\n\n  .instafeed-product-image-{{ section.id }} {\n    overflow: hidden;\n    display: block;\n  }\n\n  .instafeed-product-image-{{ section.id }} img,\n  .instafeed-product-image-{{ section.id }} svg {\n    display: block;\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n\n  .instafeed-product-image-{{ section.id }} svg {\n    background-color: #AFAFAF;\n  }\n\n  .instafeed-product-title-{{ section.id }} {\n    display: block;\n    max-width: fit-content;\n    margin: 0px;\n    margin-top: {{ title_mt_mobile }}px;\n    font-size: {{ title_size_mobile }}px;\n    color: {{ title_color }};\n    line-height: {{ title_height }}%;\n    text-transform: unset;\n    text-decoration: none;\n    transition: all 0.25s ease 0s;\n  }\n\n  .instafeed-product-title-{{ section.id }}:hover {\n    color: {{ title_hover_color }};\n    transition: all 0.25s ease 0s;\n  }\n\n  .instafeed-product-details-{{ section.id }} {\n    margin: 0px;\n    margin-top: {{ details_mt_mobile }}px;\n    font-size: {{ details_size_mobile }}px;\n    color: {{ details_color }};\n    line-height: {{ details_height }}%;\n    text-transform: unset;\n  }\n  \n  @media(min-width: 1024px) {\n\n    .section-{{ section.id }} {\n      margin-top: {{ margin_top }}px;\n      margin-bottom: {{ margin_bottom }}px;\n      margin-left: {{ margin_horizontal }}rem;\n      margin-right: {{ margin_horizontal }}rem;\n      border-radius: {{ section_radius }}px;\n    }\n    \n    .section-{{ section.id }}-settings {\n      padding: 0 5rem;\n      padding-top: {{ padding_top }}px;\n      padding-bottom: {{ padding_bottom }}px;\n      padding-left: {{ padding_horizontal }}rem;\n      padding-right: {{ padding_horizontal }}rem;\n    }\n\n    .instafeed-heading-{{ section.id }} {\n      text-align: {{ heading_align }};\n    }\n  \n    .instafeed-heading-{{ section.id }} * {\n      font-size: {{ heading_size }}px;\n    }\n\n    .instafeed-slider-{{ section.id }} {\n      margin-left: 0px !important;\n      margin-right: 0px !important;\n      padding-left: 0px !important;\n      padding-right: 0px !important;\n      overflow: hidden !important;\n    }\n    \n    .instafeed-slider-wrapper-{{ section.id }} {\n      margin-top: {{ slider_mt }}px;\n      padding-left: {{ arrow_size | plus: 10 }}px;\n      padding-right: {{ arrow_size | plus: 10 }}px;\n    }\n\n    .instafeed-btn-prev-{{ section.id }},\n    .instafeed-btn-next-{{ section.id }} {\n      width: {{ arrow_size }}px;\n      height: {{ arrow_size }}px;\n      transition: all 0.25s ease 0s;\n    }\n    \n    .instafeed-btn-prev-{{ section.id }} .animate-icon:before,\n    .instafeed-btn-next-{{ section.id }} .animate-icon:before {\n      width: {{ arrow_icon_size }}px;\n      height: {{ arrow_icon_size }}px;\n    }\n\n    .instafeed-btn-prev-{{ section.id }} .animate-icon:after,\n    .instafeed-btn-next-{{ section.id }} .animate-icon:after {\n      width: {{ arrow_icon_size | minus: 0.3 }}px;\n    }\n\n    .instafeed-modal-{{ section.id }} {\n      padding-top: {{ modal_buttons_size | plus: 20 }}px;\n    }\n\n    .instafeed-modal-close-{{ section.id }} {\n      top: 20px;\n      right: 20px;\n    }\n\n    .instafeed-modal-close-{{ section.id }},\n    .instafeed-modal-btn-prev-{{ section.id }},\n    .instafeed-modal-btn-next-{{ section.id }} {\n      width: {{ modal_buttons_size }}px;\n      height: {{ modal_buttons_size }}px;\n      padding: {{ modal_buttons_size | times: 0.25 }}px;\n    }\n\n    .instafeed-modal-slide-circle-{{ section.id }} {\n      flex: 0 0 {{ modal_circle_size }}px;\n      height: {{ modal_circle_size }}px;\n    }\n\n    .instafeed-modal-slide-author-{{ section.id }} {\n      font-size: {{ author_size }}px;\n    }\n\n    .instafeed-modal-slide-text-{{ section.id }} {\n      font-size: {{ text_size }}px;\n    }\n\n    .instafeed-modal-slide-toggle-{{ section.id }} {\n      margin-top: {{ toggle_mt }}px;\n      font-size: {{ toggle_size }}px;\n    }\n\n    .instafeed-product-card-{{ section.id }} {\n      width: {{ product_card_width }}px;\n    }\n\n    .instafeed-product-title-{{ section.id }} {\n      margin-top: {{ title_mt }}px;\n      font-size: {{ title_size }}px;\n    }\n\n    .instafeed-product-details-{{ section.id }} {\n      margin-top: {{ details_mt }}px;\n      font-size: {{ details_size }}px;\n    }\n\n    .instafeed-products-modal-grid-{{ section.id }} {\n      gap: {{ product_cards_gap }}px;\n    }\n  }\n  \n{%- endstyle -%}\n\n{% unless full_width %}\n  <style>\n    .section-{{ section.id }}-settings {\n      max-width: {{ content_width }}px;\n    }\n  </style>\n{% endunless %}\n\n{% if margin_horizontal_mobile > 0 %}\n  <style>\n    .section-{{ section.id }} {\n      border-left: solid {{ border_color }} {{ border_thickness }}px;\n      border-right: solid {{ border_color }} {{ border_thickness }}px;\n    }\n    \n    @media(min-width: 1024px) {\n      .section-{{ section.id }} {\n        border-left: 0px;\n        border-right: 0px;\n      }\n    }\n  </style>\n{% endif %}\n\n{% if slide_border_thickness > 0 %}\n  <style>\n    .instafeed-slide-{{ section.id }} {\n      padding: 2px;\n    }\n\n    .instafeed-slide-{{ section.id }} img,\n    .instafeed-slide-{{ section.id }} svg {\n      width: calc(100% - 4px);\n      height: calc(100% - 4px);\n      left: 2px;\n      top: 2px;\n    }\n  </style>\n{% else %}\n  <style>\n  .instafeed-slide-{{ section.id }} img,\n    .instafeed-slide-{{ section.id }} svg {\n      width: 100%;\n      height: 100%;\n      left: 0px;\n      top: 0px;\n    }\n  </style>\n{% endif %}\n\n{% if margin_horizontal > 0 %}\n  <style>\n    @media(min-width: 1024px) {\n      .section-{{ section.id }} {\n        border-left: solid {{ border_color }} {{ border_thickness }}px;\n        border-right: solid {{ border_color }} {{ border_thickness }}px;\n      }\n    }\n  </style>\n{% endif %}\n\n{% if heading_custom %}\n  <style>\n    .instafeed-heading-{{ section.id }} * {\n      font-family: {{ heading_font.family }}, {{ heading_font.fallback_families }};\n      font-weight: {{ heading_font.weight }};\n      font-style: {{ heading_font.style }};\n    }\n  </style>\n{% endif %}\n\n{% if author_custom %}\n  <style>\n    .instafeed-modal-slide-author-{{ section.id }} {\n      font-family: {{ author_font.family }}, {{ author_font.fallback_families }};\n      font-weight: {{ author_font.weight }};\n      font-style: {{ author_font.style }};\n    }\n  </style>\n{% endif %}\n\n{% if text_custom %}\n  <style>\n    .instafeed-modal-slide-text-{{ section.id }} {\n      font-family: {{ text_font.family }}, {{ text_font.fallback_families }};\n      font-weight: {{ text_font.weight }};\n      font-style: {{ text_font.style }};\n    }\n  </style>\n{% endif %}\n\n{% if toggle_custom %}\n  <style>\n    .instafeed-modal-slide-toggle-{{ section.id }} {\n      font-family: {{ toggle_font.family }}, {{ toggle_font.fallback_families }};\n      font-weight: {{ toggle_font.weight }};\n      font-style: {{ toggle_font.style }};\n    }\n  </style>\n{% endif %}\n\n{% if title_custom %}\n  <style>\n    .instafeed-product-title-{{ section.id }} {\n      font-family: {{ title_font.family }}, {{ title_font.fallback_families }};\n      font-weight: {{ title_font.weight }};\n      font-style: {{ title_font.style }};\n    }\n  </style>\n{% endif %}\n\n{% if details_custom %}\n  <style>\n    .instafeed-product-details-{{ section.id }} {\n      font-family: {{ details_font.family }}, {{ details_font.fallback_families }};\n      font-weight: {{ details_font.weight }};\n      font-style: {{ details_font.style }};\n    }\n  </style>\n{% endif %}\n\n{% if arrow_hover_effect == \"color\" %}\n  <style>\n    .instafeed-btn-prev-{{ section.id }}:hover,\n    .instafeed-btn-next-{{ section.id }}:hover {\n      transition: all 0.3s ease 0s;\n      border: {{ arrow_border_thickness }}px solid {{ arrow_border_hover_color }};\n      background: {{ arrow_bg_hover_color }};\n    }\n  \n    .instafeed-btn-prev-{{ section.id }}:hover .animate-icon,\n    .instafeed-btn-next-{{ section.id }}:hover .animate-icon {\n      color: {{ arrow_hover_color }};\n    }\n  </style>\n{% elsif arrow_hover_effect == \"scale\" %}\n  <style>\n    .instafeed-btn-prev-{{ section.id }}:hover,\n    .instafeed-btn-next-{{ section.id }}:hover {\n      transform: scale(0.9) translateY(-50%);\n    }\n\n    @media(min-width: 1024px) {\n      .instafeed-btn-prev-{{ section.id }}:hover,\n      .instafeed-btn-next-{{ section.id }}:hover {\n        transform: scale(0.9) translateY(-50%);\n      }\n    }\n  </style>\n{% elsif arrow_hover_effect == \"arrow\" %}\n  <style>\n    .instafeed-btn-next-{{ section.id }}:hover .animate-icon:before {\n      transform: translate(calc(1 * 0.125rem)) rotate(calc(1 * 45deg));\n    }\n  \n    .instafeed-btn-prev-{{ section.id }}:hover .animate-icon:before {\n      transform: translate(calc(-1 * 0.125rem)) rotate(calc(1 * 45deg));\n    }\n    \n    .instafeed-btn-prev-{{ section.id }}:hover .animate-icon:after,\n    .instafeed-btn-next-{{ section.id }}:hover .animate-icon:after {\n      opacity: 1;\n      transform: scaleX(1);\n    }\n  </style>\n{% endif %}\n\n{% if arrow_show_mobile %}\n  <style>\n    .instafeed-btn-prev-{{ section.id }},\n    .instafeed-btn-next-{{ section.id }} {\n      display: flex;\n    }\n\n    .instafeed-slider-wrapper-{{ section.id }} {\n      padding-left: {{ arrow_size_mobile | plus: 10 }}px;\n      padding-right: {{ arrow_size_mobile | plus: 10 }}px;\n    }\n  </style>\n{% else %}\n  <style>\n    .instafeed-btn-prev-{{ section.id }},\n    .instafeed-btn-next-{{ section.id }} {\n      display: none;\n    }\n  </style>\n{% endif %}\n\n{% if arrow_show_desktop %}\n  <style>\n    @media(min-width: 1024px) {\n      .instafeed-btn-prev-{{ section.id }},\n      .instafeed-btn-next-{{ section.id }} {\n        display: flex;\n      }\n\n      .instafeed-slider-wrapper-{{ section.id }} {\n        padding-left: {{ arrow_size | plus: 10 }}px;\n        padding-right: {{ arrow_size | plus: 10 }}px;\n      }\n    }\n  </style>\n{% else %}\n  <style>\n    @media(min-width: 1024px) {\n      .instafeed-btn-prev-{{ section.id }},\n      .instafeed-btn-next-{{ section.id }} {\n        display: none;\n      }\n\n      .instafeed-slider-wrapper-{{ section.id }} {\n        padding-left: 0px;\n        padding-right: 0px;\n      }\n    }\n  </style>\n{% endif %}\n\n{% if modal_image_ratio_mobile == \"portrait\" %}\n  <style>\n    .instafeed-modal-image-{{ section.id }} {\n      aspect-ratio: 9.6/13;\n    }\n  </style>\n{% elsif modal_image_ratio_mobile == \"landscape\" %}\n  <style>\n  .instafeed-modal-image-{{ section.id }} {\n    aspect-ratio: 12/8;\n  }\n  </style>\n{% elsif modal_image_ratio_mobile == \"square\" %}\n  <style>\n    .instafeed-modal-image-{{ section.id }} {\n      aspect-ratio: 12/12;\n    }\n  </style>\n{% else %}\n  <style>\n    .instafeed-modal-image-{{ section.id }} {\n      aspect-ratio: auto;\n    }\n  </style>\n{% endif %}\n\n{% if modal_image_ratio == \"portrait\" %}\n  <style>\n    @media(min-width: 1024px) {\n      .instafeed-modal-image-{{ section.id }} {\n        aspect-ratio: 9.6/13;\n      }\n    }\n    \n  </style>\n{% elsif modal_image_ratio == \"landscape\" %}\n  <style>\n    @media(min-width: 1024px) {\n      .instafeed-modal-image-{{ section.id }} {\n        aspect-ratio: 12/8;\n      }\n    }  \n  </style>\n{% elsif modal_image_ratio == \"square\" %}\n  <style>\n    @media(min-width: 1024px) {\n      .instafeed-modal-image-{{ section.id }} {\n        aspect-ratio: 12/12;\n      }\n    }    \n  </style>\n{% else %}\n  <style>\n     @media(min-width: 1024px) {\n      .instafeed-modal-image-{{ section.id }} {\n        aspect-ratio: auto;\n      }\n    }\n  </style>\n{% endif %}\n\n{% if product_image_ratio_mobile == \"portrait\" %}\n  <style>\n    .instafeed-product-image-{{ section.id }} {\n      aspect-ratio: 9.6/13;\n    }\n  </style>\n{% elsif product_image_ratio_mobile == \"landscape\" %}\n  <style>\n  .instafeed-product-image-{{ section.id }} {\n    aspect-ratio: 12/8;\n  }\n  </style>\n{% elsif product_image_ratio_mobile == \"square\" %}\n  <style>\n    .instafeed-product-image-{{ section.id }} {\n      aspect-ratio: 12/12;\n    }\n  </style>\n{% else %}\n  <style>\n    .instafeed-product-image-{{ section.id }} {\n      aspect-ratio: auto;\n    }\n  </style>\n{% endif %}\n\n{% if product_image_ratio == \"portrait\" %}\n  <style>\n    @media(min-width: 1024px) {\n      .instafeed-product-image-{{ section.id }} {\n        aspect-ratio: 9.6/13;\n      }\n    }\n    \n  </style>\n{% elsif product_image_ratio == \"landscape\" %}\n  <style>\n    @media(min-width: 1024px) {\n      .instafeed-product-image-{{ section.id }} {\n        aspect-ratio: 12/8;\n      }\n    }  \n  </style>\n{% elsif product_image_ratio == \"square\" %}\n  <style>\n    @media(min-width: 1024px) {\n      .instafeed-product-image-{{ section.id }} {\n        aspect-ratio: 12/12;\n      }\n    }    \n  </style>\n{% else %}\n  <style>\n     @media(min-width: 1024px) {\n      .instafeed-product-image-{{ section.id }} {\n        aspect-ratio: auto;\n      }\n    }\n  </style>\n{% endif %}\n\n{% if modal_arrow_show_mobile %}\n  <style>\n    .instafeed-modal-btn-prev-{{ section.id }},\n    .instafeed-modal-btn-next-{{ section.id }} {\n      display: flex;\n    }\n  </style>\n{% else %}\n  <style>\n    .instafeed-modal-btn-prev-{{ section.id }},\n    .instafeed-modal-btn-next-{{ section.id }} {\n      display: none;\n    }\n  </style>\n{% endif %}\n\n{% if modal_arrow_show_desktop %}\n  <style>\n    @media(min-width: 1024px) {\n      .instafeed-modal-btn-prev-{{ section.id }},\n      .instafeed-modal-btn-next-{{ section.id }} {\n        display: flex;\n      }\n    }\n  </style>\n{% else %}\n  <style>\n    @media(min-width: 1024px) {\n      .instafeed-modal-btn-prev-{{ section.id }},\n      .instafeed-modal-btn-next-{{ section.id }} {\n        display: none;\n      }\n    }\n  </style>\n{% endif %}\n\n{% if product_cards_align == \"center\" %}\n  <style>\n    .instafeed-products-modal-grid-{{ section.id }} {\n      margin-left: auto;\n      margin-right: auto;\n    }\n  </style>\n{% elsif product_cards_align == \"right\" %}\n  <style>\n    .instafeed-products-modal-grid-{{ section.id }} {\n      margin-left: auto;\n    }\n  </style>\n{% endif %}\n\n{% comment %} PREVIEW {% endcomment %}\n<style>\n  .instafeed-slider-{{ section.id }}.preview .swiper-wrapper {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    overflow: hidden;\n  }\n\n  .instafeed-slider-{{ section.id }}.preview .instafeed-slide-{{ section.id }} {\n    width: 100%;\n  }\n\n  .instafeed-slider-{{ section.id }}.preview .instafeed-slide-{{ section.id }}:not(:first-child) {\n    margin-left: {{ slider_gap_mobile }}px;\n  } \n\n  @media(min-width: 1024px) {\n    .instafeed-slider-{{ section.id }}.preview .instafeed-slide-{{ section.id }}:not(:first-child) {\n      margin-left: {{ slider_gap }}px;\n    } \n\n    .instafeed-slider-{{ section.id }}.preview .instafeed-slide-{{ section.id }} {\n      width: calc(100% / {{ slider_view }} - ({{ slider_gap }}px * {{ slider_view | minus: 1 }}));\n    }\n  }\n</style>\n\n<div class=\"section-{{ section.id }} instafeed-{{ section.id }}\" style=\"background-color:{{ background_color }}; background-image: {{ background_gradient }};\">\n    <div class=\"section-{{ section.id }}-settings\">\n      {% if heading != blank %}\n        <div class=\"instafeed-heading-{{ section.id }}\">{{ heading }}</div>\n      {% endif %}\n\n      <div class=\"instafeed-slider-wrapper-{{ section.id }}\">\n        <div class=\"instafeed-slider-{{ section.id }} swiper preview\"\n          data-slider-view-mobile=\"{{ slider_view_mobile }}\"\n          data-slider-gap-mobile=\"{{ slider_gap_mobile }}\"\n          data-slider-gap=\"{{ slider_gap }}\"\n          data-slider-view=\"{{ slider_view }}\"\n          data-slider-view-tablet=\"{{ slider_view | times: 0.5 | round: 0 }}\">\n          <div class=\"swiper-wrapper\">\n            {% for block in section.blocks %}\n              <div class=\"instafeed-slide-{{ section.id }} swiper-slide\">\n                {% if block.settings.circle_image != blank %}\n                  <img src=\"{{ block.settings.circle_image | image_url }}\" alt=\"{{ block.settings.circle_image }}\" {% if lazy %}loading=\"lazy\"{% endif %}>\n                {% elsif block.settings.image != blank %}\n                  <img src=\"{{ block.settings.image | image_url }}\" alt=\"{{ block.settings.image }}\" {% if lazy %}loading=\"lazy\"{% endif %}>\n                {% else %}\n                  {{ 'image' | placeholder_svg_tag }}\n                {% endif %}\n              </div>\n            {% endfor %}\n          </div>\n        </div>\n        <button class=\"instafeed-btn-prev-{{ section.id }}\">\n          <span class=\"animate-icon\"></span>\n        </button>\n        <button class=\"instafeed-btn-next-{{ section.id }}\">\n          <span class=\"animate-icon\"></span>\n        </button> \n      </div>\n    </div>\n</div>\n\n<div class=\"instafeed-modal-{{ section.id }}\">\n  <button class=\"instafeed-modal-close-{{ section.id }}\">\n    <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\n      <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M12.0002 10.586L4.70718 3.29297L3.29297 4.70718L10.586 12.0002L3.29297 19.2933L4.70718 20.7075L12.0002 13.4145L19.2933 20.7075L20.7075 19.2933L13.4145 12.0002L20.7075 4.70723L19.2933 3.29302L12.0002 10.586Z\" fill=\"white\"></path>\n    </svg>\n  </button>\n  <div class=\"instafeed-modal-inner-{{ section.id }}\">\n    <button class=\"instafeed-modal-btn-prev-{{ section.id }}\">\n      <svg width=\"24\" height=\"24\" viewBox=\"0 0 44.308 44.308\" fill=\"#fff\" xmlns=\"http://www.w3.org/2000/svg\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M31.767 20.849 16.727 5.809a0.923 0.923 0 0 0 -1.305 0l-1.305 1.305a0.923 0.923 0 0 0 0 1.305L27.851 22.154l-13.735 13.734a0.923 0.923 0 0 0 0 1.305l1.306 1.305a0.923 0.923 0 0 0 1.305 0l15.04 -15.04a1.846 1.846 0 0 0 0 -2.61Z\"></path></svg>\n    </button>\n    <div class=\"instafeed-modal-slider-{{ section.id }} swiper\"\n      data-modal-slider-gap=\"{{ modal_slider_gap }}\"\n      data-modal-slider-view=\"{{ modal_slider_view }}\"\n      data-modal-slider-view-tablet=\"{{ modal_slider_view | times: 0.5 | round: 0 }}\"\n      data-modal-autoplay=\"{{ modal_autoplay }}\"\n      data-modal-autoplay-delay=\"{{ modal_autoplay_delay }}\">\n      <div class=\"swiper-wrapper\">\n        {% for block in section.blocks %}\n          <div class=\"instafeed-modal-slide-{{ section.id }} swiper-slide\">\n            <div class=\"instafeed-modal-image-{{ section.id }}\">\n              {% if block.settings.image != blank %}\n                <img src=\"{{ block.settings.image | image_url }}\" alt=\"{{ block.settings.image }}\" {% if lazy %}loading=\"lazy\"{% endif %}>\n              {% else %}\n                {{ 'image' | placeholder_svg_tag }}\n              {% endif %}\n  \n              <div class=\"instafeed-modal-slide-top-{{ section.id }}\">\n                {% if modal_autoplay %}\n                  <progress id=\"progress{{ section.id | replate: '-', '' }}\" max=\"100\" value=\"0\" data-first-prog=\"{{ modal_autoplay_delay | times: 1000 | minus: 1300 }}\" data-prog=\"{{ modal_autoplay_delay | times: 1000 | minus: 500 }}\"></progress>\n                {% endif %}\n                <div class=\"instafeed-modal-slide-row-{{ section.id }}\">\n                  <div class=\"instafeed-modal-slide-circle-{{ section.id }}\">\n                    {% if block.settings.image != blank %}\n                      <img src=\"{{ block.settings.image | image_url }}\" alt=\"{{ block.settings.image }}\" {% if lazy %}loading=\"lazy\"{% endif %}>\n                    {% else %}\n                      {{ 'image' | placeholder_svg_tag }}\n                    {% endif %}\n                  </div>\n                  {% if block.settings.author != blank %}\n                    <p class=\"instafeed-modal-slide-author-{{ section.id }}\">{{ block.settings.author }}</p>\n                  {% endif %}\n                </div>\n              </div>\n  \n              {% if block.settings.text != blank %}\n                <p class=\"instafeed-modal-slide-text-{{ section.id }}\">{{ block.settings.text }}</p>\n              {% endif %}\n\n            </div>\n\n            {% if block.settings.products != blank %}\n              <p class=\"instafeed-modal-slide-toggle-{{ section.id }}\" id=\"{{ block.id }}\">{{ toggle_text }}</p>\n            {% endif %}\n          </div>\n        {% endfor %}\n      </div>\n    </div>\n    <button class=\"instafeed-modal-btn-next-{{ section.id }}\">\n      <svg width=\"24\" height=\"24\" viewBox=\"0 0 44.308 44.308\" fill=\"#fff\" xmlns=\"http://www.w3.org/2000/svg\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M31.767 20.849 16.727 5.809a0.923 0.923 0 0 0 -1.305 0l-1.305 1.305a0.923 0.923 0 0 0 0 1.305L27.851 22.154l-13.735 13.734a0.923 0.923 0 0 0 0 1.305l1.306 1.305a0.923 0.923 0 0 0 1.305 0l15.04 -15.04a1.846 1.846 0 0 0 0 -2.61Z\"></path></svg>\n    </button>\n  </div>\n</div>\n\n<div class=\"instafeed-products-modal-{{ section.id }}\">\n  <div class=\"instafeed-products-modal-inner-{{ section.id }}\">\n   {% for block in section.blocks %}\n      {% if block.settings.products != blank %}\n        <div class=\"instafeed-products-modal-grid-{{ section.id }}\" data-id=\"{{ block.id }}\">\n          {% for product in block.settings.products %}\n            <div class=\"instafeed-product-card-{{ section.id }}\">\n              <a href=\"{{ product.url }}\" class=\"instafeed-product-image-{{ section.id }}\">\n                {% if product.featured_image != blank %}\n                  <img src=\"{{ product.featured_image | image_url }}\" alt=\"{{ product.featured_image.alt }}\" {% if lazy %}loading=\"lazy\"{% endif %}>\n                {% else %}\n                  {{ 'image' | svg_placeholder_tag }}\n                {% endif %}\n              </a>\n              <a href=\"{{ product.url }}\" class=\"instafeed-product-title-{{ section.id }}\">{{ product.title }}</a>\n              {% if product.metafields.custom.specs.value != blank %}\n                <div class=\"instafeed-product-details-{{ section.id }}\"><p>{{ product.metafields.custom.specs.value }}</p></div> \n              {% endif %}\n            </div>\n          {% endfor %}\n        </div>\n      {% endif %}\n            \n    {% endfor %}\n\n     <p class=\"instafeed-modal-slide-toggle-{{ section.id }} instafeed-modal-slide-hide-toggle-{{ section.id }}\">{{ toggle_hide_text }}</p>\n  </div>\n</div>\n\n<script>\n  function loadSwiper(callback) {\n  if (window.Swiper) {\n    callback();\n  } else {\n    const script = document.createElement('script');\n    script.src = \"https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js\";\n    script.onload = callback;\n    document.head.appendChild(script);\n  }\n}\n\nfunction initInstafeed8(sectionId) {\n  const sliderElement = document.querySelector(`.instafeed-slider-${sectionId}`);\n  if (!sliderElement) return;\n  \n  sliderElement.classList.remove('preview');\n\n  const settings = {\n    sliderViewMobile: parseFloat(sliderElement.dataset.sliderViewMobile),\n    sliderGapMobile: parseInt(sliderElement.dataset.sliderGapMobile),\n    sliderGap: parseInt(sliderElement.dataset.sliderGap),\n    sliderView: parseInt(sliderElement.dataset.sliderView),\n    sliderViewTablet: parseInt(sliderElement.dataset.sliderViewTablet),\n  };\n\n  const slider = new Swiper(`.instafeed-slider-${sectionId}`, {\n    speed: 300,\n    loop: true,\n    navigation: {\n      nextEl: `.instafeed-btn-next-${sectionId}`,\n      prevEl: `.instafeed-btn-prev-${sectionId}`\n    },\n    breakpoints: {\n      320: {\n        spaceBetween: settings.sliderGapMobile,\n        slidesPerView: settings.sliderViewMobile\n      },\n      768: {\n        spaceBetween: settings.sliderGapMobile,\n        slidesPerView: settings.sliderViewTablet\n      },\n      1024: {\n        spaceBetween: settings.sliderGap,\n        slidesPerView: settings.sliderView\n      }\n    }\n  });\n\n  const modalSliderElement = document.querySelector(`.instafeed-modal-slider-${sectionId}`);\n  if (!modalSliderElement) return;\n\n  const modalSettings = {\n    modalSliderGap: parseInt(modalSliderElement.dataset.modalSliderGap),\n    modalSliderView: parseInt(modalSliderElement.dataset.modalSliderView),\n    modalSliderViewTablet: parseInt(modalSliderElement.dataset.modalSliderViewTablet),\n    modalAutoplay: modalSliderElement.dataset.modalAutoplay === 'true',\n    modalAutoplayDelay: parseInt(modalSliderElement.dataset.modalAutoplayDelay),\n  };\n\n  // Создаем конфигурацию для модального слайдера\n  const modalSliderConfig = {\n    speed: 300,\n    centeredSlides: true,\n    mousewheel: {\n      invert: false,\n    },\n    breakpoints: {\n      320: {\n        spaceBetween: 20,\n        slidesPerView: 1\n      },\n      768: {\n        spaceBetween: 20,\n        slidesPerView: modalSettings.modalSliderViewTablet\n      },\n      1024: {\n        spaceBetween: modalSettings.modalSliderGap,\n        slidesPerView: modalSettings.modalSliderView\n      }\n    },\n    navigation: {\n      nextEl: `.instafeed-modal-btn-next-${sectionId}`,\n      prevEl: `.instafeed-modal-btn-prev-${sectionId}`\n    },\n    // Настраиваем автоплей здесь\n    autoplay: {\n      delay: modalSettings.modalAutoplayDelay * 1000,\n      disableOnInteraction: false,\n      pauseOnMouseEnter: true,\n      waitForTransition: true,\n      enabled: false // Изначально выключен\n    }\n  };\n\n  const modalSlider = new Swiper(modalSliderElement, modalSliderConfig);\n\n  let slides = document.querySelectorAll(`.instafeed-slide-${sectionId}`);\n  let modal = document.querySelector(`.instafeed-modal-${sectionId}`);\n  let modalClose = document.querySelector(`.instafeed-modal-close-${sectionId}`);\n  let modalSlides = document.querySelectorAll(`.instafeed-modal-slide-${sectionId}`);\n  let isModalOpening = false;\n\n  function startModalSlider(activeProgress) {\n    return new Promise((resolve) => {\n      if (!activeProgress) {\n        resolve();\n        return;\n      }\n\n      // Сбрасываем прогресс\n      activeProgress.value = 0;\n\n      // Задержка перед стартом\n      setTimeout(() => {\n        const startTime = Date.now();\n        const duration = (modalSettings.modalAutoplayDelay * 1000) - 500;\n\n        function updateProgress() {\n          const elapsed = Date.now() - startTime;\n          const progress = Math.min((elapsed / duration) * 100, 100);\n          activeProgress.value = progress;\n\n          if (progress < 100 && modal.classList.contains('active')) {\n            requestAnimationFrame(updateProgress);\n          }\n        }\n\n        // Запускаем прогресс-бар\n        requestAnimationFrame(updateProgress);\n\n        // Включаем автоплей\n        modalSlider.autoplay.enabled = true;\n        modalSlider.autoplay.start();\n\n        resolve();\n      }, 800); // Задержка перед стартом\n    });\n  }\n\n  if(slides) {\n    slides.forEach((el, index) => {\n      el.addEventListener('click', async () => {\n        if (isModalOpening) return;\n        isModalOpening = true;\n\n        // Останавливаем автоплей если он был запущен\n        modalSlider.autoplay.stop();\n        modalSlider.autoplay.enabled = false;\n\n        modalSlider.slideToLoop(index + 1);\n        modalSlider.slideToLoop(index);\n\n        setTimeout(async () => {\n          modalSlider.slides.forEach(async (slide) => {\n            if(slide.classList.contains('swiper-slide-active')) {\n              document.body.style.overflow = 'hidden';\n              modal.classList.add('active');\n\n              if (modalSettings.modalAutoplay) {\n                // Сбрасываем все прогресс-бары\n                modalSlides.forEach(slide => {\n                  const prog = slide.querySelector('progress');\n                  if(prog) {\n                    prog.value = 0;\n                  }\n                });\n\n                const activeSlide = modalSlider.slides[modalSlider.activeIndex];\n                const activeProgress = activeSlide.querySelector('progress');\n\n                await startModalSlider(activeProgress);\n                isModalOpening = false;\n              }\n            }\n          });\n        }, 200);\n      });\n    });\n  }\n\n  modalSlider.on('slideChange', async function() {\n    if (!modal.classList.contains('active')) return;\n\n    modalSlider.autoplay.stop();\n\n    modalSlides.forEach(slide => {\n      const prog = slide.querySelector('progress');\n      if(prog) {\n        prog.value = 0;\n      }\n    });\n\n    const activeSlide = modalSlider.slides[modalSlider.activeIndex];\n    const activeProgress = activeSlide.querySelector('progress');\n\n    // Небольшая задержка перед запуском нового слайда\n    setTimeout(() => {\n      const startTime = Date.now();\n      const duration = (modalSettings.modalAutoplayDelay * 1000) - 500;\n\n      function updateProgress() {\n        const elapsed = Date.now() - startTime;\n        const progress = Math.min((elapsed / duration) * 100, 100);\n        activeProgress.value = progress;\n\n        if (progress < 100 && modal.classList.contains('active')) {\n          requestAnimationFrame(updateProgress);\n        }\n      }\n\n      requestAnimationFrame(updateProgress);\n      modalSlider.autoplay.start();\n    }, 100);\n  });\n\n  function closeModal() {\n    document.body.style.overflow = '';\n    modal.classList.remove('active');\n    modalSlider.autoplay.stop();\n    modalSlider.autoplay.enabled = false;\n    isModalOpening = false;\n\n    modalSlides.forEach(slide => {\n      const prog = slide.querySelector('progress');\n      if(prog) {\n        prog.value = 0;\n      }\n    });\n  }\n\n  if(modalClose) {\n    modalClose.addEventListener('click', closeModal);\n  }\n\n  document.addEventListener('click', (e) => {\n    if (e.target == modal) {\n      closeModal();\n    }\n  });\n\n  let toggles = document.querySelectorAll(`.instafeed-modal-slide-toggle-${sectionId}`);\n  let productsModal = document.querySelector(`.instafeed-products-modal-${sectionId}`);\n  let hideToggle = document.querySelector(`.instafeed-modal-slide-hide-toggle-${sectionId}`);\n\n  if(toggles) {\n    toggles.forEach(el => {\n      el.addEventListener('click', () => {\n        if(productsModal) {\n          productsModal.classList.add('active');\n\n          let productsGrid = productsModal.querySelectorAll(`.instafeed-products-modal-grid-${sectionId}`);\n          if(productsGrid) {\n            productsGrid.forEach(element => {\n              let dataId = element.getAttribute('data-id');\n\n              if(el.id != dataId) {\n                element.style.display = \"none\";\n              }\n            });\n          }\n        }\n      });\n    });\n  }\n\n  document.addEventListener('click', (e) => {\n    if (e.target == productsModal) {\n      productsModal.classList.remove('active');\n      if(productsModal) {\n        let productsGrid = productsModal.querySelectorAll(`.instafeed-products-modal-grid-${sectionId}`);\n        if(productsGrid) {\n          productsGrid.forEach(element => {\n            element.style.display = \"flex\";\n          });\n        } \n      }\n    }\n  });\n\n  if(hideToggle) {\n    hideToggle.addEventListener('click', (e) => {\n      productsModal.classList.remove('active');\n      if(productsModal) {\n        let productsGrid = productsModal.querySelectorAll(`.instafeed-products-modal-grid-${sectionId}`);\n        if(productsGrid) {\n          productsGrid.forEach(element => {\n            element.style.display = \"flex\";\n          });\n        } \n      }\n    });\n  }\n}\n\nfunction initializeAllInstafeed8Sections() {\n  const sections = document.querySelectorAll('[id^=\"shopify-section-\"]');\n  sections.forEach(section => {\n    if (section.querySelector('.instafeed-{{ section.id }}')) {\n      const sectionId = section.id.replace('shopify-section-', '');\n      loadSwiper(() => initInstafeed8(sectionId));\n    }\n  });\n}\n\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', initializeAllInstafeed8Sections);\n} else {\n  initializeAllInstafeed8Sections();\n}\n\nif (Shopify.designMode) {\n  document.addEventListener('shopify:section:load', (event) => {\n    const sectionId = event.detail.sectionId;\n    if (event.target.querySelector('.instafeed-{{ section.id }}')) {\n      loadSwiper(() => initInstafeed8(sectionId));\n    }\n  });\n}\n</script>",
  "variables": {}
}