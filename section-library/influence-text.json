{
  "id": "influence-text",
  "name": "CUSTOM Stats",
  "description": "Section: CUSTOM Stats",
  "tags": [
    "influence"
  ],
  "type": "custom",
  "liquid_code": "{%- liquid\n  assign padding_horizontal = section.settings.padding_horizontal\n  assign padding_horizontal_mobile = section.settings.padding_horizontal_mobile\n  assign padding_top = section.settings.padding_top\n  assign padding_bottom = section.settings.padding_bottom\n  assign border_color = section.settings.border_color\n  assign border_thickness = section.settings.border_thickness\n  assign margin_top = section.settings.margin_top\n  assign margin_bottom = section.settings.margin_bottom\n  assign background_color = section.settings.background_color\n  assign background_gradient = section.settings.background_gradient\n  assign content_width = section.settings.content_width\n  assign full_width = section.settings.full_width\n\n  assign stack_mobile = section.settings.stack_mobile\n  assign divider = section.settings.divider\n  assign items_gap = section.settings.items_gap\n  assign items_gap_mobile = section.settings.items_gap_mobile\n\n  assign divider = section.settings.divider\n  assign divider_color = section.settings.divider_color\n  assign number_animation = section.settings.number_animation\n-%}\n\n{%- style -%}\n  .section-{{ section.id }} {\n    border-top: solid {{ border_color }} {{ border_thickness }}px;\n    border-bottom: solid {{ border_color }} {{ border_thickness }}px;\n    margin-top: {{ margin_top | times: 0.75 | round: 0 }}px;\n    margin-bottom: {{ margin_bottom | times: 0.75 | round: 0 }}px;\n  }\n\n  .section-{{ section.id }}-settings {\n    margin: 0 auto;\n    padding-top: {{ padding_top | times: 0.75 | round: 0 }}px;\n    padding-bottom: {{ padding_bottom | times: 0.75 | round: 0 }}px;\n    padding-left: {{ padding_horizontal_mobile }}rem;\n    padding-right: {{ padding_horizontal_mobile }}rem;\n  }\n\n  .style-text-items-{{ section.id }} {\n    display: grid;\n    grid-template-columns: repeat( auto-fit, minmax(0px, 1fr) );\n    gap: {{ items_gap_mobile }}px;\n  }\n\n  @media(min-width: 1024px) {\n\n    .section-{{ section.id }} {\n      margin-top: {{ margin_top }}px;\n      margin-bottom: {{ margin_bottom }}px;\n    }\n\n    .section-{{ section.id }}-settings {\n      padding: 0 5rem;\n      padding-top: {{ padding_top }}px;\n      padding-bottom: {{ padding_bottom }}px;\n      padding-left: {{ padding_horizontal }}rem;\n      padding-right: {{ padding_horizontal }}rem;\n    }\n\n    .style-text-items-{{ section.id }} {\n      gap: {{ items_gap }}px;\n    }\n  }\n{%- endstyle -%}\n\n{% unless full_width %}\n  <style>\n    .section-{{ section.id }}-settings {\n      max-width: {{ content_width }}rem;\n    }\n  </style>\n{% endunless %}\n\n{% if stack_mobile %}\n  <style>\n    .style-text-items-{{ section.id }} {\n      display: block;\n    }\n\n    @media(min-width: 1024px) {\n      .style-text-items-{{ section.id }} {\n        display: grid;\n      }\n    }\n\n    {% for block in section.blocks %}\n      <style>\n        .style-text-item-{{ block.id }}:not(:first-child) {\n          margin-top: {{ items_gap_mobile }}px;\n        }\n        @media(min-width: 1024px) {\n          .style-text-item-{{ block.id }}:not(:first-child) {\n            margin-top: 0px;\n          }\n        }\n      </style>\n    {% endfor %}\n  </style>\n{% endif %}\n\n{% for block in section.blocks %}\n  <style>\n    {{ block.settings.heading_font | font_face: font_display: 'swap' }}\n    {{ block.settings.sub_heading_font | font_face: font_display: 'swap' }}\n    {{ block.settings.content_font | font_face: font_display: 'swap' }}\n    {{ block.settings.link_font | font_face: font_display: 'swap' }}\n\n    .style-text-item-{{ block.id }} {\n      flex: 1 1 auto;\n      position: relative;\n    }\n\n    .style-text-heading-{{ block.id }} {\n      margin: 0;\n      font-size: {{ block.settings.heading_size_mobile }}px;\n      font-weight: 700;\n      line-height: {{ block.settings.heading_height }}%;\n      text-transform: unset;\n      text-align: {{ block.settings.heading_align }};\n    }\n\n    .style-text-subheading-{{ block.id }} {\n      margin: 0;\n      margin-top: {{ block.settings.sub_heading_mt | times: 0.75 | round: 0 }}px;\n      font-size: {{ block.settings.sub_heading_size_mobile }}px;\n      font-weight: 600;\n      color: {{ block.settings.sub_heading_color }};\n      line-height: {{ block.settings.sub_heading_height }}%;\n      text-transform: unset;\n      text-align: {{ block.settings.sub_heading_align }};\n    }\n\n    .style-text-content-{{ block.id }} {\n      margin: 0;\n      margin-top: {{ block.settings.content_mt | times: 0.75 | round: 0 }}px;\n      text-align: {{ block.settings.content_align }};\n    }\n\n    .style-text-content-{{ block.id }} p,\n    .style-text-content-{{ block.id }} a,\n    .style-text-content-{{ block.id }} li {\n      font-size: {{ block.settings.content_size_mobile }}px;\n      color: {{ block.settings.content_color }};\n      line-height: {{ block.settings.content_height }}%;\n      text-transform: unset;\n      text-decoration: none;\n      transition: all 0.2s ease 0s;\n    }\n\n    .style-text-content-{{ block.id }} a {\n      transition: all 0.2s ease 0s;\n      color: {{ block.settings.link_hover_color }};\n    }\n\n    .style-text-link-{{ block.id }} {\n      display: block;\n      width: fit-content;\n      margin: 0;\n      margin-top: {{ block.settings.link_mt | times: 0.75 | round: 0 }}px;\n      font-size: {{ block.settings.link_size_mobile }}px;\n      color: {{ block.settings.link_color }};\n      line-height: {{ block.settings.link_height }}%;\n      text-transform: unset;\n      text-decoration: none;\n      transition: all 0.2s ease 0s;\n    }\n\n    .style-text-link-{{ block.id }}:hover {\n      transition: all 0.2s ease 0s;\n      color: {{ block.settings.link_hover_color }};\n    }\n\n    @media(min-width: 1024px) {\n      .style-text-heading-{{ block.id }} {\n        font-size: {{ block.settings.heading_size }}px;\n      }\n\n      .style-text-subheading-{{ block.id }} {\n        margin-top: {{ block.settings.sub_heading_mt }}px;\n        font-size: {{ block.settings.sub_heading_size }}px;\n      }\n\n      .style-text-content-{{ block.id }} {\n         margin-top: {{ block.settings.content_mt }}px;\n      }\n\n      .style-text-content-{{ block.id }} p,\n      .style-text-content-{{ block.id }} a,\n      .style-text-content-{{ block.id }} li {\n        font-size: {{ block.settings.content_size }}px;\n      }\n\n      .style-text-link-{{ block.id }} {\n        margin-top: {{ block.settings.link_mt }}px;\n        font-size: {{ block.settings.link_size }}px;\n      }\n    }\n  </style>\n\n  {% if block.settings.heading_custom %}\n    <style>\n      .style-text-heading-{{ block.id }} {\n        font-family: {{ block.settings.heading_font.family }}, {{ block.settings.heading_font.fallback_families }};\n        font-weight: {{ block.settings.heading_font.weight }};\n        font-style: {{ block.settings.heading_font.style }};\n      }\n    </style>\n  {% endif %}\n\n  {% if block.settings.sub_heading_custom %}\n    <style>\n      .style-text-subheading-{{ block.id }} {\n        font-family: {{ block.settings.sub_heading_font.family }}, {{ block.settings.sub_heading_font.fallback_families }};\n        font-weight: {{ block.settings.sub_heading_font.weight }};\n        font-style: {{ block.settings.sub_heading_font.style }};\n      }\n    </style>\n  {% endif %}\n\n  {% if block.settings.content_custom %}\n    <style>\n      .style-text-content-{{ block.id }} p,\n      .style-text-content-{{ block.id }} a,\n      .style-text-content-{{ block.id }} li {\n        font-family: {{ block.settings.content_font.family }}, {{ block.settings.content_font.fallback_families }};\n        font-weight: {{ block.settings.content_font.weight }};\n        font-style: {{ block.settings.content_font.style }};\n      }\n    </style>\n  {% endif %}\n\n  {% if block.settings.link_custom %}\n    <style>\n      .style-text-link-{{ block.id }} {\n        font-family: {{ block.settings.link_font.family }}, {{ block.settings.link_font.fallback_families }};\n        font-weight: {{ block.settings.link_font.weight }};\n        font-style: {{ block.settings.link_font.style }};\n      }\n    </style>\n  {% endif %}\n\n  {% if block.settings.heading_style == 'fill' %}\n    {% if block.settings.heading_gradient_color == blank %}\n      <style>\n        .style-text-heading-{{ block.id }} {\n          color: {{ block.settings.heading_color }};\n        }\n      </style>\n\n    {% else %}\n      <style>\n        .style-text-heading-{{ block.id }} {\n          -webkit-background-clip: text !important;\n          color: transparent;\n          background: {{ block.settings.heading_gradient_color }};\n        }\n      </style>\n    {% endif %}\n  {% else %}\n    {% if block.settings.heading_gradient_color == blank %}\n      <style>\n        .style-text-heading-{{ block.id }} {\n          -webkit-text-stroke: {{ block.settings.heading_outline_thickness }}px {{ block.settings.heading_color }};\n          color: transparent;\n        }\n      </style>\n\n    {% else %}\n      <style>\n        .style-text-heading-{{ block.id }} {\n          -webkit-text-stroke: {{ block.settings.heading_outline_thickness }}px transparent;\n          -webkit-background-clip: text !important;\n          color: white;\n          background: {{ block.settings.heading_gradient_color }};\n        }\n      </style>\n    {% endif %}\n  {% endif %}\n\n  {% if block.settings.link_style == 'button' %}\n    <style>\n      .style-text-link-{{ block.id }} {\n        background-color: {{ block.settings.link_bg_color }};\n        padding: {{ block.settings.link_padding_vertical | times: 0.75 | round: 0 }}px {{ block.settings.link_padding_horizontal | times: 0.75 | round: 0 }}px;\n        border-radius: {{ block.settings.link_radius }}px;\n        border: {{ block.settings.link_thickness }}px solid {{ block.settings.link_border_color }};\n      }\n\n      .style-text-link-{{ block.id }}:hover {\n        color: {{ block.settings.link_hover_color }};\n        background-color: {{ block.settings.link_bg_hover_color }};\n        border: {{ block.settings.link_thickness }}px solid {{ block.settings.link_border_hover_color }};\n        transition: all 0.2s ease 0s;\n      }\n\n      @media(min-width: 1024px) {\n        .style-text-link-{{ block.id }} {\n          padding: {{ block.settings.link_padding_vertical }}px {{ block.settings.link_padding_horizontal }}px;\n        }\n      }\n    </style>\n  {% endif %}\n\n  {% if divider == 'square' %}\n    <style>\n      .style-text-item-{{ block.id }}:not(:first-child):before {\n        content: '';\n        position: absolute;\n        width: 8px;\n        height: 8px;\n        background-color: {{ divider_color }};\n      }\n    </style>\n\n    {% if stack_mobile %}\n      <style>\n        .style-text-item-{{ block.id }}:not(:first-child):before {\n          top: -{{ items_gap_mobile | times: 0.5 | round: 0 }}px;\n          left: 50%;\n          transform: translate(-50%, 0);\n        }\n\n        @media(min-width: 1024px) {\n          .style-text-item-{{ block.id }}:not(:first-child):before {\n            top: 50%;\n            left: -{{ items_gap | times: 0.5 | round: 0 }}px;\n            transform: translate(0, -50%);\n          }\n        }\n      </style>\n\n    {% else %}\n      <style>\n        .style-text-item-{{ block.id }}:not(:first-child):before {\n          top: 50%;\n          left: -{{ items_gap_mobile | times: 0.5 | round: 0 }}px;\n          transform: translate(0, -50%);\n        }\n\n        @media(min-width: 1024px) {\n          .style-text-item-{{ block.id }}:not(:first-child):before {\n            top: 50%;\n            left: -{{ items_gap | times: 0.5 | round: 0 }}px;\n            transform: translate(0, -50%);\n          }\n        }\n      </style>\n    {% endif %}\n\n  {% elsif divider == 'circle' %}\n    <style>\n      .style-text-item-{{ block.id }}:not(:first-child):before {\n        content: '';\n        position: absolute;\n        width: 8px;\n        height: 8px;\n        border-radius: 50%;\n        background-color: {{ divider_color }};\n      }\n    </style>\n\n    {% if stack_mobile %}\n      <style>\n        .style-text-item-{{ block.id }}:not(:first-child):before {\n          top: -{{ items_gap_mobile | times: 0.5 | round: 0 }}px;\n          left: 50%;\n          transform: translate(-50%, 0);\n        }\n\n        @media(min-width: 1024px) {\n          .style-text-item-{{ block.id }}:not(:first-child):before {\n            top: 50%;\n            left: -{{ items_gap | times: 0.5 | round: 0 }}px;\n            transform: translate(0, -50%);\n          }\n        }\n      </style>\n\n    {% else %}\n      <style>\n        .style-text-item-{{ block.id }}:not(:first-child):before {\n          top: 50%;\n          left: -{{ items_gap_mobile | times: 0.5 | round: 0 }}px;\n          transform: translate(0, -50%);\n        }\n\n        @media(min-width: 1024px) {\n          .style-text-item-{{ block.id }}:not(:first-child):before {\n            top: 50%;\n            left: -{{ items_gap | times: 0.5 | round: 0 }}px;\n            transform: translate(0, -50%);\n          }\n        }\n      </style>\n    {% endif %}\n\n  {% elsif divider == 'diamond' %}\n    <style>\n      .style-text-item-{{ block.id }}:not(:first-child):before {\n        content: '';\n        position: absolute;\n        width: 8px;\n        height: 8px;\n        background-color: {{ divider_color }};\n      }\n    </style>\n\n    {% if stack_mobile %}\n      <style>\n        .style-text-item-{{ block.id }}:not(:first-child):before {\n          top: -{{ items_gap_mobile | times: 0.5 | round: 0 }}px;\n          left: 50%;\n          transform: translate(-50%, 0) rotate(45deg);\n        }\n\n        @media(min-width: 1024px) {\n          .style-text-item-{{ block.id }}:not(:first-child):before {\n              top: 50%;\n              left: -{{ items_gap | times: 0.5 | round: 0 }}px;\n              transform: translate(0, -50%) rotate(45deg);\n            }\n        }\n      </style>\n\n    {% else %}\n      <style>\n        .style-text-item-{{ block.id }}:not(:first-child):before {\n          top: 50%;\n          left: -{{ items_gap_mobile | times: 0.5 | round: 0 }}px;\n          transform: translate(0, -50%) rotate(45deg);\n        }\n\n        @media(min-width: 1024px) {\n          .style-text-item-{{ block.id }}:not(:first-child):before {\n              top: 50%;\n              left: -{{ items_gap | times: 0.5 | round: 0 }}px;\n              transform: translate(0, -50%) rotate(45deg);\n            }\n        }\n      </style>\n    {% endif %}\n\n  {% elsif divider == 'line' %}\n    <style>\n      .style-text-item-{{ block.id }}:not(:first-child):before {\n        content: '';\n        position: absolute;\n        width: 1px;\n        height: 100%;\n        background-color: {{ divider_color }};\n      }\n    </style>\n\n    {% if stack_mobile %}\n      <style>\n        .style-text-item-{{ block.id }}:not(:first-child):before {\n          width: 100%;\n          height: 1px;\n          top: -{{ items_gap_mobile | times: 0.5 | round: 0 }}px;\n          left: 50%;\n          transform: translate(-50%, 0);\n        }\n\n        @media(min-width: 1024px) {\n          .style-text-item-{{ block.id }}:not(:first-child):before {\n            width: 1px;\n            height: 100%;\n            top: 50%;\n            left: -{{ items_gap | times: 0.5 | round: 0 }}px;\n            transform: translate(0, -50%);\n          }\n        }\n      </style>\n\n    {% else %}\n      <style>\n          .style-text-item-{{ block.id }}:not(:first-child):before {\n            top: 50%;\n            left: -{{ items_gap_mobile | times: 0.5 | round: 0 }}px;\n            transform: translate(0, -50%);\n          }\n\n          @media(min-width: 1024px) {\n          .style-text-item-{{ block.id }}:not(:first-child):before {\n            top: 50%;\n            left: -{{ items_gap | times: 0.5 | round: 0 }}px;\n            transform: translate(0, -50%);\n          }\n        }\n      </style>\n    {% endif %}\n  {% endif %}\n\n  {% if block.settings.link_align == 'center' %}\n    <style>\n      .style-text-link-{{ block.id }} {\n        margin-left: auto;\n        margin-right: auto;\n      }\n    </style>\n  {% elsif block.settings.link_align == 'right' %}\n    <style>\n      .style-text-link-{{ block.id }} {\n        margin-left: auto;\n      }\n    </style>\n  {% endif %}\n{% endfor %}\n<div\n  class=\"section-{{ section.id }} style-text-{{ section.id }}\"\n  style=\"background-color:{{ background_color }}; background-image: {{ background_gradient }};\"\n>\n  <div class=\"section-{{ section.id }}-settings style-text-items-{{ section.id }}\">\n    {% for block in section.blocks %}\n      <div class=\"style-text-item-{{ block.id }}\">\n        {% if block.settings.heading != blank %}\n          <h2\n            id=\"style-text-animation-numbers-{{ block.id }}\"\n            data-duration=\"{{ block.settings.number_duration | times:1000 | round }}\"\n            class=\"style-text-animation-numbers style-text-heading-{{ block.id }}\"\n          >\n            {{ block.settings.heading }}\n          </h2>\n        {% endif %}\n        {% if block.settings.sub_heading != blank %}\n          <p class=\"style-text-subheading-{{ block.id }}\">{{ block.settings.sub_heading }}</p>\n        {% endif %}\n        {% if block.settings.content != blank %}\n          <div class=\"style-text-content-{{ block.id }}\">\n            {{ block.settings.content }}\n          </div>\n        {% endif %}\n        {% if block.settings.link != blank %}\n          <a href=\"{{ block.settings.link_url }}\" class=\"style-text-link-{{ block.id }}\">{{ block.settings.link }}</a>\n        {% endif %}\n      </div>\n    {% endfor %}\n  </div>\n</div>\n\n{% if number_animation %}\n  <script>\n    document.addEventListener('DOMContentLoaded', () => {\n      console.log('script tag');\n      const animSection = document.querySelector('.style-text-{{ section.id }}');\n\n      // Set up the intersection observer with a callback\n      const intersectionObserver = new IntersectionObserver(\n        (entries) => {\n          entries.forEach((entry) => {\n            if (entry.isIntersecting) {\n              initStyleText();\n              intersectionObserver.unobserve(entry.target);\n            }\n          });\n        },\n        {\n          root: null,\n          rootMargin: '0px',\n          threshold: 0.5,\n        }\n      );\n\n      // Start observing the target element\n      if (animSection) {\n        intersectionObserver.observe(animSection);\n      } else {\n        console.log('Target section not found.');\n      }\n\n      function initStyleText() {\n        console.log('initStyleText called');\n        const animFields = document.querySelectorAll('.style-text-animation-numbers');\n\n        if (animFields) {\n          animFields.forEach((element) => {\n            let text = element.innerText;\n            let number = parseFloat(text.replace(/[^\\d.,-]/g, ''));\n            let prefixText = text.match(/^[^\\d.,-]*/)[0]; // Match non-numeric characters at the beginning\n            let suffixText = text.match(/[^\\d.,-]*$/)[0]; // Match non-numeric characters at the end\n            const animationDuration = parseInt(element.getAttribute('data-duration'), 10);\n\n            if (!isNaN(number)) {\n              let start = 0;\n              let end = number;\n              const totalFrames = Math.ceil(animationDuration / 16); // 16ms per frame for smooth animation\n              const step = (end - start) / totalFrames;\n\n              animateValue(element, start, end, step, totalFrames);\n\n              function animateValue(element, start, end, step, totalFrames) {\n                let current = start;\n                let frameCount = 0;\n                const timer = setInterval(() => {\n                  current += step;\n                  frameCount++;\n                  element.innerHTML = prefixText + current.toFixed(countDecimalDigits(end)) + suffixText;\n                  if (frameCount >= totalFrames) {\n                    clearInterval(timer);\n                    element.innerHTML = prefixText + end.toFixed(countDecimalDigits(end)) + suffixText; // Ensure final value is exact\n                  }\n                }, 16);\n              }\n\n              function countDecimalDigits(number) {\n                const decimalPart = number.toString().split('.')[1];\n                return decimalPart ? decimalPart.length : 0;\n              }\n            }\n          });\n        }\n      }\n    });\n  </script>\n{% endif %}",
  "variables": {
    "number_animation": {
      "type": "text",
      "default": "true",
      "label": "Count Up Animation",
      "description": "Only numbers can be animated."
    },
    "stack_mobile": {
      "type": "text",
      "default": "",
      "label": "Stack on Mobile",
      "description": "Stack on Mobile"
    },
    "divider": {
      "type": "text",
      "default": "circle",
      "label": "Multiple Text Divider",
      "description": "Multiple Text Divider"
    },
    "items_gap": {
      "type": "text",
      "default": "50",
      "label": "Multiple Text Gap",
      "description": "Multiple Text Gap"
    },
    "items_gap_mobile": {
      "type": "text",
      "default": "50",
      "label": "Multiple Text Gap - Mobile",
      "description": "Multiple Text Gap - Mobile"
    },
    "full_width": {
      "type": "text",
      "default": "",
      "label": "Full Width",
      "description": "Full Width"
    },
    "content_width": {
      "type": "text",
      "default": "120",
      "label": "Section content width",
      "description": "Section content width"
    },
    "border_thickness": {
      "type": "text",
      "default": "0",
      "label": "Border thickness",
      "description": "Border thickness"
    },
    "background_color": {
      "type": "color",
      "default": "#FFFFFF",
      "label": "Section background",
      "description": "Section background"
    },
    "background_gradient": {
      "type": "color",
      "default": "",
      "label": "Section background gradient",
      "description": "When Selected to Replace 'Background Color'"
    },
    "border_color": {
      "type": "color",
      "default": "#000000",
      "label": "Border",
      "description": "Before you need to choose 'Border Thickness'"
    },
    "divider_color": {
      "type": "color",
      "default": "#000000",
      "label": "Divider Color",
      "description": "Divider Color"
    },
    "margin_top": {
      "type": "text",
      "default": "0",
      "label": "Margin top",
      "description": "Margin top"
    },
    "margin_bottom": {
      "type": "text",
      "default": "0",
      "label": "Margin bottom",
      "description": "Margin bottom"
    },
    "padding_top": {
      "type": "text",
      "default": "36",
      "label": "Padding top",
      "description": "Padding top"
    },
    "padding_bottom": {
      "type": "text",
      "default": "36",
      "label": "Padding bottom",
      "description": "Padding bottom"
    },
    "padding_horizontal": {
      "type": "text",
      "default": "5",
      "label": "Padding sides",
      "description": "Padding sides"
    },
    "padding_horizontal_mobile": {
      "type": "text",
      "default": "1.5",
      "label": "Padding sides mobile",
      "description": "Padding sides mobile"
    }
  }
}