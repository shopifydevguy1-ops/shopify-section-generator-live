{
  "id": "custom-video-pop-2",
  "name": "CUSTOM Video pop #2",
  "description": "Section: CUSTOM Video pop #2",
  "tags": [
    "video"
  ],
  "type": "custom",
  "liquid_code": "<link\n  rel=\"stylesheet\"\n  href=\"https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css\"\n/>\n\n{%- liquid \n\n  assign position = section.settings.position\n  assign horizontal_dst_to_edge = section.settings.horizontal_dst_to_edge\n  assign vertical_dst_to_edge = section.settings.vertical_dst_to_edge\n\n  assign video_width_mobile = section.settings.video_width_mobile\n  assign video_width = section.settings.video_width\n  assign video_height = section.settings.video_height\n  assign video_radius = section.settings.video_radius\n  assign video_border_thickness = section.settings.video_border_thickness\n  assign video_border_color = section.settings.video_border_color\n\n  assign heading_custom = section.settings.heading_custom\n  assign heading_font = section.settings.heading_font\n  assign heading_size = section.settings.heading_size\n  assign heading_size_mobile = section.settings.heading_size_mobile\n  assign heading_height = section.settings.heading_height  \n  assign heading_color = section.settings.heading_color\n\n  assign modal_width = section.settings.modal_width\n  assign modal_height = section.settings.modal_height\n  assign modal_radius = section.settings.modal_radius\n  assign modal_border_thickness = section.settings.modal_border_thickness\n  assign modal_border_color = section.settings.modal_border_color\n\n  assign modal_heading_text_custom = section.settings.modal_heading_text_custom\n  assign modal_heading_text_font = section.settings.modal_heading_text_font\n  assign modal_heading_text_size = section.settings.modal_heading_text_size\n  assign modal_heading_text_size_mobile = section.settings.modal_heading_text_size_mobile\n  assign modal_heading_text_height = section.settings.modal_heading_text_height  \n  assign modal_heading_text_color = section.settings.modal_heading_text_color\n  \n  assign modal_image_size = section.settings.modal_image_size\n  assign modal_image_size_mobile = section.settings.modal_image_size_mobile\n\n  assign product_padding_vertical = section.settings.product_padding_vertical\n  assign product_padding_vertical_mobile = section.settings.product_padding_vertical_mobile\n  assign product_padding_horizontal = section.settings.product_padding_horizontal\n  assign product_padding_horizontal_mobile = section.settings.product_padding_horizontal_mobile\n  assign product_radius = section.settings.product_radius\n\n  assign sound_size_mobile = section.settings.sound_size_mobile\n  assign sound_size = section.settings.sound_size\n  assign sound_border_thickness = section.settings.sound_border_thickness\n  assign sound_border_color = section.settings.sound_border_color\n  assign sound_border_hover_color = section.settings.sound_border_hover_color\n  assign sound_bg_color = section.settings.sound_bg_color\n  assign sound_bg_hover_color = section.settings.sound_bg_hover_color\n  assign sound_icon_color = section.settings.sound_icon_color\n  assign sound_icon_hover_color = section.settings.sound_icon_hover_color\n  assign use_sound = section.settings.use_sound\n  assign autoplay_sound = section.settings.autoplay_sound\n\n  assign title_custom = section.settings.title_custom\n  assign title_font = section.settings.title_font  \n  assign title_size = section.settings.title_size\n  assign title_size_mobile = section.settings.title_size_mobile\n  assign title_height = section.settings.title_height\n  assign title_color = section.settings.title_color\n\n  assign price_custom = section.settings.price_custom\n  assign price_font = section.settings.price_font\n  assign price_size = section.settings.price_size\n  assign price_size_mobile = section.settings.price_size_mobile\n  assign price_height = section.settings.price_height  \n  assign price_original_color = section.settings.price_original_color\n  assign price_compare = section.settings.price_compare\n\n  assign compare_price_color = section.settings.compare_price_color\n\n  assign product_image_radius = section.settings.product_image_radius  \n  assign product_image_size = section.settings.product_image_size \n  assign product_image_size_mobile = section.settings.product_image_size_mobile\n\n  assign use_progress = section.settings.use_progress\n\n  assign video = section.settings.video\n\n  assign close_color = section.settings.close_color\n  assign close_bg_color = section.settings.close_bg_color\n  assign modal_close_color = section.settings.modal_close_color\n\n  assign video_radius_mobile = section.settings.video_radius_mobile\n  assign video_height_mobile = section.settings.video_height_mobile\n\n  \n-%}\n\n{%- style -%}\n  {{ heading_font | font_face: font_display: 'swap' }}\n  {{ modal_heading_text_font | font_face: font_display: 'swap' }}\n  {{ title_font | font_face: font_display: 'swap' }}\n  {{ price_font | font_face: font_display: 'swap' }}\n\n  .video-popup-{{ section.id }} {\n    position: fixed;\n    z-index: 3;\n  }\n\n  .video-popup-{{ section.id }}.video-hide {\n    opacity: 0;\n    pointer-events: none;\n    z-index: -1;\n  }\n\n  .video-popup-wrapper-{{ section.id }} {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    transition: all 0.25s ease 0s;\n    position: relative;\n  }\n\n  .video-popup-wrapper-{{ section.id }}:hover {\n    transition: all 0.25s ease 0s;\n    transform: scale(103%);\n  }\n\n  .video-popup-inner-{{ section.id }} {\n      width: {{ video_width_mobile }}px;\n      height: {{ video_height_mobile }}px;\n      border-radius: {{ video_radius_mobile }}px;\n      border: {{ video_border_thickness }}px solid {{ video_border_color }};\n      position: relative;\n      transition: all 0.25s ease 0s;\n      cursor: pointer;\n      overflow: hidden;\n  }\n\n  .video-popup-inner-{{ section.id }} video {\n    display: block;\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    box-shadow: none;\n    position: relative;\n  }\n\n  .video-popup-frame-{{ section.id }} {\n    width: 100%;\n    height: 100%;\n    position: relative;\n  }\n\n  .video-popup-close-wrapper-{{ section.id }} {\n    position: absolute;\n    display: flex;\n    align-items: flex-end;\n    flex-direction: column;\n    top: 5px;\n    right: 5px;\n  }\n\n  .video-popup-close-{{ section.id }} {\n    font-size: 13px;\n    transition: all .7s;\n    box-shadow: 0 2px 4px #0003;\n    z-index: 2;\n    width: 22px;\n    height: 22px;\n    cursor: pointer;\n    transform-origin: 50%;\n    background: {{ close_bg_color }};\n    border-radius: 20px;\n    justify-content: center;\n    align-items: center;\n    display: flex;\n    position: relative;\n  }\n\n  .video-popup-close-{{ section.id }} svg {\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%,-50%);\n    width: 10px;\n    height: 10px;\n  }\n\n  .video-popup-close-{{ section.id }} svg path {\n    fill: {{ close_color }};\n  }\n\n  .video-popup-heading-{{ section.id }} {\n    display: block;\n    word-wrap: break-word;\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%,-50%);\n    filter: drop-shadow(0 0 5px #000);\n    z-index: 2;\n    width: 100%;\n    text-align: center;\n  }\n\n  .video-popup-heading-{{ section.id }} * {\n    margin: 0;\n    font-size: {{ heading_size_mobile }}px;\n    color: {{ heading_color }};\n    line-height: {{ heading_height }}%;\n    text-transform: unset;\n  }\n\n  .video-popup-video-{{ section.id }} {\n    position: relative;\n    height: 100%;\n    width: 100%;\n    aspect-ratio:1 /1;\n  }\n\n  .video-popup-video-{{ section.id }} svg {\n    display: block;    \n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    margin: 0;  \n    background-color: #ababab;\n  }\n\n  .video-popup-modal-{{ section.id }} {\n    position: fixed;\n    z-index: -1;\n    opacity: 0;\n    pointer-events: none;\n    top: 50%;\n    transform: translateY(-50%);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    backdrop-filter: blur(15px);\n    -webkit-backdrop-filter: blur(15px);\n    height: 100vh;\n  }\n\n  .video-popup-modal-{{ section.id }}.active {\n    opacity: 1;    \n    z-index: 3;\n    pointer-events: all;\n  }\n\n  .video-popup-modal-wrapper-{{ section.id }} {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    transition: all 0.25s ease 0s;     \n    overflow: hidden;\n    height: 100%;\n  }\n\n  .video-popup-modal-inner-{{ section.id }} {\n    width: 100%;\n    height: 100%;\n    max-height: 80vh;\n    position: relative;\n    transition: all 0.25s ease 0s;\n  }\n\n  .video-popup-modal-slide-{{ section.id }} {\n    width: 100% !important;\n    height: 100% !important;\n    box-sizing: border-box !important;\n  }\n\n  \n  .video-popup-modal-close-wrapper-{{ section.id }} {\n    position: absolute;\n    display: flex;\n    align-items: flex-end;\n    flex-direction: column;\n    top: 10px;\n    right: 0px;\n    cursor: pointer;\n    z-index: 3;\n  }\n\n  .video-popup-modal-close-{{ section.id }} {\n    position: absolute;\n    top: 20px;\n    right: 10px;\n    box-shadow: none;\n    border: 0px;\n    cursor: pointer;\n    z-index: 2;\n  }\n\n  .video-popup-modal-close-{{ section.id }} svg {\n    padding: 5px;\n    display: block;\n    width: 25px;\n    height: 25px;\n    transition: all 0.25s ease 0s;\n  }\n\n  .video-popup-modal-close-{{ section.id }} svg path {\n     fill: {{ modal_close_color }};\n   }\n\n  .video-popup-modal-video-{{ section.id }} {\n    position: relative;\n    height: 100%;\n    width: 100%;\n  }\n\n  .video-popup-modal-video-{{ section.id }} video {\n    display: block;    \n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    margin: 0;  \n  }\n\n  .video-popup-modal-video-{{ section.id }} svg {\n    display: block;    \n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    margin: 0;  \n    background-color: #ababab;\n  }\n\n  .video-popup-modal-heading-{{ section.id }} {\n    position: absolute;\n    top: 30px;\n    left: 12px;\n    box-shadow: none;\n    display: flex;\n    align-items: center;\n    border: 0px;\n    z-index: 2;\n  }\n  \n  .video-popup-modal-heading-image-{{ section.id }} {\n    border-radius: 50%;\n    width: {{ modal_image_size_mobile }}px;\n    height: {{ modal_image_size_mobile }}px;\n    margin-right: 10px;\n    overflow: hidden;\n  }\n\n  .video-popup-modal-heading-image-{{ section.id }} img,\n  .video-popup-modal-heading-image-{{ section.id }} svg {\n    display: block;    \n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    margin: 0;  \n    background-color: #ababab;  \n  }\n\n  .video-popup-modal-heading-text-{{ section.id }} {  \n    display: block;\n    text-transform: unset;   \n    white-space: nowrap;\n    margin: 0;\n    font-size: {{ modal_heading_text_size_mobile }}px;\n    color: {{ modal_heading_text_color }};\n    line-height: {{ modal_heading_text_height }}%;\n    word-wrap: break-word;\n  }\n  \n  .video-popup-sound-{{ section.id }} {\n    width: {{ sound_size_mobile }}px;\n    height: {{ sound_size_mobile }}px;\n    border: {{ sound_border_thickness }}px solid {{ sound_border_color }};\n    border-radius: 50%;\n    background: {{ sound_bg_color | hex_to_rgba: 0.3 }};\n    display: flex !important;\n    align-items: center;\n    justify-content: center;\n    transition: all 0.3s ease 0s;\n    cursor: pointer;\n    -webkit-appearance: none;\n    transition: all 0.25s ease 0s;\n    position: absolute;\n    top: 60px;\n    right: 10px;\n    z-index: 2;\n  }\n\n  .video-popup-sound-{{ section.id }}:hover {\n    transition: all 0.25s ease 0s;\n    border: {{ sound_border_thickness }}px solid {{ sound_border_hover_color }};\n    background: {{ sound_bg_hover_color | hex_to_rgba: 0.3 }};\n  }\n\n  .video-popup-sound-{{ section.id }} svg {\n    height: 55%;\n    width: 55%;\n  }\n\n  .video-popup-sound-{{ section.id }} svg {\n    fill: {{ sound_icon_color }};\n    transition: all 0.25s ease 0s;\n  }\n\n  .video-popup-sound-{{ section.id }}:hover svg {\n    fill: {{ sound_icon_hover_color }};\n    transition: all 0.25s ease 0s;\n  }\n\n  .video-popup-sound-{{ section.id }} .video-popup-unmute-{{ section.id }} {\n    display: none;\n  }\n\n  .video-popup-sound-{{ section.id }}.active .video-popup-unmute-{{ section.id }} {\n    display: block;\n  }\n\n  .video-popup-sound-{{ section.id }}.active .video-popup-mute-{{ section.id }} {\n    display: none;\n  }\n\n  .video-popup-modal-thumbs-{{ section.id }} {\n    position: absolute;\n    top: -10px;\n    left: 10px;\n    width: calc(100% - 20px);\n    display: grid;\n    grid-template-columns: repeat({{ section.blocks.size }}, 1fr);\n    gap: 5px;\n    z-index: 2;\n  }\n\n  .video-popup-modal-thumb-{{ section.id }} {\n    cursor: pointer;\n  }\n\n  #progress{{ section.id | replate: '-', '' }} {\n    width: 100%;\n    height: 3px;\n  }\n\n  #progress{{ section.id | replate: '-', '' }}[value] {\n    appearance: none;\n    border: none;\n    color: #ffffff;\n  }\n\n  #progress{{ section.id | replate: '-', '' }}[value]::-webkit-progress-value {\n    background: white;\n    transition: width 0.5s linear;\n  }\n  \n  #progress{{ section.id | replate: '-', '' }}[value]::-moz-progress-bar {\n    background: #ede8e8:\n  }\n\n  .video-popup-modal-product-{{ section.id }} {\n    -webkit-backdrop-filter: blur(30px);\n    position: absolute;\n    bottom: 8px;\n    left: 12px;\n    z-index: 2;\n    display: flex;\n    align-items: center;\n    width: calc(100% - 32px);\n    backdrop-filter: blur(30px);\n    border-radius: {{ product_radius }}px;\n    padding: {{ product_padding_vertical_mobile }}px {{ product_padding_horizontal_mobile }}px;\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); \n    margin: 10px 0;\n    transition: all 0.25s ease 0s;\n    cursor: pointer;\n    text-decoration: none;\n  }  \n\n  .video-popup-product-image-{{ section.id }} {\n    width: {{ product_image_size_mobile }}px;\n    margin-right: 15px;\n    border-radius: {{ product_image_radius }}px;\n    overflow: hidden;\n    flex-shrink: 0;\n  }\n\n  .video-popup-product-image-{{ section.id }} img,\n  .video-popup-product-image-{{ section.id }} svg {\n    display: block;    \n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    margin: 0;  \n  }\n\n  .video-popup-product-image-{{ section.id }} svg {\n    background-color: #ababab; \n  }\n\n  .video-popup-product-text-{{ section.id }} {\n    display: flex;\n    flex-direction: column;\n    padding-right: 50px;\n    gap: 6px;\n  }  \n\n  .video-popup-product-title-{{ section.id }} {\n    margin: 0;\n    display: block;\n    text-transform: unset;\n    word-wrap: break-word;\n    font-size: {{ title_size_mobile }}px;\n    color: {{ title_color }};\n    line-height: {{ title_height }}%;\n  }\n\n  .video-popup-product-price-{{ section.id }} {\n    display: flex;     \n    gap: 5px;\n    align-items: center;  \n  }\n\n  .video-popup-product-price-{{ section.id }} * {\n    margin: 0;\n    display: block;\n    text-transform: unset;\n    word-wrap: break-word;\n    font-size: {{ price_size_mobile }}px;\n    color: {{ price_original_color }};\n    line-height: {{ price_height }}%;\n    white-space: nowrap  \n  }\n\n  .video-popup-product-compare-price-{{ section.id }} {\n    text-decoration: line-through;\n    color: {{ compare_price_color }};\n  }\n  \n  @media(min-width: 1024px) {\n    .video-popup-inner-{{ section.id }} {\n      width: {{ video_width }}px;\n      height: {{ video_height }}px;\n      border-radius: {{ video_radius }}px;\n      position: relative;\n      transition: all 0.25s ease 0s;\n      cursor: pointer;\n    }\n\n    .video-popup-close-wrapper-{{ section.id }} {\n      top: -11px;\n      right: -11px;\n    }\n\n    .video-popup-modal-{{ section.id }} {\n      backdrop-filter: unset;\n      height: fit-content;\n    }\n\n    .video-popup-modal-wrapper-{{ section.id }} {\n      max-height: 100%;\n      height: auto;\n    }\n\n    .video-popup-modal-slide-{{ section.id }} {\n      border: {{ modal_border_thickness }}px solid {{ modal_border_color }};\n      border-radius: {{ modal_radius }}px;\n      overflow: hidden !important;\n    }\n    \n    .video-popup-modal-inner-{{ section.id }} {\n      width: {{ modal_width }}px !important;\n      height: {{ modal_height }}px !important;\n    }\n\n    .video-popup-heading-{{ section.id }} * {\n      font-size: {{ heading_size }}px;\n    }\n\n    .video-popup-modal-heading-text-{{ section.id }} {\n      font-size: {{ modal_heading_text_size }}px;\n    }\n\n    .video-popup-modal-heading-image-{{ section.id }} {\n      width: {{ modal_image_size }}px;\n      height: {{ modal_image_size }}px;\n    }\n    \n    .video-popup-sound-{{ section.id }} {\n      width: {{ sound_size }}px;\n      height: {{ sound_size }}px;\n    }\n\n    .video-popup-modal-product-{{ section.id }} {\n      padding: {{ product_padding_vertical }}px {{ product_padding_horizontal }}px;\n    }  \n\n    .video-popup-product-image-{{ section.id }} {\n      width: {{ product_image_size }}px;\n    }\n\n    .video-popup-product-title-{{ section.id }} {\n      font-size: {{ title_size }}px;\n    }\n\n    .video-popup-product-price-{{ section.id }} * {\n      font-size: {{ price_size }}px;\n    }\n\n  }\n  \n{%- endstyle -%}\n\n{% if position == \"top_left\" %}\n  <style>\n    .video-popup-{{ section.id }} {\n      left: {{ horizontal_dst_to_edge | times: 0.75 | round: 0 }}px;\n      top: {{ vertical_dst_to_edge | times: 0.75 | round: 0 }}px;\n    }    \n    @media(min-width: 1024px) {\n      .video-popup-{{ section.id }} {\n        left: {{ horizontal_dst_to_edge }}px;\n        top: {{ vertical_dst_to_edge }}px;\n      }\n      .video-popup-modal-{{ section.id }} {\n        left: {{ horizontal_dst_to_edge }}px !important;\n        top: {{ vertical_dst_to_edge }}px !important;\n        transform: translateY(0px);\n      }\n    }\n  </style>\n{% elsif position == \"top_right\" %}\n  <style>\n    .video-popup-{{ section.id }} {\n      right: {{ horizontal_dst_to_edge | times: 0.75 | round: 0 }}px;\n      top: {{ vertical_dst_to_edge | times: 0.75 | round: 0 }}px;\n    }\n    \n    @media(min-width: 1024px) {\n      .video-popup-{{ section.id }} {\n        right: {{ horizontal_dst_to_edge }}px;\n        top: {{ vertical_dst_to_edge }}px;\n      }\n      .video-popup-modal-{{ section.id }} {\n        right: {{ horizontal_dst_to_edge | times: 0.75 | round: 0 }}px !important;\n        top: {{ vertical_dst_to_edge | times: 0.75 | round: 0 }}px !important;\n        transform: translateY(0px) !important;\n      }\n    }\n  </style>\n{% elsif position == \"bottom_left\" %}\n  <style>\n    .video-popup-{{ section.id }} {\n      left: {{ horizontal_dst_to_edge | times: 0.75 | round: 0 }}px;\n      bottom: {{ vertical_dst_to_edge | times: 0.75 | round: 0 }}px;\n    }\n    \n    @media(min-width: 1024px) {\n      .video-popup-{{ section.id }} {\n        left: {{ horizontal_dst_to_edge }}px;\n        bottom: {{ vertical_dst_to_edge }}px;\n      }\n      .video-popup-modal-{{ section.id }} {\n        left: {{ horizontal_dst_to_edge | times: 0.75 | round: 0 }}px !important;\n        bottom: {{ vertical_dst_to_edge | times: 0.75 | round: 0 }}px !important;\n        transform: translateY(0px) !important;\n        top: unset !important;\n      }\n    }\n  </style>\n{% elsif position == \"bottom_right\" %}\n  <style>\n    .video-popup-{{ section.id }} {\n      right: {{ horizontal_dst_to_edge | times: 0.75 | round: 0 }}px;\n      bottom: {{ vertical_dst_to_edge | times: 0.75 | round: 0 }}px;\n    }\n    \n    @media(min-width: 1024px) {\n      .video-popup-{{ section.id }} {\n        right: {{ horizontal_dst_to_edge }}px;\n        bottom: {{ vertical_dst_to_edge }}px;\n      }\n      .video-popup-modal-{{ section.id }} {\n        right: {{ horizontal_dst_to_edge | times: 0.75 | round: 0 }}px !important;\n        bottom: {{ vertical_dst_to_edge | times: 0.75 | round: 0 }}px !important;\n        transform: translateY(0px) !important;\n        top: unset !important;\n      } \n    }\n  </style>\n{% endif %}\n\n{% if heading_custom %}\n  <style>\n    .video-popup-heading-{{ section.id }} * {\n      font-family: {{ heading_font.family }}, {{ heading_font.fallback_families }};\n      font-weight: {{ heading_font.weight }};\n      font-style: {{ heading_font.style }};\n    }\n  </style>\n{% endif %}\n\n{% if modal_heading_text_custom %}\n  <style>\n    .video-popup-modal-heading-text-{{ section.id }} {\n      font-family: {{ modal_heading_text_font.family }}, {{ modal_heading_text_font.fallback_families }};\n      font-weight: {{ modal_heading_text_font.weight }};\n      font-style: {{ modal_heading_text_font.style }};\n    }\n  </style>\n{% endif %}\n\n{% if title_custom %}\n  <style>\n    .video-popup-product-title-{{ section.id }} {\n      font-family: {{ title_font.family }}, {{ title_font.fallback_families }};\n      font-weight: {{ title_font.weight }};\n      font-style: {{ title_font.style }};\n    }\n  </style>\n{% endif %}\n\n{% if price_custom %}\n  <style>\n    .video-popup-product-price-{{ section.id }} * {\n      font-family: {{ price_font.family }}, {{ price_font.fallback_families }};\n      font-weight: {{ price_font.weight }};\n      font-style: {{ price_font.style }};\n    }\n  </style>\n{% endif %}\n\n{% if modal_radius > 20 %}\n  <style>\n    @media(min-width: 1024px) {\n      .video-popup-modal-thumbs-{{ section.id }} {\n        top: 5px;\n      } \n\n      .video-popup-modal-close-{{ section.id }} {\n        top: 28px;\n      }\n    }\n  </style>\n{% endif %}\n\n{% unless use_progress %}\n  <style>\n    .video-popup-modal-heading-{{ section.id }} {\n      top: 14px;\n    }\n\n    .video-popup-modal-close-{{ section.id }} {\n      top: 10px;\n    }\n\n    .video-popup-sound-{{ section.id }} {\n      top: 40px;\n    }\n  </style>\n{% endunless %}\n\n<div class=\"video-popup-{{ section.id }}\">\n  <div class=\"video-popup-wrapper-{{ section.id }}\">\n    <div class=\"video-popup-close-wrapper-{{ section.id }}\">\n      <div class=\"video-popup-close-{{ section.id }}\">\n        <svg style=\"width: 10px !important; height: 10px !important;\" width=\"11\" height=\"10\" viewBox=\"0 0 14 13\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path d=\"M13.0547 12.5938C12.8203 12.8281 12.3906 12.8281 12.1562 12.5938L7 7.39844L1.80469 12.5938C1.57031 12.8281 1.14062 12.8281 0.90625 12.5938C0.671875 12.3594 0.671875 11.9297 0.90625 11.6953L6.10156 6.5L0.90625 1.34375C0.671875 1.10938 0.671875 0.679688 0.90625 0.445312C1.14062 0.210938 1.57031 0.210938 1.80469 0.445312L7 5.64062L12.1562 0.445312C12.3906 0.210938 12.8203 0.210938 13.0547 0.445312C13.2891 0.679688 13.2891 1.10938 13.0547 1.34375L7.85938 6.5L13.0547 11.6953C13.2891 11.9297 13.2891 12.3594 13.0547 12.5938Z\" fill=\"white\"></path>\n        </svg>\n      </div>\n    </div>\n    <div class=\"video-popup-inner-{{ section.id }}\">\n      <div class=\"video-popup-heading-{{ section.id }}\">\n        {{ section.settings.heading }}\n      </div>\n      <div class=\"video-popup-video-{{ section.id }}\">          \n        {% if video != blank %}\n          {{ video | video_tag:\n            autoplay: true,\n            loop: true,\n            mute: true,\n            playsinline: true,\n            class: 'lazy'\n          }}\n        {% else %}\n          {{ 'image' | placeholder_svg_tag }}\n        {% endif %}\n      </div>      \n    </div>\n  </div>\n</div>\n\n<div class=\"video-popup-modal-{{ section.id }}\">\n  <div class=\"video-popup-modal-inner-{{ section.id }}\">\n    {% if use_progress %}\n      <div class=\"video-popup-modal-thumbs-{{ section.id }}\">\n        {% for block in section.blocks %}\n          <div class=\"video-popup-modal-thumb-{{ section.id }}\">\n            <progress id=\"progress{{ section.id | replate: '-', '' }}\" max=\"100\" value=\"0\"></progress>\n          </div>\n        {% endfor %}\n      </div>\n    {% endif %}\n    <div class=\"swiper video-popup-modal-wrapper-{{ section.id }}\">\n        <div class=\"video-popup-modal-close-{{ section.id }}\">\n          <svg width=\"11\" height=\"10\" viewBox=\"0 0 14 13\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path d=\"M13.0547 12.5938C12.8203 12.8281 12.3906 12.8281 12.1562 12.5938L7 7.39844L1.80469 12.5938C1.57031 12.8281 1.14062 12.8281 0.90625 12.5938C0.671875 12.3594 0.671875 11.9297 0.90625 11.6953L6.10156 6.5L0.90625 1.34375C0.671875 1.10938 0.671875 0.679688 0.90625 0.445312C1.14062 0.210938 1.57031 0.210938 1.80469 0.445312L7 5.64062L12.1562 0.445312C12.3906 0.210938 12.8203 0.210938 13.0547 0.445312C13.2891 0.679688 13.2891 1.10938 13.0547 1.34375L7.85938 6.5L13.0547 11.6953C13.2891 11.9297 13.2891 12.3594 13.0547 12.5938Z\" fill=\"white\"></path>\n          </svg>\n        </div>      \n        {% if use_sound %}\n          <div class=\"video-popup-sound-{{ section.id }}\">\n            <svg class=\"video-popup-mute-{{ section.id }}\" viewBox=\"0 0 24 24\" width=\"24\" height=\"24\"><path fill=\"none\" d=\"M0 0h24v24H0z\"></path><path d=\"M5.889 16H2a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h3.889l5.294-4.332a.5.5 0 0 1 .817.387v15.89a.5.5 0 0 1-.817.387L5.89 16zm14.525-4l3.536 3.536-1.414 1.414L19 13.414l-3.536 3.536-1.414-1.414L17.586 12 14.05 8.464l1.414-1.414L19 10.586l3.536-3.536 1.414 1.414L20.414 12z\"></path></svg>  \n            <svg class=\"video-popup-unmute-{{ section.id }}\" viewBox=\"0 0 24 24\" width=\"24\" height=\"24\"><path fill=\"none\" d=\"M0 0h24v24H0z\"></path><path d=\"M5.889 16H2a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h3.889l5.294-4.332a.5.5 0 0 1 .817.387v15.89a.5.5 0 0 1-.817.387L5.89 16zm13.517 4.134l-1.416-1.416A8.978 8.978 0 0 0 21 12a8.982 8.982 0 0 0-3.304-6.968l1.42-1.42A10.976 10.976 0 0 1 23 12c0 3.223-1.386 6.122-3.594 8.134zm-3.543-3.543l-1.422-1.422A3.993 3.993 0 0 0 16 12c0-1.43-.75-2.685-1.88-3.392l1.439-1.439A5.991 5.991 0 0 1 18 12c0 1.842-.83 3.49-2.137 4.591z\"></path></svg>\n          </div>\n        {% endif %}\n        <div class=\"video-popup-modal-heading-{{ section.id }}\">\n          <div class=\"video-popup-modal-heading-image-{{ section.id }}\">\n            {% if section.settings.modal_image != blank %}\n              <img src=\"{{ section.settings.modal_image | image_url }}\" alt=\"{{ block.settings.product.featured_image.alt }}\">\n            {% else %}\n              {{ 'image' | placeholder_svg_tag }}\n            {% endif %}\n          </div>\n          <p class=\"video-popup-modal-heading-text-{{ section.id }}\">\n            {{ section.settings.modal_heading }}\n          </p>\n        </div>\n      <div class=\"swiper-wrapper video-popup-modal-inner-{{ section.id }}\">\n        {% for block in section.blocks %}\n          <div class=\"swiper-slide video-popup-modal-slide-{{ section.id }}\">   \n            {% if block.settings.product != blank %}\n              <a href=\"{{ block.settings.product.url }}\" class=\"video-popup-modal-product-{{ section.id }}\"> \n                <div class=\"video-popup-product-image-{{ section.id }}\">\n                  {% if block.settings.product.featured_image != blank %}\n                    <img src=\"{{ block.settings.product.featured_image | image_url }}\" alt=\"{{ block.settings.product.featured_image.alt }}\">\n                  {% else %}\n                    {{ 'image' | placeholder_svg_tag }}\n                  {% endif %}\n                </div>                                                   \n                <div class=\"video-popup-product-text-{{ section.id }}\">\n                  <h3 class=\"video-popup-product-title-{{ section.id }}\">\n                    {% if block.settings.product != blank %}\n                      {{ block.settings.product.title }}\n                    {% endif %}\n                  </h3>                            \n                  <div class=\"video-popup-product-price-{{ section.id }}\">\n                    <p class=\"video-popup-product-regural-price-{{ section.id }}\">{{ block.settings.product.price | money }}</p> \n                    {% if block.settings.product.compare_at_price != blank and price_compare %}\n                      <p class=\"video-popup-product-compare-price-{{ section.id }}\">{{ block.settings.product.compare_at_price | money }}</p>\n                    {% endif %}\n                  </div>                              \n                </div>\n              </a>   \n            {% endif %}         \n            <div class=\"video-popup-modal-video-{{ section.id }}\">          \n              {% if block.settings.video != blank %}\n  \n                <video data-src=\"{% if block.settings.video.sources[1] != blank %}{{ block.settings.video.sources[1].url }}{% else %}{{ block.settings.video.sources[0].url }}{% endif %}\" playsinline preload=\"none\" class=\"lazy\"></video>\n              {% else %}\n                {{ 'image' | placeholder_svg_tag }}\n              {% endif %}\n            </div> \n          </div>\n        {% endfor %}\n      </div>\n    </div>\n  </div>\n</div>\n\n<script src=\"https://cdn.jsdelivr.net/npm/vanilla-lazyload@19.1.3/dist/lazyload.min.js\"></script>\n\n<script>\n  function loadSwiper(callback) {\n    if (window.Swiper) {\n      callback();\n    } else {\n      const script = document.createElement('script');\n      script.src = \"https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.js\";\n      script.onload = callback;\n      document.head.appendChild(script);\n    }\n  }\n  \n  function initPopupVideo(sectionId) {\n    setTimeout(() => {\n      let lazyLoadInstance = new LazyLoad();\n\n      window.addEventListener(\n        \"LazyLoad::Initialized\",\n        function (event) {\n          window.lazyLoadInstance = event.detail.instance;\n        },\n        false\n      );\n\n      let thumbs = document.querySelectorAll(`.video-popup-modal-thumb-${sectionId}`);\n\n      const swiper = new Swiper(`.video-popup-modal-wrapper-${sectionId}`, {\n        speed: 100,\n        slidesPerView: 1,\n        effect: \"fade\",\n        spaceBetween: 10,\n        on: {\n          slideChange: handleSlideChange \n        },\n      });\n\n      swiper.slides.forEach((slide, index) => {\n        let video = slide.querySelector('video');\n        if(thumbs[index]) {\n          let progress = thumbs[index].querySelector('progress');\n          if(progress) {\n            setInterval(function () {\n                  if (video.duration && isFinite(video.duration)) {\n                      progress.value = Math.round((video.currentTime / video.duration) * 100); \n                  }\n              }); \n          } \n        }\n        slide.addEventListener('click', (event) => {\n          const slideWidth = slide.clientWidth; \n          const clickX = event.clientX - slide.getBoundingClientRect().left; \n\n          if (clickX < slideWidth / 2) {\n            swiper.slidePrev(); \n          } else {\n            swiper.slideNext(); \n          }\n        });\n      });\n\n      if(thumbs) {\n        thumbs.forEach((thumb, index) => {\n          thumb.addEventListener('click', () => {\n            swiper.slideTo(index);\n          })\n        })\n      }\n\n      function handleSlideChange() {\n        let videos = document.querySelectorAll(`.video-popup-modal-slide-${sectionId} video`);\n        videos.forEach(video => {\n          video.pause();\n          video.currentTime = 0; \n          updateProgressBar(video, false);\n        });\n\n        let activeSlide = swiper.slides[swiper.activeIndex];\n        let activeVideo = activeSlide.querySelector('video');\n\n        if (activeVideo) {\n          activeVideo.play();\n          \n          const soundBtn = document.querySelector(`.video-popup-sound-${sectionId}`);\n          if (soundBtn && soundBtn.classList.contains('active')) {\n            activeVideo.muted = false;\n          } else if({{ autoplay_sound}} && !soundBtn) {\n            activeVideo.muted = false;\n          } else {\n            activeVideo.muted = true;\n          }\n\n          activeVideo.addEventListener('ended', () => {\n            activeVideo.pause();\n            swiper.slideNext();\n          });\n        }\n      }\n\n      const soundBtn = document.querySelector(`.video-popup-sound-${sectionId}`);\n      if (soundBtn) {\n        soundBtn.addEventListener('click', (event) => {\n          event.stopPropagation();\n          soundBtn.classList.toggle('active');\n\n          let videos = document.querySelectorAll(`.video-popup-modal-slide-${sectionId} video`);\n          videos.forEach(video => {\n            video.muted = !soundBtn.classList.contains('active');\n          });\n        });\n      }\n\n      function updateProgressBar(video, isActive) {\n        {% if use_progress %}\n          const progress = video.closest(`.video-popup-modal-slide-${sectionId}`).querySelectorAll('progress');\n\n          if (isActive) {\n            const updateInterval = setInterval(() => {\n              if (video.ended) {\n                clearInterval(updateInterval);\n                progress.value = 100; \n              } else if (video.duration && isFinite(video.duration)) {\n                progress.value = Math.round((video.currentTime / video.duration) * 100);\n              }\n            }, 500);\n          } else {\n            if (progress) {\n              progress.value = 0; \n            }\n          }\n        {% endif %}\n      }\n\n      let thumbnailItem = document.querySelector(`.video-popup-${sectionId}`);\n      let modal = document.querySelector(`.video-popup-modal-${sectionId}`);\n      let modalCloseBtn = document.querySelector(`.video-popup-modal-close-${sectionId}`);\n      let closeThumbnailVideo = document.querySelector(`.video-popup-close-wrapper-${sectionId}`)\n\n      closeThumbnailVideo.addEventListener('click', () => {\n        event.stopPropagation();\n        thumbnailItem.style.display = 'none';\n      })\n\n      thumbnailItem.addEventListener('click', () => {\n        modal.classList.add('active');\n        thumbnailItem.classList.add('video-hide');\n\n        handleSlideChange();\n\n        {% if autoplay_sound %}\n          \n        let activeSlide = swiper.slides[swiper.activeIndex];\n        let activeVideo = activeSlide.querySelector('video');\n\n        if (activeVideo) {\n          const soundBtn = document.querySelector(`.video-popup-sound-${sectionId}`);\n          if(soundBtn) {\n            soundBtn.classList.add('active');\n          }\n          activeVideo.muted = false;\n        }\n\n        {% endif %}\n      });\n\n      modalCloseBtn.addEventListener('click', () => {\n        modal.classList.remove('active');\n        thumbnailItem.classList.remove('video-hide');\n\n        let videos = modal.querySelectorAll('video');\n        videos.forEach(video => {\n          video.pause();\n          video.currentTime = 0;\n          updateProgressBar(video, false); \n        });\n      });\n    }, 400);\n  }\n\n  function initializeAllPopupVideoSections() {\n    const sections = document.querySelectorAll('[id^=\"shopify-section-\"]');\n    sections.forEach(section => {\n      if (section.querySelector('.video-popup-{{ section.id }}')) {\n        const sectionId = section.id.replace('shopify-section-', '');\n        loadSwiper(() => initPopupVideo(sectionId));\n      }\n    });\n  }\n\n  if (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', initializeAllPopupVideoSections);\n  } else {\n    initializeAllPopupVideoSections();\n  }\n\n  if (Shopify.designMode) {\n    document.addEventListener('shopify:section:load', (event) => {\n      const sectionId = event.detail.sectionId;\n      if (event.target.querySelector('.video-popup-{{ section.id }}')) {\n        loadSwiper(() => initPopupVideo(sectionId));\n      }\n    });\n  }\n</script>",
  "variables": {
    "position": {
      "type": "text",
      "default": "bottom_right",
      "label": "Position",
      "description": "Position"
    },
    "horizontal_dst_to_edge": {
      "type": "text",
      "default": "20",
      "label": "Horizontal edge distance",
      "description": "Horizontal edge distance"
    },
    "vertical_dst_to_edge": {
      "type": "text",
      "default": "20",
      "label": "Vertical edge distance",
      "description": "Vertical edge distance"
    },
    "video": {
      "type": "text",
      "default": "",
      "label": "Thumbnail video from Shopify",
      "description": "Thumbnail video from Shopify"
    },
    "video_width": {
      "type": "text",
      "default": "150",
      "label": "Width",
      "description": "Width"
    },
    "video_width_mobile": {
      "type": "text",
      "default": "130",
      "label": "Width - mobile",
      "description": "Width - mobile"
    },
    "video_height": {
      "type": "text",
      "default": "260",
      "label": "Height",
      "description": "Height"
    },
    "video_height_mobile": {
      "type": "text",
      "default": "130",
      "label": "Height - mobile",
      "description": "Height - mobile"
    },
    "video_radius": {
      "type": "text",
      "default": "10",
      "label": "Roundness",
      "description": "Roundness"
    },
    "video_radius_mobile": {
      "type": "text",
      "default": "100",
      "label": "Roundness - mobile",
      "description": "Roundness - mobile"
    },
    "video_border_thickness": {
      "type": "text",
      "default": "5",
      "label": "Border thickness",
      "description": "Border thickness"
    },
    "heading": {
      "type": "textarea",
      "default": "<p>Heading</p>",
      "label": "Text",
      "description": "Text"
    },
    "heading_custom": {
      "type": "text",
      "default": "false",
      "label": "Use custom font",
      "description": "Use custom font"
    },
    "heading_font": {
      "type": "text",
      "default": "josefin_sans_n4",
      "label": "Font family",
      "description": "Font family"
    },
    "heading_size": {
      "type": "text",
      "default": "16",
      "label": "Font size",
      "description": "Font size"
    },
    "heading_size_mobile": {
      "type": "text",
      "default": "13",
      "label": "Font size - mobile",
      "description": "Font size - mobile"
    },
    "heading_height": {
      "type": "text",
      "default": "100",
      "label": "Line height",
      "description": "Line height"
    },
    "modal_width": {
      "type": "text",
      "default": "360",
      "label": "Width",
      "description": "Width"
    },
    "modal_height": {
      "type": "text",
      "default": "640",
      "label": "Height",
      "description": "Height"
    },
    "modal_radius": {
      "type": "text",
      "default": "10",
      "label": "Roundness",
      "description": "Roundness"
    },
    "modal_border_thickness": {
      "type": "text",
      "default": "0",
      "label": "Border thickness",
      "description": "Border thickness"
    },
    "use_progress": {
      "type": "text",
      "default": "true",
      "label": "Use progress bar",
      "description": "Use progress bar"
    },
    "modal_heading": {
      "type": "text",
      "default": "Heading",
      "label": "Text",
      "description": "Text"
    },
    "modal_heading_text_custom": {
      "type": "text",
      "default": "false",
      "label": "Use custom font",
      "description": "Use custom font"
    },
    "modal_heading_text_font": {
      "type": "text",
      "default": "josefin_sans_n4",
      "label": "Font family",
      "description": "Font family"
    },
    "modal_heading_text_size": {
      "type": "text",
      "default": "16",
      "label": "Font size",
      "description": "Font size"
    },
    "modal_heading_text_size_mobile": {
      "type": "text",
      "default": "13",
      "label": "Font size - mobile",
      "description": "Font size - mobile"
    },
    "modal_heading_text_height": {
      "type": "text",
      "default": "100",
      "label": "Line height",
      "description": "Line height"
    },
    "modal_image": {
      "type": "text",
      "default": "",
      "label": "Heading image",
      "description": "Heading image"
    },
    "modal_image_size": {
      "type": "text",
      "default": "36",
      "label": "Size",
      "description": "Size"
    },
    "modal_image_size_mobile": {
      "type": "text",
      "default": "36",
      "label": "Size - mobile",
      "description": "Size - mobile"
    },
    "use_sound": {
      "type": "text",
      "default": "true",
      "label": "Use mute/unmute button",
      "description": "Use mute/unmute button"
    },
    "autoplay_sound": {
      "type": "text",
      "default": "false",
      "label": "Autoplay sound",
      "description": "Enable to start videos with sound on when modal opened."
    },
    "sound_size": {
      "type": "text",
      "default": "36",
      "label": "Size",
      "description": "Size"
    },
    "sound_size_mobile": {
      "type": "text",
      "default": "36",
      "label": "Size - mobile",
      "description": "Size - mobile"
    },
    "sound_border_thickness": {
      "type": "text",
      "default": "0",
      "label": "Border thickness",
      "description": "Border thickness"
    },
    "product_padding_vertical": {
      "type": "text",
      "default": "6",
      "label": "Padding vertical",
      "description": "Padding vertical"
    },
    "product_padding_vertical_mobile": {
      "type": "text",
      "default": "6",
      "label": "Padding vertical - mobile",
      "description": "Padding vertical - mobile"
    },
    "product_padding_horizontal": {
      "type": "text",
      "default": "6",
      "label": "Padding horizontal",
      "description": "Padding horizontal"
    },
    "product_padding_horizontal_mobile": {
      "type": "text",
      "default": "6",
      "label": "Padding horizontal - mobile",
      "description": "Padding horizontal - mobile"
    },
    "product_radius": {
      "type": "text",
      "default": "8",
      "label": "Roundness",
      "description": "Roundness"
    },
    "title_custom": {
      "type": "text",
      "default": "false",
      "label": "Use custom font",
      "description": "Use custom font"
    },
    "title_font": {
      "type": "text",
      "default": "josefin_sans_n4",
      "label": "Font family",
      "description": "Font family"
    },
    "title_size": {
      "type": "text",
      "default": "12",
      "label": "Font size",
      "description": "Font size"
    },
    "title_size_mobile": {
      "type": "text",
      "default": "12",
      "label": "Font size - mobile",
      "description": "Font size - mobile"
    },
    "title_height": {
      "type": "text",
      "default": "150",
      "label": "Line height",
      "description": "Line height"
    },
    "price_custom": {
      "type": "text",
      "default": "false",
      "label": "Use custom font",
      "description": "Use custom font"
    },
    "price_font": {
      "type": "text",
      "default": "josefin_sans_n4",
      "label": "Font family",
      "description": "Font family"
    },
    "price_size": {
      "type": "text",
      "default": "12",
      "label": "Font size",
      "description": "Font size"
    },
    "price_size_mobile": {
      "type": "text",
      "default": "12",
      "label": "Font size - mobile",
      "description": "Font size - mobile"
    },
    "price_height": {
      "type": "text",
      "default": "100",
      "label": "Line height",
      "description": "Line height"
    },
    "price_compare": {
      "type": "text",
      "default": "true",
      "label": "Show compare at price",
      "description": "Show compare at price"
    },
    "product_image_size": {
      "type": "text",
      "default": "76",
      "label": "Size",
      "description": "Size"
    },
    "product_image_size_mobile": {
      "type": "text",
      "default": "76",
      "label": "Size - mobile",
      "description": "Size - mobile"
    },
    "product_image_radius": {
      "type": "text",
      "default": "5",
      "label": "Roundness",
      "description": "Roundness"
    },
    "video_border_color": {
      "type": "color",
      "default": "#CC6666",
      "label": "Video border",
      "description": "Video border"
    },
    "heading_color": {
      "type": "color",
      "default": "#FFFFFF",
      "label": "Heading",
      "description": "Heading"
    },
    "close_color": {
      "type": "color",
      "default": "#FFFFFF",
      "label": "Icon",
      "description": "Icon"
    },
    "close_bg_color": {
      "type": "color",
      "default": "#2f3137",
      "label": "Background",
      "description": "Background"
    },
    "modal_close_color": {
      "type": "color",
      "default": "#FFFFFF",
      "label": "Modal close icon",
      "description": "Modal close icon"
    },
    "modal_border_color": {
      "type": "color",
      "default": "#CC6666",
      "label": "Border",
      "description": "Border"
    },
    "modal_heading_text_color": {
      "type": "color",
      "default": "#FFFFFF",
      "label": "Heading",
      "description": "Heading"
    },
    "sound_icon_color": {
      "type": "color",
      "default": "#FFFFFF",
      "label": "Icon",
      "description": "Icon"
    },
    "sound_icon_hover_color": {
      "type": "color",
      "default": "#FFFFFF",
      "label": "Icon hover",
      "description": "Icon hover"
    },
    "sound_bg_color": {
      "type": "color",
      "default": "#000000",
      "label": "Background",
      "description": "Background"
    },
    "sound_bg_hover_color": {
      "type": "color",
      "default": "#FFFFFF",
      "label": "Background hover",
      "description": "Background hover"
    },
    "sound_border_color": {
      "type": "color",
      "default": "#FFFFFF",
      "label": "Border",
      "description": "Border"
    },
    "sound_border_hover_color": {
      "type": "color",
      "default": "#FFFFFF",
      "label": "Border hover",
      "description": "Border hover"
    },
    "title_color": {
      "type": "color",
      "default": "#000000",
      "label": "Title",
      "description": "Title"
    },
    "price_original_color": {
      "type": "color",
      "default": "#000000",
      "label": "Price",
      "description": "Price"
    },
    "compare_price_color": {
      "type": "color",
      "default": "#F3F3F3",
      "label": "Compare price",
      "description": "Compare price"
    }
  }
}