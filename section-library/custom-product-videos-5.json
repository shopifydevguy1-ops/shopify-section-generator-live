{
  "id": "custom-product-videos-5",
  "name": "CUSTOM Product videos #5",
  "description": "Section: CUSTOM Product videos #5",
  "tags": [
    "product"
  ],
  "type": "product",
  "liquid_code": "<link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css\"/>\r\n\r\n{%- liquid \r\n  assign padding_horizontal = section.settings.padding_horizontal\r\n  assign padding_horizontal_mobile = section.settings.padding_horizontal_mobile\r\n  assign padding_top = section.settings.padding_top\r\n  assign padding_bottom = section.settings.padding_bottom\r\n  assign border_color = section.settings.border_color\r\n  assign border_thickness = section.settings.border_thickness\r\n  assign margin_top = section.settings.margin_top\r\n  assign margin_bottom = section.settings.margin_bottom\r\n  assign background_color = section.settings.background_color\r\n  assign background_gradient = section.settings.background_gradient\r\n  assign lazy = section.settings.lazy\r\n  assign background_style = section.settings.background_style\r\n\r\n  assign videos_position = section.settings.videos_position\r\n  assign use_metafield = section.settings.use_metafield\r\n  assign videos = ''\r\n  if use_metafield\r\n    assign videos = product.metafields.custom.ss_product_videos_5.value\r\n  endif\r\n\r\n  assign heading = section.settings.heading\r\n  assign heading_size = section.settings.heading_size\r\n  assign heading_size_mobile = section.settings.heading_size_mobile\r\n  assign heading_color = section.settings.heading_color\r\n  assign heading_custom = section.settings.heading_custom\r\n  assign heading_font = section.settings.heading_font\r\n  assign heading_height = section.settings.heading_height\r\n  assign heading_align = section.settings.heading_align\r\n  assign heading_align_mobile = section.settings.heading_align_mobile\r\n\r\n  assign slider_view = section.settings.slider_view\r\n  assign slider_view_mobile = section.settings.slider_view_mobile\r\n  assign slider_gap = section.settings.slider_gap\r\n  assign slider_gap_mobile = section.settings.slider_gap_mobile\r\n  assign slider_mt = section.settings.slider_mt\r\n  assign slider_mt_mobile = section.settings.slider_mt_mobile\r\n\r\n  assign card_radius = section.settings.card_radius\r\n  assign card_border_thickness = section.settings.card_border_thickness\r\n  assign card_border_color = section.settings.card_border_color\r\n  assign card_bg_color = section.settings.card_bg_color\r\n\r\n  assign video_ratio = section.settings.video_ratio\r\n  assign video_ratio_mobile = section.settings.video_ratio_mobile\r\n\r\n  assign icon_size_mobile = section.settings.icon_size_mobile\r\n  assign icon_size = section.settings.icon_size\r\n  assign icon_border_thickness = section.settings.icon_border_thickness\r\n  assign icon_border_color = section.settings.icon_border_color\r\n  assign icon_bg_color = section.settings.icon_bg_color\r\n  assign icon_bg_opacity = section.settings.icon_bg_opacity\r\n  assign icon_color = section.settings.icon_color\r\n  assign icon_position_mobile = section.settings.icon_position_mobile\r\n  assign icon_position = section.settings.icon_position\r\n\r\n  assign scrollbar_height = section.settings.scrollbar_height\r\n  assign scrollbar_show_desktop = section.settings.scrollbar_show_desktop\r\n  assign scrollbar_show_mobile = section.settings.scrollbar_show_mobile\r\n  assign scrollbar_drag_bg_color = section.settings.scrollbar_drag_bg_color\r\n  assign scrollbar_bg_color = section.settings.scrollbar_bg_color\r\n  assign scrollbar_mt = section.settings.scrollbar_mt\r\n  assign scrollbar_mt_mobile = section.settings.scrollbar_mt_mobile\r\n-%}\r\n\r\n{%- style -%}\r\n\r\n  {{ heading_font | font_face: font_display: 'swap' }}\r\n  .section-{{ section.id }} {\r\n    border-top: solid {{ border_color }} {{ border_thickness }}px;\r\n    border-bottom: solid {{ border_color }} {{ border_thickness }}px;\r\n    margin-top: {{ margin_top | times: 0.75 | round: 0 }}px;\r\n    margin-bottom: {{ margin_bottom | times: 0.75 | round: 0 }}px;\r\n  }\r\n  \r\n  .section-{{ section.id }}-settings {\r\n    margin: 0 auto;\r\n    padding-top: {{ padding_top | times: 0.75 | round: 0 }}px;\r\n    padding-bottom: {{ padding_bottom | times: 0.75 | round: 0 }}px;\r\n    padding-left: {{ padding_horizontal_mobile }}rem;\r\n    padding-right: {{ padding_horizontal_mobile }}rem;\r\n  }\r\n\r\n  .video-heading-{{ section.id }} {\r\n    text-align: {{ heading_align_mobile }};\r\n  }\r\n\r\n  .video-heading-{{ section.id }} * {\r\n    margin: 0;\r\n    font-size: {{ heading_size_mobile }}px;\r\n    color: {{ heading_color }};\r\n    line-height: {{ heading_height }}%;\r\n    text-transform: unset;\r\n  }\r\n\r\n  .video-slider-wrapper-{{ section.id }} {\r\n    display: grid;\r\n  }\r\n\r\n  .video-slider-{{ section.id }} {\r\n    margin-top: {{ slider_mt_mobile }}px;\r\n    min-width: 0 !important;\r\n    width: 100% !important;\r\n  }\r\n\r\n  .video-slide-{{ section.id }} {    \r\n    display: block;\r\n    border-radius: {{ card_radius }}px;\r\n    border: {{ card_border_thickness }}px solid {{ card_border_color }};\r\n    background-color: {{ card_bg_color }};\r\n    box-sizing: border-box !important; \r\n    height: auto !important;\r\n    text-decoration: none;\r\n    overflow: hidden;\r\n    position: relative;\r\n    cursor: pointer;\r\n    backface-visibility: hidden;\r\n    -webkit-backface-visibility: hidden;\r\n    transform: translateZ(0);\r\n    -webkit-transform: translateZ(0);\r\n  }\r\n\r\n  .video-slide-video-{{ section.id }} {\r\n    overflow: hidden;\r\n    position: relative;\r\n    z-index: 0;\r\n    cursor: pointer;\r\n  }\r\n\r\n  .video-slide-video-{{ section.id }} > video,\r\n  .video-slide-video-{{ section.id }} > iframe,\r\n  .video-slide-video-{{ section.id }} > img {\r\n    display: block;\r\n    object-fit: cover;\r\n    width: 100%;\r\n    height: 100%;\r\n    box-shadow: none;\r\n    border: 0px;\r\n  }\r\n\r\n  .video-icon-{{ section.id }} {\r\n    position: absolute;\r\n    width: {{ icon_size_mobile }}px;\r\n    height: {{ icon_size_mobile }}px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    border: {{ icon_border_thickness }}px solid {{ icon_border_color }};\r\n    border-radius: 50%;\r\n    padding: 4px;\r\n    background-color: {{ icon_bg_color | hex_to_rgba: icon_bg_opacity }};\r\n    z-index: 2;\r\n    transition: all 0.25s ease 0s;\r\n    will-change: opacity;\r\n    backface-visibility: hidden;\r\n    -webkit-backface-visibility: hidden;\r\n    transform: translateZ(0);\r\n    -webkit-transform: translateZ(0);\r\n  }\r\n\r\n  .video-icon-{{ section.id }} svg path {\r\n    fill: {{ icon_color }};\r\n  }\r\n\r\n  .video-icon-{{ section.id }} svg {\r\n    display: block;\r\n    width: 100%;\r\n    height: 100%;\r\n    object-fit: cover;\r\n  }\r\n\r\n  .video-icon-{{ section.id }}.active {\r\n    opacity: 0;\r\n  }\r\n  \r\n  .video-scrollbar-{{ section.id }} {\r\n    flex: 1 1 auto;\r\n    position: static !important;\r\n    height: {{ scrollbar_height }}px !important;\r\n    background-color: {{ scrollbar_bg_color }} !important;\r\n    margin-top: {{ scrollbar_mt_mobile }}px;\r\n    z-index: 2 !important;\r\n  }\r\n\r\n  .video-scrollbar-{{ section.id }} .swiper-scrollbar-drag {\r\n    display: block !important;\r\n    background-color: {{ scrollbar_drag_bg_color }}!important;\r\n  }\r\n\r\n  .video-slider-{{ section.id }} .swiper-wrapper {\r\n    backface-visibility: hidden;\r\n    -webkit-backface-visibility: hidden;\r\n  }\r\n\r\n  .video-slider-{{ section.id }}.swiper-transitioning .video-icon-{{ section.id }}:not(.active) {\r\n    opacity: 1 !important;\r\n    visibility: visible !important;\r\n  }\r\n\r\n  @media(min-width: 1024px) {\r\n\r\n    .section-{{ section.id }} {\r\n      margin-top: {{ margin_top }}px;\r\n      margin-bottom: {{ margin_bottom }}px;\r\n    }\r\n    \r\n    .section-{{ section.id }}-settings {\r\n      padding: 0 5rem;\r\n      padding-top: {{ padding_top }}px;\r\n      padding-bottom: {{ padding_bottom }}px;\r\n      padding-left: {{ padding_horizontal }}rem;\r\n      padding-right: {{ padding_horizontal }}rem;\r\n    }\r\n\r\n    .video-heading-{{ section.id }} {\r\n      text-align: {{ heading_align }};\r\n    }\r\n\r\n    .video-heading-{{ section.id }} * {\r\n      font-size: {{ heading_size }}px;\r\n    }\r\n\r\n    .video-slider-{{ section.id }} {\r\n      margin-top: {{ slider_mt }}px;\r\n    }\r\n\r\n    .video-icon-{{ section.id }} {\r\n      width: {{ icon_size }}px;\r\n      height: {{ icon_size }}px;\r\n    }\r\n\r\n    .video-scrollbar-{{ section.id }} {\r\n      margin-top: {{ scrollbar_mt }}px;\r\n    }\r\n  }\r\n  \r\n{%- endstyle -%}\r\n\r\n{% if heading_custom %}\r\n  <style>\r\n    .video-heading-{{ section.id }} * {\r\n      font-family: {{ heading_font.family }}, {{ heading_font.fallback_families }};\r\n      font-weight: {{ heading_font.weight }};\r\n      font-style: {{ heading_font.style }};\r\n    }\r\n  </style>\r\n{% endif %}\r\n\r\n{% if video_ratio_mobile == \"portrait\" %}\r\n  <style>\r\n    .video-slide-video-{{ section.id }} {\r\n     aspect-ratio: 9.6/16; \r\n    }\r\n  </style>\r\n{% elsif video_ratio_mobile == \"landscape\" %}\r\n  <style>\r\n    .video-slide-video-{{ section.id }} {\r\n     aspect-ratio: 12/7; \r\n    }\r\n  </style>\r\n{% elsif video_ratio_mobile == \"square\" %}\r\n  <style>\r\n    .video-slide-video-{{ section.id }} {\r\n     aspect-ratio: 12/12; \r\n    }\r\n  </style>\r\n{% endif %}\r\n\r\n{% if video_ratio == \"portrait\" %}\r\n  <style>\r\n    @media(min-width: 1024px) {\r\n     .video-slide-video-{{ section.id }} {\r\n       aspect-ratio: 9.6/16; \r\n      } \r\n    }\r\n  </style>\r\n{% elsif video_ratio == \"landscape\" %}\r\n  <style>\r\n    @media(min-width: 1024px) {\r\n      .video-slide-video-{{ section.id }} {\r\n       aspect-ratio: 12/7; \r\n      }\r\n    }\r\n  </style>\r\n{% elsif video_ratio == \"square\" %}\r\n  <style>\r\n    @media(min-width: 1024px) {\r\n      .video-slide-video-{{ section.id }} {\r\n       aspect-ratio: 12/12; \r\n      }\r\n    }\r\n  </style>\r\n{% else %}\r\n  <style>\r\n    @media(min-width: 1024px) {\r\n      .video-slide-video-{{ section.id }} {\r\n       aspect-ratio: auto; \r\n      }\r\n    }\r\n  </style>\r\n{% endif %}\r\n\r\n\r\n{% if scrollbar_show_mobile %}\r\n  <style>\r\n    .video-scrollbar-{{ section.id }} {\r\n      display: flex !important;\r\n    }\r\n  </style>\r\n{% else %}\r\n  <style>\r\n    .video-scrollbar-{{ section.id }} {\r\n      display: none !important;\r\n    }\r\n  </style>\r\n{% endif %}\r\n\r\n{% if scrollbar_show_desktop %}\r\n  <style>\r\n    @media(min-width: 1024px) {\r\n      .video-scrollbar-{{ section.id }} {\r\n        display: flex !important;\r\n      }\r\n    }\r\n  </style>\r\n{% else %}\r\n  <style>\r\n    @media(min-width: 1024px) {\r\n      .video-scrollbar-{{ section.id }} {\r\n        display: none !important;\r\n      }\r\n    }\r\n  </style>\r\n{% endif %}\r\n\r\n{% if icon_position_mobile == \"top_left\" %}\r\n  <style>\r\n    .video-icon-{{ section.id }} {\r\n      top: 10px;\r\n      left: 10px;\r\n    }\r\n  </style>\r\n{% elsif icon_position_mobile == \"top_right\" %}\r\n  <style>\r\n    .video-icon-{{ section.id }} {\r\n      top: 10px;\r\n      right: 10px;\r\n    }\r\n  </style>\r\n{% elsif icon_position_mobile == \"bottom_left\" %}\r\n  <style>\r\n    .video-icon-{{ section.id }} {\r\n      bottom: 10px;\r\n      left: 10px;\r\n    }\r\n  </style>\r\n{% elsif icon_position_mobile == \"center\" %}\r\n  <style>\r\n    .video-icon-{{ section.id }} {\r\n      top: 50%;\r\n      left: 50%;\r\n      transform: translate(-50%, -50%);\r\n    }\r\n  </style>\r\n{% else %}\r\n  <style>\r\n    .video-icon-{{ section.id }} {\r\n      bottom: 10px;\r\n      right: 10px;\r\n    }\r\n  </style>\r\n{% endif %}\r\n\r\n{% if icon_position == \"top_left\" %}\r\n  <style>\r\n    @media(min-width: 1024px){\r\n       .video-icon-{{ section.id }} {\r\n        top: 10px;\r\n        left: 10px;\r\n        right: unset;\r\n        bottom: unset;\r\n        transform: translate(0);\r\n      } \r\n    }\r\n  </style>\r\n{% elsif icon_position == \"top_right\" %}\r\n  <style>\r\n     @media(min-width: 1024px){\r\n      .video-icon-{{ section.id }} {\r\n        top: 10px;\r\n        right: 10px;\r\n        left: unset;\r\n        bottom: unset;\r\n        transform: translate(0);\r\n      }\r\n     }\r\n  </style>\r\n{% elsif icon_position == \"bottom_left\" %}\r\n  <style>\r\n    @media(min-width: 1024px){\r\n      .video-icon-{{ section.id }} {\r\n        bottom: 10px;\r\n        left: 10px;\r\n        top: unset;\r\n        right: unset;\r\n        transform: translate(0);\r\n      }\r\n    }\r\n  </style>\r\n{% elsif icon_position == \"center\" %}\r\n  <style>\r\n    @media(min-width: 1024px){\r\n      .video-icon-{{ section.id }} {\r\n       top: 50%;\r\n        left: 50%;\r\n        transform: translate(-50%, -50%);\r\n        bottom: unset;\r\n        right: unset;\r\n      }\r\n    }\r\n  </style>\r\n{% else %}\r\n  <style>\r\n    @media(min-width: 1024px){\r\n      .video-icon-{{ section.id }} {\r\n        bottom: 10px;\r\n        right: 10px;\r\n        top: unset;\r\n        left: unset;\r\n        transform: translate(0);\r\n      }\r\n    }\r\n  </style>\r\n{% endif %}\r\n\r\n<script>\r\n  (function () {\r\n    function moreLoadProductForm() {\r\n      var productForm = document.querySelector('#custom-product-video');\r\n      if (!productForm){\r\n        var productForm = document.querySelector('{% if videos_position == \"below_title\" or videos_position == \"above_title\" %}.product__title, .product-info__block-item[data-block-type=\"title\"],h1.product_name, .product-info__block-item .product-info__title,.product-meta__title,.product-single__meta .product-single__header,.product-details .text-block.h3{% elsif videos_position == \"below_description\" or videos_position == \"above_description\" %}.product__description, .product_section .description, .product-info__block-item[data-block-type=\"description\"],.product-form__description,rte-formatter .rte{% else %}.button--add-to-cart, .product .product-form, .product-single__add-to-cart, .shopify-payment-button, .shopify-payment-button__button, .ProductForm__BuyButtons, .add-to-cart, .shopify-product-form, .product-info__buy-buttons,.product-form__buy-buttons,.product-single__form .add-to-cart,.product-info__block-item[data-block-type=\"buy-buttons\"], .product_form .shopify-product-form,.product-details .shopify-product-form{% endif %}');\r\n        if (!productForm) return;\r\n        }\r\n        const templateContent = document.querySelector(\r\n          '#custom-product-video-{{ section.id }}'\r\n        ).content;\r\n\r\n        productForm.insertAdjacentElement(\r\n          '{% if videos_position == \"below_buy\" or videos_position == \"below_title\" or videos_position == \"below_description\" %}afterend{% else %}beforebegin{% endif %}',\r\n          templateContent.firstElementChild\r\n        );      \r\n    }\r\n    window.addEventListener('DOMContentLoaded', moreLoadProductForm);\r\n  })();\r\n</script>\r\n\r\n{% comment %} PREVIEW {% endcomment %}\r\n<style>\r\n  .video-slider-{{ section.id }}.preview .swiper-wrapper {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    overflow: hidden;\r\n  }\r\n\r\n  .video-slider-{{ section.id }}.preview .video-slide-{{ section.id }} {\r\n    width: 100%;\r\n  }\r\n\r\n  .video-slider-{{ section.id }}.preview .video-slide-{{ section.id }}:not(:first-child) {\r\n    margin-left: {{ slider_gap_mobile }}px;\r\n  } \r\n\r\n  @media(min-width: 1024px) {\r\n    .video-slider-{{ section.id }}.preview .video-slide-{{ section.id }}:not(:first-child) {\r\n      margin-left: {{ slider_gap }}px;\r\n    } \r\n\r\n    .video-slider-{{ section.id }}.preview .video-slide-{{ section.id }} {\r\n      width: calc(100% / {{ slider_view }} - {{ slider_gap }}px );\r\n    }\r\n  }\r\n</style>\r\n\r\n<template id=\"custom-product-video-{{ section.id }}\">\r\n  <div class=\"section-{{ section.id }} video-{{ section.id }}\" {% if background_style == 'solid' %}style=\"background-color:{{ background_color }};\"{% else %} style=\"background-image: {{ background_gradient }};\"{% endif %} id=\"custom-product-video-{{ section.id }}\">\r\n    <div class=\"section-{{ section.id }}-settings\">\r\n      {% if heading != blank %}\r\n        <div class=\"video-heading-{{ section.id }}\">{{ heading }}</div>\r\n      {% endif %}\r\n\r\n      <div class=\"video-slider-wrapper-{{ section.id }}\">\r\n        <div class=\"video-slider-{{ section.id }} preview swiper\">\r\n          <div class=\"swiper-wrapper\">\r\n            {% if use_metafield %}\r\n                {% if videos != blank %}\r\n                {% for video in videos %}\r\n                    <div class=\"video-slide-{{ section.id }} swiper-slide\">\r\n                    <div class=\"video-slide-video-{{ section.id }}\" id=\"{{ section.id }}\">\r\n                        <video {% if lazy %}data-{% endif %}src=\"{{ video.sources[1].url | default: video.sources[0].url }}\" playsinline preload=\"none\" loop class=\"lazy\"></video>\r\n                    </div>   \r\n                    <div class=\"video-icon-{{ section.id }}\">\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\" width=\"1em\" height=\"1em\" role=\"presentation\"><path d=\"m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z\"></path></svg> \r\n                    </div>                \r\n                    </div>\r\n                {% endfor %}\r\n                {% endif %}\r\n            {% else %}        \r\n                {% for block in section.blocks %}\r\n                <div class=\"video-slide-{{ section.id }} swiper-slide\">\r\n                    <div class=\"video-slide-video-{{ section.id }}\">\r\n                        {% assign video_url_id = block.settings.video_url.id %}\r\n                        {% assign video_id = block.settings.video.id %}\r\n                        {% assign loop_url = '&loop=1&playlist=' | append: video_url_id %}\r\n                        {%- if block.settings.source != 'uploaded' -%}\r\n                        {%- if block.settings.video_url.type == 'youtube' -%}\r\n                            <iframe\r\n                            {% if lazy %}data-{% endif %}src=\"https://www.youtube.com/embed/{{ video_url_id }}?enablejsapi=1&mute=1&autoplay=0&controls=1&modestbranding=1&showinfo=0&rel=0{{ loop_url }}\"                     \r\n                            data-src1=\"https://www.youtube.com/embed/{{ video_url_id }}?enablejsapi=1&mute=1&autoplay=1&controls=1&modestbranding=1&showinfo=0{{ loop_url }}\" \r\n                            data-src2=\"https://www.youtube.com/embed/{{ video_url_id }}?enablejsapi=1&mute=1&autoplay=0&controls=1&modestbranding=1&showinfo=0{{ loop_url }}\"\r\n                            data-video-id=\"{{ video_url_id }}\"\r\n                            allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\"\r\n                            allowfullscreen\r\n                            class=\"lazy\"\r\n                            ></iframe>\r\n                            {%- elsif block.settings.video_url.type == 'vimeo' -%}\r\n                            <iframe  \r\n                            {% if lazy %}data-{% endif %}src=\"https://player.vimeo.com/video/{{ video_url_id }}?enablejsapi=1&muted=1&autoplay=0&controls=1&modestbranding=1&showinfo=0&rel=0{{ loop_url }}\"\r\n                            data-src1=\"https://player.vimeo.com/video/{{ video_url_id }}?enablejsapi=1&muted=1&autoplay=1&controls=1&modestbranding=1&showinfo=0{{ loop_url }}\"\r\n                            data-src2=\"https://player.vimeo.com/video/{{ video_url_id }}?enablejsapi=1&muted=1&autoplay=0&controls=1&modestbranding=1&showinfo=0{{ loop_url }}\"\r\n                            data-video-id=\"{{ video_url_id }}\"\r\n                            allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\"\r\n                            allowfullscreen\r\n                            class=\"lazy\"\r\n                            ></iframe>\r\n                            {% else %}\r\n                            {% assign placeholder_video = 'https://cdn.shopify.com/videos/c/o/v/fbb140fd46e3429eba459e1549dbbe38.mp4' %}\r\n                            <video {% if lazy %}data-{% endif %}src=\"{{ placeholder_video }}\" playsinline preload=\"none\" loop class=\"lazy\"></video>\r\n                        {% endif %}\r\n                        {% else %}\r\n                        {% assign placeholder_video = 'https://cdn.shopify.com/videos/c/o/v/fbb140fd46e3429eba459e1549dbbe38.mp4' %}\r\n                        <video {% if lazy %}data-{% endif %}src=\"{% if block.settings.video != blank %}{{ block.settings.video.sources[1].url }}{% else %}{{ placeholder_video }}{% endif %}\" playsinline preload=\"none\" loop class=\"lazy\"></video>\r\n                        {% endif %}                \r\n                    </div>\r\n                    <div class=\"video-icon-{{ section.id }}\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\" width=\"1em\" height=\"1em\" role=\"presentation\"><path d=\"m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z\"></path></svg>\r\n                    \r\n                    </div>\r\n                </div>\r\n                {% endfor %}\r\n                \r\n            {% endif %}\r\n            </div>          \r\n        </div>\r\n        <div class=\"video-scrollbar-{{ section.id }} swiper-scrollbar\"></div>     \r\n      </div>    \r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script src=\"https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js\"></script>\r\n<script src=\"https://cdn.jsdelivr.net/npm/vanilla-lazyload@17.8.2/dist/lazyload.min.js\"></script>\r\n<script src=\"https://www.youtube.com/iframe_api\"></script>\r\n<script src=\"https://player.vimeo.com/api/player.js\"></script>\r\n\r\n<script>\r\n  function initProductVideos5() {\r\n    setTimeout(() => {      \r\n      window.addEventListener(\r\n        \"LazyLoad::Initialized\",\r\n        function (event) {\r\n          window.lazyLoadInstance = event.detail.instance;\r\n        },\r\n        false\r\n      );\r\n      let lazyLoadInstance = new LazyLoad();\r\n\r\n      document.querySelector(\".video-slider-{{ section.id }}\").classList.remove(\"preview\");\r\n      const videoSlide = document.querySelectorAll('.video-slide-{{ section.id }}');\r\n    \r\n      // Хранилище для плееров\r\n      const players = new Map();\r\n      const playerReady = new Map();\r\n    \r\n      // Предзагрузка всех iframe при инициализации\r\n      videoSlide.forEach((item, index) => {\r\n        const iframe = item.querySelector('iframe');\r\n        if (iframe) {\r\n          const src1 = iframe.getAttribute('data-src1');\r\n          // Предзагружаем iframe\r\n          if (!iframe.src || iframe.src === '') {\r\n            iframe.src = iframe.getAttribute('data-src') || src1;\r\n          }\r\n          \r\n          // Инициализируем плееры заранее\r\n          setTimeout(() => {\r\n            preloadPlayer(iframe, index);\r\n          }, 1000 + (index * 500)); // Задержка между инициализациями\r\n        }\r\n      });\r\n\r\n      // Функция предзагрузки плеера\r\n      function preloadPlayer(iframe, index) {\r\n        if (players.has(iframe)) return; // Уже инициализирован\r\n        \r\n        if (iframe.src.includes('youtube.com')) {\r\n          if (typeof YT !== 'undefined' && YT.Player) {\r\n            try {\r\n              const player = new YT.Player(iframe, {\r\n                events: {\r\n                  'onReady': function(event) {\r\n                    players.set(iframe, event.target);\r\n                    playerReady.set(iframe, true);\r\n                    console.log('YouTube player ready', index);\r\n                  }\r\n                }\r\n              });\r\n            } catch(e) {\r\n              console.error('YouTube player init error', e);\r\n            }\r\n          } else {\r\n            // Если YT API еще не загружен, ждем\r\n            setTimeout(() => preloadPlayer(iframe, index), 500);\r\n          }\r\n        } else if (iframe.src.includes('vimeo.com')) {\r\n          if (typeof Vimeo !== 'undefined') {\r\n            try {\r\n              const player = new Vimeo.Player(iframe);\r\n              players.set(iframe, player);\r\n              player.ready().then(() => {\r\n                playerReady.set(iframe, true);\r\n                console.log('Vimeo player ready', index);\r\n              });\r\n            } catch(e) {\r\n              console.error('Vimeo player init error', e);\r\n            }\r\n          } else {\r\n            // Если Vimeo API еще не загружен, ждем\r\n            setTimeout(() => preloadPlayer(iframe, index), 500);\r\n          }\r\n        }\r\n      }\r\n    \r\n      videoSlide.forEach((item, index) => {\r\n        const video = item.querySelector('video');\r\n        const iframe = item.querySelector('iframe');\r\n        const videoPlay = item.querySelector('.video-icon-{{ section.id }}');\r\n  \r\n        if(video || iframe) {    \r\n          if(videoPlay) {\r\n            item.addEventListener('click', function() {\r\n              if (videoPlay.classList.contains('active')) {\r\n                // Пауза\r\n                if (video) {\r\n                  video.pause();\r\n                  video.removeAttribute('controls');\r\n                }\r\n                if (iframe) {\r\n                  const player = players.get(iframe);\r\n                  if (player && playerReady.get(iframe)) {\r\n                    if (iframe.src.includes('youtube.com')) {\r\n                      player.pauseVideo();\r\n                    } else if (iframe.src.includes('vimeo.com')) {\r\n                      player.pause();\r\n                    }\r\n                  }\r\n                } \r\n              } else {\r\n                // Останавливаем все другие видео\r\n                document.querySelectorAll(`.video-slide-{{ section.id }}`).forEach(element => {\r\n                  if(item != element) {\r\n                    const video = element.querySelector('video');\r\n                    const iframe = element.querySelector('iframe');\r\n                    const videoPlay = element.querySelector('.video-icon-{{ section.id }}');\r\n                    if(videoPlay) {\r\n                      videoPlay.classList.remove('active');\r\n                    }\r\n      \r\n                    if(iframe) {\r\n                      const player = players.get(iframe);\r\n                      if (player && playerReady.get(iframe)) {\r\n                        if (iframe.src.includes('youtube.com')) {\r\n                          player.pauseVideo();\r\n                          player.mute();\r\n                        } else if (iframe.src.includes('vimeo.com')) {\r\n                          player.pause();\r\n                          player.setMuted(true);\r\n                        }\r\n                      }\r\n                    }\r\n                    if(video) {\r\n                      video.removeAttribute('controls');\r\n                      video.pause();\r\n                    }\r\n                  }\r\n                });\r\n\r\n                // Запускаем текущее видео\r\n                if (video) {      \r\n                  video.play();\r\n                  video.setAttribute('controls', 'true');\r\n                }\r\n                if (iframe) {\r\n                  playVideoWithSound(iframe);\r\n                }\r\n                                      \r\n              }\r\n              videoPlay.classList.toggle('active'); \r\n            })  \r\n          }   \r\n        }\r\n      });\r\n\r\n      // Функция воспроизведения со звуком\r\n      function playVideoWithSound(iframe) {\r\n        const player = players.get(iframe);\r\n        const ready = playerReady.get(iframe);\r\n        \r\n        if (!player || !ready) {\r\n          // Плеер еще не готов, ждем и пробуем снова\r\n          console.log('Player not ready, waiting...');\r\n          setTimeout(() => playVideoWithSound(iframe), 300);\r\n          return;\r\n        }\r\n        \r\n        if (iframe.src.includes('youtube.com')) {\r\n          player.unMute();\r\n          player.setVolume(100);\r\n          player.playVideo();\r\n        } else if (iframe.src.includes('vimeo.com')) {\r\n          player.setMuted(false).then(() => {\r\n            player.setVolume(1);\r\n            player.play();\r\n          }).catch(err => {\r\n            console.error('Vimeo play error:', err);\r\n          });\r\n        }\r\n      }\r\n\r\n      const slider= new Swiper('.video-slider-{{ section.id }}', \r\n        {\r\n          speed:300,\r\n          slidesPerView: \"auto\",\r\n          scrollbar: {\r\n            el: '.video-scrollbar-{{ section.id }}',\r\n            draggable: true,\r\n          },\r\n          mousewheel: {\r\n            forceToAxis: true,\r\n            sensitivity: 1,\r\n            releaseOnEdges: true\r\n          },\r\n          breakpoints:{\r\n            320: {\r\n              spaceBetween:{{ slider_gap_mobile }},              \r\n              slidesPerView: {{ slider_view_mobile }}\r\n            },\r\n            768: {\r\n              spaceBetween:{{ slider_gap_mobile }},\r\n              slidesPerView: {{ slider_view_mobile }}\r\n            },\r\n            1024:{\r\n              spaceBetween:{{ slider_gap }},\r\n              slidesPerView: {{ slider_view }}\r\n            }\r\n          }\r\n        }\r\n      );\r\n    }, 1000);\r\n  }\r\n  \r\n  document.addEventListener('DOMContentLoaded', initProductVideos5);\r\n  \r\n  if (Shopify.designMode) {\r\n     document.addEventListener('shopify:section:unload', initProductVideos5);\r\n     document.addEventListener('shopify:section:load', initProductVideos5);\r\n  }\r\n</script>",
  "variables": {
    "videos_position": {
      "type": "text",
      "default": "above_description",
      "label": "Position",
      "description": "Position"
    },
    "use_metafield": {
      "type": "text",
      "default": "",
      "label": "Use metafield",
      "description": "Name the metafield 'SS Product Videos #5'."
    },
    "heading": {
      "type": "textarea",
      "default": "<h5>Loved by 200,000+ happy customers.</h5>",
      "label": "Heading",
      "description": "Heading"
    },
    "heading_custom": {
      "type": "text",
      "default": "false",
      "label": "Use custom font",
      "description": "Use custom font"
    },
    "heading_font": {
      "type": "text",
      "default": "josefin_sans_n4",
      "label": "Font family",
      "description": "Font family"
    },
    "heading_size": {
      "type": "text",
      "default": "14",
      "label": "Font size",
      "description": "Font size"
    },
    "heading_size_mobile": {
      "type": "text",
      "default": "14",
      "label": "Font size - mobile",
      "description": "Font size - mobile"
    },
    "heading_height": {
      "type": "text",
      "default": "150",
      "label": "Line height",
      "description": "Line height"
    },
    "heading_align": {
      "type": "text",
      "default": "center",
      "label": "Alignment",
      "description": "Alignment"
    },
    "heading_align_mobile": {
      "type": "text",
      "default": "center",
      "label": "Alignment - mobile",
      "description": "Alignment - mobile"
    },
    "slider_view": {
      "type": "text",
      "default": "3.5",
      "label": "Videos per view",
      "description": "Videos per view"
    },
    "slider_view_mobile": {
      "type": "text",
      "default": "2.5",
      "label": "Videos per view - mobile",
      "description": "Videos per view - mobile"
    },
    "slider_advanced": {
      "type": "text",
      "default": "false",
      "label": "Advanced settings",
      "description": "Advanced settings"
    },
    "slider_gap": {
      "type": "text",
      "default": "8",
      "label": "Gap",
      "description": "Gap"
    },
    "slider_gap_mobile": {
      "type": "text",
      "default": "8",
      "label": "Gap - mobile",
      "description": "Gap - mobile"
    },
    "slider_mt": {
      "type": "text",
      "default": "20",
      "label": "Margin top",
      "description": "Margin top"
    },
    "slider_mt_mobile": {
      "type": "text",
      "default": "20",
      "label": "Margin top - mobile",
      "description": "Margin top - mobile"
    },
    "card_radius": {
      "type": "text",
      "default": "8",
      "label": "Roundness",
      "description": "Roundness"
    },
    "card_border_thickness": {
      "type": "text",
      "default": "0",
      "label": "Border thickness",
      "description": "Border thickness"
    },
    "video_ratio": {
      "type": "text",
      "default": "portrait",
      "label": "Aspect ratio",
      "description": "Aspect ratio"
    },
    "video_ratio_mobile": {
      "type": "text",
      "default": "portrait",
      "label": "Aspect ratio - mobile",
      "description": "Aspect ratio - mobile"
    },
    "icon_size": {
      "type": "text",
      "default": "32",
      "label": "Size",
      "description": "Size"
    },
    "icon_size_mobile": {
      "type": "text",
      "default": "32",
      "label": "Size - mobile",
      "description": "Size - mobile"
    },
    "icon_border_thickness": {
      "type": "text",
      "default": "0",
      "label": "Border thickness",
      "description": "Border thickness"
    },
    "icon_position": {
      "type": "text",
      "default": "center",
      "label": "Position",
      "description": "Position"
    },
    "icon_position_mobile": {
      "type": "text",
      "default": "center",
      "label": "Position - mobile",
      "description": "Position - mobile"
    },
    "scrollbar_height": {
      "type": "text",
      "default": "4",
      "label": "Height",
      "description": "Height"
    },
    "scrollbar_mt": {
      "type": "text",
      "default": "20",
      "label": "Margin top",
      "description": "Margin top"
    },
    "scrollbar_mt_mobile": {
      "type": "text",
      "default": "20",
      "label": "Margin top - mobile",
      "description": "Margin top - mobile"
    },
    "scrollbar_show_desktop": {
      "type": "text",
      "default": "true",
      "label": "Show on desktop",
      "description": "Show on desktop"
    },
    "scrollbar_show_mobile": {
      "type": "text",
      "default": "true",
      "label": "Show on mobile",
      "description": "Show on mobile"
    },
    "card_border_color": {
      "type": "color",
      "default": "#000000",
      "label": "Border",
      "description": "Border"
    },
    "icon_color": {
      "type": "color",
      "default": "#FFFFFF",
      "label": "Icon",
      "description": "Icon"
    },
    "icon_bg_color": {
      "type": "color",
      "default": "#000000",
      "label": "Background",
      "description": "Background"
    },
    "icon_bg_opacity": {
      "type": "text",
      "default": "0.3",
      "label": "Opacity",
      "description": "Opacity"
    },
    "icon_border_color": {
      "type": "color",
      "default": "#FFFFFF",
      "label": "Border",
      "description": "Border"
    },
    "scrollbar_drag_bg_color": {
      "type": "color",
      "default": "#000000",
      "label": "Drag",
      "description": "Drag"
    },
    "scrollbar_bg_color": {
      "type": "color",
      "default": "#F3F3F3",
      "label": "Background",
      "description": "Background"
    },
    "background_style": {
      "type": "text",
      "default": "solid",
      "label": "Background style",
      "description": "Background style"
    },
    "background_color": {
      "type": "color",
      "default": "transparent",
      "label": "Background",
      "description": "Background"
    },
    "background_gradient": {
      "type": "color",
      "default": "linear-gradient(180deg, #FFFFFF 0%, #F2F2F2 100%)",
      "label": "Gradient",
      "description": "Gradient"
    },
    "border_color": {
      "type": "color",
      "default": "#000000",
      "label": "Border",
      "description": "Border"
    },
    "margin_top": {
      "type": "text",
      "default": "0",
      "label": "Top",
      "description": "Top"
    },
    "margin_bottom": {
      "type": "text",
      "default": "0",
      "label": "Bottom",
      "description": "Bottom"
    },
    "padding_top": {
      "type": "text",
      "default": "20",
      "label": "Top",
      "description": "Top"
    },
    "padding_bottom": {
      "type": "text",
      "default": "20",
      "label": "Bottom",
      "description": "Bottom"
    },
    "padding_horizontal": {
      "type": "text",
      "default": "0",
      "label": "Sides",
      "description": "Sides"
    },
    "padding_horizontal_mobile": {
      "type": "text",
      "default": "0",
      "label": "Sides - mobile",
      "description": "Sides - mobile"
    },
    "border_thickness": {
      "type": "text",
      "default": "0",
      "label": "Border thickness",
      "description": "Border thickness"
    },
    "lazy": {
      "type": "text",
      "default": "true",
      "label": "Lazy load",
      "description": "Lazy load media for speed optimisation"
    }
  }
}