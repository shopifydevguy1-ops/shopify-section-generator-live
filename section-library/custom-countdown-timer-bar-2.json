{
  "id": "custom-countdown-timer-bar-2",
  "name": "Countdown timer bar #2",
  "description": "Section: Countdown timer bar #2",
  "tags": [
    "countdown"
  ],
  "type": "custom",
  "liquid_code": "{%- liquid \n  assign padding_horizontal = section.settings.padding_horizontal\n  assign padding_horizontal_mobile = section.settings.padding_horizontal_mobile\n  assign padding_top = section.settings.padding_top\n  assign padding_bottom = section.settings.padding_bottom\n  assign border_color = section.settings.border_color\n  assign border_thickness = section.settings.border_thickness\n  assign margin_top = section.settings.margin_top\n  assign margin_bottom = section.settings.margin_bottom\n  assign background_color = section.settings.background_color\n  assign background_gradient = section.settings.background_gradient\n  assign content_width = section.settings.content_width\n  assign full_width = section.settings.full_width\n\n  assign text = section.settings.text\n  assign text_url = section.settings.text_url\n  assign text_size = section.settings.text_size\n  assign text_size_mobile = section.settings.text_size_mobile\n  assign text_color = section.settings.text_color\n  assign text_custom = section.settings.text_custom\n  assign text_font = section.settings.text_font\n  assign text_height = section.settings.text_height\n  \n  assign year = section.settings.year\n  assign month = section.settings.month\n  assign day = section.settings.day\n  assign days_text = section.settings.days_text\n  assign hour = section.settings.hour\n  assign hours_text = section.settings.hours_text\n  assign minute = section.settings.minute\n  assign minutes_text = section.settings.minutes_text\n  assign seconds_text = section.settings.seconds_text\n  assign ends_text = section.settings.ends_text\n  assign hide_timer_on_completed = section.settings.hide_timer_on_completed\n  assign hide_section_on_completed = section.settings.hide_section_on_completed\n\n  assign timer_padding_horizontal = section.settings.timer_padding_horizontal\n  assign timer_padding_horizontal_mobile = section.settings.timer_padding_horizontal_mobile\n  assign timer_padding_vertical = section.settings.timer_padding_vertical\n  assign timer_padding_vertical_mobile = section.settings.timer_padding_vertical_mobile\n  assign timer_bg_color = section.settings.timer_bg_color\n  assign timer_border_thickness = section.settings.timer_border_thickness\n  assign timer_border_color = section.settings.timer_border_color\n  assign timer_radius = section.settings.timer_radius\n  assign timer_bg_color = section.settings.timer_bg_color\n\n  assign number_custom = section.settings.number_custom\n  assign number_font = section.settings.number_font\n  assign number_size = section.settings.number_size\n  assign number_size_mobile = section.settings.number_size_mobile\n  assign number_height = section.settings.number_height\n  assign number_color = section.settings.number_color\n\n  assign timer_text_custom = section.settings.timer_text_custom\n  assign timer_text_font = section.settings.timer_text_font\n  assign timer_text_size = section.settings.timer_text_size\n  assign timer_text_size_mobile = section.settings.timer_text_size_mobile\n  assign timer_text_height = section.settings.timer_text_height\n  assign timer_text_color = section.settings.timer_text_color\n\n  assign completed_text = section.settings.completed_text\n  assign completed_text_custom = section.settings.completed_text_custom\n  assign completed_text_font = section.settings.completed_text_font\n  assign completed_text_size = section.settings.completed_text_size\n  assign completed_text_size_mobile = section.settings.completed_text_size_mobile\n  assign completed_text_height = section.settings.completed_text_height\n  assign completed_text_color = section.settings.completed_text_color\n-%}\n\n{%- style -%}\n  {{  number_font | font_face: font_display: 'swap' }}\n  {{  completed_text_font | font_face: font_display: 'swap' }}\n  {{  timer_text_font | font_face: font_display: 'swap' }}\n  {{  text_font | font_face: font_display: 'swap' }}\n  \n  .section-{{ section.id }} {\n    border-top: solid {{ border_color }} {{ border_thickness }}px;\n    border-bottom: solid {{ border_color }} {{ border_thickness }}px;\n    margin-top: {{ margin_top | times: 0.75 | round: 0 }}px;\n    margin-bottom: {{ margin_bottom | times: 0.75 | round: 0 }}px;\n    overflow: hidden;\n  }\n\n  .section-{{ section.id }}-settings {\n    margin: 0 auto;\n    position: relative;\n    padding-top: {{ padding_top | times: 0.75 | round: 0 }}px;\n    padding-bottom: {{ padding_bottom | times: 0.75 | round: 0 }}px;\n    padding-left: {{ padding_horizontal_mobile }}rem;\n    padding-right: {{ padding_horizontal_mobile }}rem;\n  }\n\n  .countdown-timer-content-{{ section.id }} {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    gap: 10px;\n  }\n\n  .countdown-timer-text-{{ section.id }} {\n    margin: 0;\n    font-size: {{ text_size_mobile }}px;\n    color: {{ text_color }};\n    line-height: {{ text_height }}%;\n    max-width: 100%;\n    text-align: center;\n    text-transform: unset;\n    text-decoration: none;\n  }\n\n  .countdown-timer-timer-{{ section.id }} {\n    display: flex;    \n    position: relative;\n    align-items: center;  \n    background-color: {{ timer_bg_color }};\n    gap: 4px;\n    padding: {{ timer_padding_vertical_mobile }}px {{ timer_padding_horizontal_mobile }}px;\n    border: {{ timer_border_thickness }}px solid {{ timer_border_color }};\n    border-radius: {{ timer_radius }}px;\n  }\n\n  .countdown-timer-timer-{{ section.id }} .time-block {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    text-align: center;\n    width: 100%;\n    gap: 4px;\n    text-wrap: nowrap\n  }\n\n  .countdown-timer-timer-{{ section.id }} .time-block__num {\n    margin: 0;\n    font-size: {{ number_size_mobile }}px;\n    color: {{ number_color }};\n    line-height: {{ number_height }}%;\n    text-transform: unset;\n  }\n  \n  .countdown-timer-timer-{{ section.id }} .time-block__unit {\n    margin: 0;\n    font-size: {{ timer_text_size_mobile }}px;\n    color: {{ timer_text_color }};\n    line-height: {{ timer_text_height }}%;\n    text-transform: unset;\n  }\n\n  .countdown-timer-completed-text-{{ section.id }} {\n    display: none;\n    position: relative;    \n  }\n\n  .countdown-timer-completed-text-{{ section.id }} * {\n    margin: 0;\n    font-size: {{ completed_text_size_mobile }}px;\n    color: {{ completed_text_color }};\n    line-height: {{ completed_text_height }}%;\n    text-transform: unset;\n  }\n\n  .countdown-timer-timer-{{ section.id }} .time-block__text {\n    display: flex;\n    align-items: center;\n    gap: 4px;\n  }\n  \n  @media(min-width: 1024px) {\n    .section-{{ section.id }} {\n      margin-top: {{ margin_top }}px;\n      margin-bottom: {{ margin_bottom }}px;      \n    }\n\n    .section-{{ section.id }}-settings {\n      padding: 0 5rem;\n      padding-top: {{ padding_top }}px;\n      padding-bottom: {{ padding_bottom }}px;\n      padding-left: {{ padding_horizontal }}rem;\n      padding-right: {{ padding_horizontal }}rem;\n    }\n\n    .countdown-timer-content-{{ section.id }} {\n      flex-direction: row;\n    }\n\n    .countdown-timer-text-{{ section.id }} {\n      max-width: 40%;\n      font-size: {{ text_size }}px;\n    }\n\n    .countdown-timer-timer-{{ section.id }} {\n      position: absolute;\n      right: {{ padding_horizontal_mobile }}rem;\n      padding: {{ timer_padding_vertical }}px {{ timer_padding_horizontal }}px;\n      right: {{ padding_horizontal }}rem;\n    }\n\n    .countdown-timer-completed-text-{{ section.id }} {\n      position: absolute;\n      right: {{ padding_horizontal_mobile }}rem;\n    }\n\n    .countdown-timer-timer-{{ section.id }} .time-block__num {\n      font-size: {{ number_size }}px;\n    }\n\n    .countdown-timer-timer-{{ section.id }} .time-block__unit {\n      font-size: {{ timer_text_size }}px;\n    }\n\n    .countdown-timer-completed-text-{{ section.id }} * {\n      font-size: {{ completed_text_size }}px;\n    }\n  }\n  \n{%- endstyle -%}\n\n{% unless full_width %}\n  <style>\n    .section-{{ section.id }}-settings {\n      max-width: {{ content_width }}px;\n    }\n  </style>\n{% endunless %}\n\n{% unless hide_timer_on_completed %}\n  <style>\n    @media(min-width: 1024px) {\n      .countdown-timer-completed-text-{{ section.id }} {\n        right: 34rem;\n      }\n    }    \n  </style>\n{% endunless %}\n\n{% if text_custom %}\n  <style>\n    .countdown-timer-text-{{ section.id }} {\n      font-family: {{ text_font.family }}, {{ text_font.fallback_families }};\n      font-weight: {{ text_font.weight }};\n      font-style: {{ text_font.style }};\n    }\n  </style>\n{% endif %}\n\n{% if number_custom %}\n  <style>\n    .countdown-timer-{{ section.id }} .time-block__num {\n      font-family: {{ number_font.family }}, {{ number_font.fallback_families }};\n      font-weight: {{ number_font.weight }};\n      font-style: {{ number_font.style }};\n    }\n  </style>\n{% endif %}\n\n{% if timer_text_custom %}\n  <style>\n    .countdown-timer-{{ section.id }} .time-block__unit {\n      font-family: {{ timer_text_font.family }}, {{ timer_text_font.fallback_families }};\n      font-weight: {{ timer_text_font.weight }};\n      font-style: {{ timer_text_font.style }};\n    }\n  </style>\n{% endif %}\n\n{% if completed_text_custom %}\n  <style>\n    .countdown-timer-completed-text-{{ section.id }} * {\n      font-family: {{ completed_text_font.family }}, {{ completed_text_font.fallback_families }};\n      font-weight: {{ completed_text_font.weight }};\n      font-style: {{ completed_text_font.style }};\n    }\n  </style>\n{% endif %}\n\n\n<template id=\"countdown-timer-template-{{ section.id }}\">\n  <div class=\"section-{{ section.id }} countdown-timer-{{ section.id }}\" style=\"background-color:{{ background_color }}; background-image: {{ background_gradient }};\">\n    <div class=\"section-{{ section.id }}-settings\">  \n      <div class=\"countdown-timer-content-{{ section.id }}\">\n          {% if text != blank %}\n            <{% if text_url  != blank %}a href=\"{{ text_url }}\"{% else %}p{% endif %} class=\"countdown-timer-text-{{ section.id }}\"> \n              {{ text }}\n            </{% if text_url != blank %}a{% else %}p{% endif %}>      \n          {% endif %}\n          <div class=\"countdown-timer-timer-{{ section.id }}\">        \n            <div class=\"time-block\">\n              <span class=\"time-block__unit\">{{ ends_text }}</span>\n            </div>\n            <div class=\"time-block\">\n              <span class=\"time-block__num js-timer-days\">00</span>\n              <div class=\"time-block__text\">\n                <span class=\"time-block__unit\">{{ days_text }}</span>\n                <span class=\"time-block__unit\">:</span>\n              </div>              \n            </div>\n            <div class=\"time-block\">\n              <span class=\"time-block__num js-timer-hours\">00</span>\n              <div class=\"time-block__text\">\n                <span class=\"time-block__unit\">{{ hours_text }}</span>\n                <span class=\"time-block__unit\">:</span>\n              </div>              \n            </div>\n            <div class=\"time-block\">\n              <span class=\"time-block__num js-timer-minutes\">00</span>\n              <div class=\"time-block__text\">\n                <span class=\"time-block__unit\">{{ minutes_text }}</span>\n                <span class=\"time-block__unit\">:</span>\n              </div>                   \n            </div>\n            <div class=\"time-block\">\n              <span class=\"time-block__num js-timer-seconds\">00</span>\n              <span class=\"time-block__unit\">{{ seconds_text }}</span>\n            </div>\n          </div>\n          <div class=\"countdown-timer-completed-text-{{ section.id }}\">\n            {{ completed_text }}\n          </div>\n        </div>\n      </div>\n    </div>  \n</template>\n\n<div id=\"countdown-timer-local-target-{{ section.id }}\"></div>\n\n<script>\n  function initCountdownTimerBar2() {\n    let section = document.querySelector('.countdown-timer-{{ section.id }}');\n    let cssTarget = '{{ section.settings.insert_css_class_target }}';\n    let productForm = cssTarget\n      ? document.querySelector(cssTarget)\n      : document.querySelector('#countdown-timer-local-target-{{ section.id }}');\n\n    if (!productForm) return;\n\n    const templateContent = document.querySelector(\n      '#countdown-timer-template-{{ section.id }}'\n    ).content;\n\n    productForm.insertAdjacentElement(\n      'beforebegin',\n      templateContent.firstElementChild\n    );\n\n    function startTimer() {\n      const second = 1000,\n        minute = second * 60,\n        hour = minute * 60,\n        day = hour * 24,\n        wrapper = document.querySelector(\n          '.countdown-timer-timer-{{ section.id }}'\n        ),\n        countDown = new Date('{{ year }}-{{ month }}-{{ day }}T{{ hour }}:{{ minute }}:00Z').getTime();\n\n      console.log('start timer, end date:' + countDown)\n      const interval = setInterval(function () {\n        let now = new Date().getTime(),\n          distance = countDown - now,\n          days = Math.floor(distance / day),\n          hours = Math.floor((distance % day) / hour),\n          minutes = Math.floor((distance % hour) / minute),\n          seconds = Math.floor((distance % minute) / second);\n\n        (wrapper.querySelector('.js-timer-days').innerText = (\n          days\n        )),\n          (wrapper.querySelector('.js-timer-hours').innerText = (\n            hours\n          )),\n          (wrapper.querySelector('.js-timer-minutes').innerText = (\n            minutes\n          )),\n          (wrapper.querySelector('.js-timer-seconds').innerText = (\n            seconds\n          ));\n\n        if (distance < 0) {\n          wrapper.querySelector('.js-timer-days').innerText = '00';\n          wrapper.querySelector('.js-timer-hours').innerText = '00';\n          wrapper.querySelector('.js-timer-minutes').innerText = '00';\n          wrapper.querySelector('.js-timer-seconds').innerText = '00';\n          {% if hide_timer_on_completed %}\n            wrapper.style.display = 'none';   \n            document.querySelector(\n            '.countdown-timer-completed-text-{{ section.id }}'\n          ).style.display = 'block';         \n          {% endif %}\n\n          {% if hide_section_on_completed %}\n            section.style.display = 'none';\n          {% endif %}\n\n          clearInterval(interval);\n        }\n\n      }, second);\n      document.addEventListener('shopify:section:unload', function (event) {\n        if (event.detail.sectionId === '{{ section.id }}') clearInterval(interval);\n      });\n    }\n    startTimer();\n    if (window.Shopify && Shopify.designMode) {\n      document.addEventListener('shopify:section:load', function (event) {\n        if (event.detail.sectionId === '{{ section.id }}') {\n          startTimer();\n        }\n      });\n    }\n  }\n\n  document.addEventListener('DOMContentLoaded', initCountdownTimerBar2);\n  \n</script>",
  "variables": {
    "insert_css_class_target": {
      "type": "text",
      "default": ".header, .pageheader, .section-header, #announcement, .toolbar, .header__wrapper",
      "label": "Target CSS Class",
      "description": "Empty this text field to drag section into desired position. This is for older themes without the ability to add sections directly in the header area."
    },
    "text": {
      "type": "text",
      "default": "Countdown timer",
      "label": "Text",
      "description": "Text"
    },
    "text_url": {
      "type": "text",
      "default": "",
      "label": "URL",
      "description": "URL"
    },
    "text_custom": {
      "type": "text",
      "default": "false",
      "label": "Use custom font",
      "description": "Use custom font"
    },
    "text_font": {
      "type": "text",
      "default": "josefin_sans_n4",
      "label": "Font family",
      "description": "Font family"
    },
    "text_size": {
      "type": "text",
      "default": "15",
      "label": "Font size",
      "description": "Font size"
    },
    "text_size_mobile": {
      "type": "text",
      "default": "13",
      "label": "Font size - mobile",
      "description": "Font size - mobile"
    },
    "text_height": {
      "type": "text",
      "default": "130",
      "label": "Line height",
      "description": "Line height"
    },
    "year": {
      "type": "text",
      "default": "2025",
      "label": "Year",
      "description": "Year"
    },
    "month": {
      "type": "text",
      "default": "01",
      "label": "Month",
      "description": "Month"
    },
    "days_text": {
      "type": "text",
      "default": "DAYS",
      "label": "Days text",
      "description": "Days text"
    },
    "day": {
      "type": "text",
      "default": "01",
      "label": "Day",
      "description": "Day"
    },
    "hours_text": {
      "type": "text",
      "default": "HRS",
      "label": "Hours text",
      "description": "Hours text"
    },
    "hour": {
      "type": "text",
      "default": "00",
      "label": "Hour",
      "description": "Hour"
    },
    "minutes_text": {
      "type": "text",
      "default": "MIN",
      "label": "Minutes text",
      "description": "Minutes text"
    },
    "minute": {
      "type": "text",
      "default": "00",
      "label": "Minute",
      "description": "Minute"
    },
    "seconds_text": {
      "type": "text",
      "default": "SEC",
      "label": "Seconds text",
      "description": "Seconds text"
    },
    "ends_text": {
      "type": "text",
      "default": "ENDS IN",
      "label": "Ends text",
      "description": "Ends text"
    },
    "hide_timer_on_completed": {
      "type": "text",
      "default": "false",
      "label": "Hide timer on completed",
      "description": "Hide timer on completed"
    },
    "hide_section_on_completed": {
      "type": "text",
      "default": "false",
      "label": "Hide section on completed",
      "description": "Hide section on completed"
    },
    "timer_padding_horizontal": {
      "type": "text",
      "default": "14",
      "label": "Padding horizontal",
      "description": "Padding horizontal"
    },
    "timer_padding_horizontal_mobile": {
      "type": "text",
      "default": "14",
      "label": "Padding horizontal - mobile",
      "description": "Padding horizontal - mobile"
    },
    "timer_padding_vertical": {
      "type": "text",
      "default": "7",
      "label": "Padding vertical",
      "description": "Padding vertical"
    },
    "timer_padding_vertical_mobile": {
      "type": "text",
      "default": "6",
      "label": "Padding vertical - mobile",
      "description": "Padding vertical - mobile"
    },
    "timer_radius": {
      "type": "text",
      "default": "100",
      "label": "Roundness",
      "description": "Roundness"
    },
    "timer_border_thickness": {
      "type": "text",
      "default": "1.5",
      "label": "Border thickness",
      "description": "Border thickness"
    },
    "timer_text_custom": {
      "type": "text",
      "default": "false",
      "label": "Use custom font",
      "description": "Use custom font"
    },
    "timer_text_font": {
      "type": "text",
      "default": "josefin_sans_n4",
      "label": "Font family",
      "description": "Font family"
    },
    "timer_text_size": {
      "type": "text",
      "default": "12",
      "label": "Font size",
      "description": "Font size"
    },
    "timer_text_size_mobile": {
      "type": "text",
      "default": "12",
      "label": "Font size - mobile",
      "description": "Font size - mobile"
    },
    "timer_text_height": {
      "type": "text",
      "default": "100",
      "label": "Line height",
      "description": "Line height"
    },
    "number_custom": {
      "type": "text",
      "default": "false",
      "label": "Use custom font",
      "description": "Use custom font"
    },
    "number_font": {
      "type": "text",
      "default": "josefin_sans_n4",
      "label": "Font family",
      "description": "Font family"
    },
    "number_size": {
      "type": "text",
      "default": "16",
      "label": "Font size",
      "description": "Font size"
    },
    "number_size_mobile": {
      "type": "text",
      "default": "16",
      "label": "Font size - mobile",
      "description": "Font size - mobile"
    },
    "number_height": {
      "type": "text",
      "default": "100",
      "label": "Line height",
      "description": "Line height"
    },
    "completed_text": {
      "type": "textarea",
      "default": "<p>Completed</p>",
      "label": "Text",
      "description": "Text"
    },
    "completed_text_custom": {
      "type": "text",
      "default": "false",
      "label": "Use custom font",
      "description": "Use custom font"
    },
    "completed_text_font": {
      "type": "text",
      "default": "josefin_sans_n4",
      "label": "Font family",
      "description": "Font family"
    },
    "completed_text_size": {
      "type": "text",
      "default": "15",
      "label": "Font size",
      "description": "Font size"
    },
    "completed_text_size_mobile": {
      "type": "text",
      "default": "13",
      "label": "Font size - mobile",
      "description": "Font size - mobile"
    },
    "completed_text_height": {
      "type": "text",
      "default": "100",
      "label": "Line height",
      "description": "Line height"
    },
    "timer_text_color": {
      "type": "color",
      "default": "#FFFFFF",
      "label": "Text",
      "description": "Text"
    },
    "number_color": {
      "type": "color",
      "default": "#FFFFFF",
      "label": "Number",
      "description": "Number"
    },
    "completed_text_color": {
      "type": "color",
      "default": "#FFFFFF",
      "label": "Completed text",
      "description": "Completed text"
    },
    "timer_bg_color": {
      "type": "color",
      "default": "",
      "label": "Background",
      "description": "Background"
    },
    "timer_border_color": {
      "type": "color",
      "default": "#FFFFFF",
      "label": "Border",
      "description": "Border"
    },
    "text_color": {
      "type": "color",
      "default": "#FFFFFF",
      "label": "Text",
      "description": "Text"
    },
    "background_color": {
      "type": "color",
      "default": "#E71D06",
      "label": "Section background",
      "description": "Section background"
    },
    "background_gradient": {
      "type": "color",
      "default": "",
      "label": "Section background gradient",
      "description": "Section background gradient"
    },
    "border_color": {
      "type": "color",
      "default": "#000000",
      "label": "Border",
      "description": "Border"
    },
    "margin_top": {
      "type": "text",
      "default": "0",
      "label": "Margin top",
      "description": "Margin top"
    },
    "margin_bottom": {
      "type": "text",
      "default": "0",
      "label": "Margin bottom",
      "description": "Margin bottom"
    },
    "padding_top": {
      "type": "text",
      "default": "18",
      "label": "Padding top",
      "description": "Padding top"
    },
    "padding_bottom": {
      "type": "text",
      "default": "18",
      "label": "Padding bottom",
      "description": "Padding bottom"
    },
    "padding_horizontal": {
      "type": "text",
      "default": "2",
      "label": "Padding sides",
      "description": "Padding sides"
    },
    "padding_horizontal_mobile": {
      "type": "text",
      "default": "2",
      "label": "Padding sides mobile",
      "description": "Padding sides mobile"
    },
    "full_width": {
      "type": "text",
      "default": "true",
      "label": "Full Width",
      "description": "Full Width"
    },
    "content_width": {
      "type": "text",
      "default": "1200",
      "label": "Section content width",
      "description": "Section content width"
    },
    "border_thickness": {
      "type": "text",
      "default": "0",
      "label": "Border thickness",
      "description": "Border thickness"
    }
  }
}