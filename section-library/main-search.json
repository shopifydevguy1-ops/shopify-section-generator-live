{
  "id": "main-search",
  "name": "t:sections.main-search.name",
  "description": "Section: t:sections.main-search.name",
  "tags": [
    "main"
  ],
  "type": "custom",
  "liquid_code": "{{ 'template-collection.css' | asset_url | stylesheet_tag }}\n{{ 'component-card.css' | asset_url | stylesheet_tag }}\n{{ 'component-price.css' | asset_url | stylesheet_tag }}\n\n<link rel=\"stylesheet\" href=\"{{ 'component-search.css' | asset_url }}\" media=\"print\" onload=\"this.media='all'\">\n\n<noscript>{{ 'component-search.css' | asset_url | stylesheet_tag }}</noscript>\n\n{%- if section.settings.enable_filtering or section.settings.enable_sorting -%}\n  {{ 'component-facets.css' | asset_url | stylesheet_tag }}\n  <script src=\"{{ 'facets.js' | asset_url }}\" defer=\"defer\"></script>\n{%- endif -%}\n\n<style>\n  .template-search__header {\n    margin-bottom: 3rem;\n  }\n\n  .template-search__search {\n    margin: 0 auto 3.5rem;\n    max-width: 47.8rem;\n  }\n\n  .template-search__search .search {\n    margin-top: 3rem;\n  }\n\n  .template-search--empty {\n    padding-bottom: 18rem;\n  }\n\n  @media screen and (min-width: 750px) {\n    .template-search__header {\n      margin-bottom: 5rem;\n    }\n  }\n\n  .search__button .icon {\n    height: 1.8rem;\n  }\n</style>\n\n{%- liquid\n  assign sort_by = search.sort_by | default: search.default_sort_by\n  assign terms = search.terms | escape\n  assign search_url = '?q=' | append: terms | append: '&options%5Bprefix%5D=last&sort_by=' | append: sort_by\n-%}\n\n{%- style -%}\n  .section-{{ section.id }}-padding {\n    padding-top: {{ section.settings.padding_top | times: 0.75 | round: 0 }}px;\n    padding-bottom: {{ section.settings.padding_bottom | times: 0.75 | round: 0 }}px;\n  }\n\n  @media screen and (min-width: 750px) {\n    .section-{{ section.id }}-padding {\n      padding-top: {{ section.settings.padding_top }}px;\n      padding-bottom: {{ section.settings.padding_bottom }}px;\n    }\n  }\n{%- endstyle -%}\n\n<div class=\"template-search{% unless search.performed and search.results_count > 0 %} template-search--empty{% endunless %} section-{{ section.id }}-padding\">\n  <div class=\"template-search__header page-width center\">\n    {%- if search.performed -%}\n      <h1 class=\"h2\">{{ 'templates.search.title' | t }}</h1>\n    {%- else -%}\n      <h1 class=\"h2\">{{ 'general.search.search' | t }}</h1>\n    {%- endif -%}\n    <div class=\"template-search__search\">\n      {%- if settings.predictive_search_enabled -%}\n        <predictive-search data-loading-text=\"{{ 'accessibility.loading' | t }}\">\n      {%- endif -%}\n        <form action=\"{{ routes.search_url }}\" method=\"get\" role=\"search\" class=\"search\">\n          <div class=\"field\">\n            <input\n              class=\"search__input field__input\"\n              id=\"Search-In-Template\"\n              type=\"search\"\n              name=\"q\"\n              value=\"{{ search.terms | escape }}\"\n              placeholder=\"{{ 'general.search.search' | t }}\"\n              {%- if settings.predictive_search_enabled -%}\n                role=\"combobox\"\n                aria-expanded=\"false\"\n                aria-owns=\"predictive-search-results-list\"\n                aria-controls=\"predictive-search-results-list\"\n                aria-haspopup=\"listbox\"\n                aria-autocomplete=\"list\"\n                autocorrect=\"off\"\n                autocomplete=\"off\"\n                autocapitalize=\"off\"\n                spellcheck=\"false\"\n              {%- endif -%}\n            >\n            <label class=\"field__label\" for=\"Search-In-Template\">{{ 'general.search.search' | t }}</label>\n            <input name=\"options[prefix]\" type=\"hidden\" value=\"last\">\n\n            {%- if settings.predictive_search_enabled -%}\n              <div class=\"predictive-search predictive-search--search-template\" tabindex=\"-1\" data-predictive-search>\n                <div class=\"predictive-search__loading-state\">\n                  <svg aria-hidden=\"true\" focusable=\"false\" role=\"presentation\" class=\"spinner\" viewBox=\"0 0 66 66\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <circle class=\"path\" fill=\"none\" stroke-width=\"6\" cx=\"33\" cy=\"33\" r=\"30\"></circle>\n                  </svg>\n                </div>\n              </div>\n\n              <span class=\"predictive-search-status visually-hidden\" role=\"status\" aria-hidden=\"true\"></span>\n            {%- endif -%}\n\n            <button type=\"submit\" class=\"search__button field__button\" aria-label=\"{{ 'general.search.search' | t }}\">\n              <svg class=\"icon icon-search\">\n                <use xlink:href=\"#icon-search\">\n              </svg>\n            </button>\n          </div>\n        </form>\n      {%- if settings.predictive_search_enabled -%}\n        </predictive-search>\n      {%- endif -%}\n\n    </div>\n    {%- if search.performed -%}\n      {%- unless section.settings.enable_filtering or section.settings.enable_sorting -%}\n        {%- if search.results_count > 0 -%}\n          <p role=\"status\">{{ 'templates.search.results_with_count_and_term' | t: terms: search.terms, count: search.results_count }}</p>\n        {%- endif -%}\n      {%- endunless -%}\n      {%- if search.results_count == 0 and search.filters == empty -%}\n        <p role=\"status\">{{ 'templates.search.no_results' | t: terms: search.terms }}</p>\n      {%- endif -%}\n    {%- endif -%}\n  </div>\n  {%- if search.performed -%}\n    {%- if section.settings.enable_sorting and section.settings.filter_type == 'vertical' and search.filters != empty -%}\n      <facet-filters-form class=\"facets facets-vertical-sort page-width small-hide no-js-hidden\">\n        <form class=\"facets-vertical-form\" id=\"FacetSortForm\">\n          <div class=\"facet-filters sorting caption\">\n            <div class=\"facet-filters__field\">\n              <h2 class=\"facet-filters__label caption-large text-body\">\n                <label for=\"SortBy\">{{ 'products.facets.sort_by_label' | t }}</label>\n              </h2>\n              <div class=\"select\">\n                {%- assign sort_by = search.sort_by | default: search.default_sort_by -%}\n                <select name=\"sort_by\" class=\"facet-filters__sort select__select caption-large\" id=\"SortBy\" aria-describedby=\"a11y-refresh-page-message\">\n                  {%- for option in search.sort_options -%}\n                    <option value=\"{{ option.value | escape }}\"{% if option.value == sort_by %} selected=\"selected\"{% endif %}>{{ option.name | escape }}</option>\n                  {%- endfor -%}\n                </select>\n                {% render 'icon-caret' %}\n              </div>\n            </div>\n            <noscript>\n              <button type=\"submit\" class=\"facets__button-no-js button button--secondary\">{{ 'products.facets.sort_button' | t }}</button>\n            </noscript>\n          </div>\n\n          <div class=\"product-count-vertical light\" role=\"status\">\n            <h2 class=\"product-count__text text-body\">\n              <span id=\"ProductCountDesktop\">\n                {%- if search.results_count -%}\n                  {{ 'templates.search.results_with_count' | t: terms: search.terms, count: search.results_count }}\n                {%- elsif search.products_count == search.all_products_count -%}\n                  {{ 'products.facets.product_count_simple' | t: count: search.products_count }}\n                {%- else -%}\n                  {{ 'products.facets.product_count' | t: product_count: search.products_count, count: search.all_products_count }}\n                {%- endif -%}\n              </span>\n            </h2>\n            <div class=\"loading-overlay__spinner\">\n              <svg aria-hidden=\"true\" focusable=\"false\" role=\"presentation\" class=\"spinner\" viewBox=\"0 0 66 66\" xmlns=\"http://www.w3.org/2000/svg\">\n                <circle class=\"path\" fill=\"none\" stroke-width=\"6\" cx=\"33\" cy=\"33\" r=\"30\"></circle>\n              </svg>\n            </div>\n          </div>  \n        </form>\n      </facet-filters-form>\n    {%- endif -%}\n    <div{% if section.settings.filter_type == 'vertical' %} class=\"facets-vertical page-width\"{% endif %}>\n      {%- if search.filters != empty -%}\n        {%- if section.settings.enable_filtering or section.settings.enable_sorting -%}\n          <aside aria-labelledby=\"verticalTitle\" class=\"facets-wrapper{% unless section.settings.enable_filtering %} facets-wrapper--no-filters{% endunless %}{% if section.settings.filter_type != 'vertical' %} page-width{% endif %}\" id=\"main-search-filters\" data-id=\"{{ section.id }}\">\n            {% render 'facets', results: search, enable_filtering: section.settings.enable_filtering, enable_sorting: section.settings.enable_sorting, filter_type: section.settings.filter_type %}\n          </aside>\n        {%- endif -%}\n      {%- endif -%}\n      <div class=\"product-grid-container\" id=\"ProductGridContainer\">\n        {%- if search.results.size == 0 and search.filters != empty -%}\n          <div class=\"template-search__results collection collection--empty{% if section.settings.filter_type != 'vertical' %} page-width{% endif %}\" id=\"product-grid\" data-id=\"{{ section.id }}\">\n            <div class=\"loading-overlay gradient\"></div>\n            <div class=\"title-wrapper center\">\n              <h2 class=\"title title--primary\">\n                {{ 'sections.collection_template.empty' | t }}<br>\n                {{ 'sections.collection_template.use_fewer_filters_html' | t: link: search_url, class: \"underlined-link link\" }}\n              </h2>\n            </div>\n          </div>\n        {%- else -%}\n          {% paginate search.results by 24 %}\n            <div class=\"template-search__results collection{% if section.settings.filter_type != 'vertical' %} page-width{% endif %}\" id=\"product-grid\" data-id=\"{{ section.id }}\">\n              <div class=\"loading-overlay gradient\"></div>\n              <ul class=\"grid product-grid  grid--{{ section.settings.columns_mobile }}-col-tablet-down grid--{{ section.settings.columns_desktop }}-col-desktop\" role=\"list\">\n                {%- for item in search.results -%}\n                  {% assign lazy_load = false %}\n                  {%- if forloop.index > 2 -%}\n                    {%- assign lazy_load = true -%}\n                  {%- endif -%}\n\n                  <li class=\"grid__item\">\n                    {%- case item.object_type -%}\n                      {%- when 'product' -%}\n                        {%- capture product_settings -%}{%- if section.settings.product_show_vendor -%}vendor,{%- endif -%}title,price{%- endcapture -%}\n                        {% render 'card-product',\n                          card_product: item,\n                          media_aspect_ratio: section.settings.image_ratio,\n                          show_secondary_image: section.settings.show_secondary_image,\n                          show_vendor: section.settings.show_vendor,\n                          show_rating: section.settings.show_rating,\n                          lazy_load: lazy_load\n                        %}\n                      {%- when 'article' -%}\n                        {% render 'article-card',\n                          article: item,\n                          show_image: true,\n                          show_date: section.settings.article_show_date,\n                          show_author: section.settings.article_show_author,\n                          show_badge: true,\n                          media_aspect_ratio: 1,\n                          lazy_load: lazy_load\n                        %}\n                      {%- when 'page' -%}\n                        <div class=\"article-card-wrapper card-wrapper underline-links-hover\">\n                          <div class=\"card card--card card--text ratio color-{{ settings.blog_card_color_scheme }}\" style=\"--ratio-percent: 100%;\">\n                            <div class=\"card__content\">\n                              <div class=\"card__information\">\n                                <h3 class=\"card__heading\">\n                                  <a href=\"{{ item.url }}\" class=\"full-unstyled-link\">\n                                    {{ item.title | truncate: 50 | escape }}\n                                  </a>\n                                </h3>\n                              </div>\n                              <div class=\"card__badge {{ settings.badge_position }}\">\n                                <span class=\"badge color-background-1\">{{ 'templates.search.page' | t }}</span>\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                    {%- endcase -%}\n                  </li>\n                {%- endfor -%}\n              </ul>\n              {%- if paginate.pages > 1 -%}\n                {% render 'pagination', paginate: paginate %}\n              {%- endif -%}\n            </div>\n          {% endpaginate %}\n        {%- endif -%}\n      </div>\n    </div>\n  {%- endif -%}\n</div>",
  "variables": {
    "columns_desktop": {
      "type": "text",
      "default": "4",
      "label": "t:sections.main-search.settings.columns_desktop.label",
      "description": "t:sections.main-search.settings.columns_desktop.label"
    },
    "image_ratio": {
      "type": "text",
      "default": "adapt",
      "label": "t:sections.main-search.settings.image_ratio.label",
      "description": "t:sections.main-search.settings.image_ratio.label"
    },
    "show_secondary_image": {
      "type": "text",
      "default": "false",
      "label": "t:sections.main-search.settings.show_secondary_image.label",
      "description": "t:sections.main-search.settings.show_secondary_image.label"
    },
    "show_vendor": {
      "type": "text",
      "default": "false",
      "label": "t:sections.main-search.settings.show_vendor.label",
      "description": "t:sections.main-search.settings.show_vendor.label"
    },
    "show_rating": {
      "type": "text",
      "default": "false",
      "label": "t:sections.main-search.settings.show_rating.label",
      "description": "t:sections.main-search.settings.show_rating.info"
    },
    "enable_filtering": {
      "type": "text",
      "default": "true",
      "label": "t:sections.main-collection-product-grid.settings.enable_filtering.label",
      "description": "t:sections.main-collection-product-grid.settings.enable_filtering.info"
    },
    "filter_type": {
      "type": "text",
      "default": "horizontal",
      "label": "t:sections.main-collection-product-grid.settings.filter_type.label",
      "description": "t:sections.main-collection-product-grid.settings.filter_type.info"
    },
    "enable_sorting": {
      "type": "text",
      "default": "true",
      "label": "t:sections.main-collection-product-grid.settings.enable_sorting.label",
      "description": "t:sections.main-collection-product-grid.settings.enable_sorting.label"
    },
    "article_show_date": {
      "type": "text",
      "default": "true",
      "label": "t:sections.main-search.settings.article_show_date.label",
      "description": "t:sections.main-search.settings.article_show_date.label"
    },
    "article_show_author": {
      "type": "text",
      "default": "false",
      "label": "t:sections.main-search.settings.article_show_author.label",
      "description": "t:sections.main-search.settings.article_show_author.label"
    },
    "columns_mobile": {
      "type": "text",
      "default": "2",
      "label": "t:sections.main-search.settings.columns_mobile.label",
      "description": "t:sections.main-search.settings.columns_mobile.label"
    },
    "padding_top": {
      "type": "text",
      "default": "36",
      "label": "t:sections.all.padding.padding_top",
      "description": "t:sections.all.padding.padding_top"
    },
    "padding_bottom": {
      "type": "text",
      "default": "36",
      "label": "t:sections.all.padding.padding_bottom",
      "description": "t:sections.all.padding.padding_bottom"
    }
  }
}