{
  "id": "countdown-2",
  "name": "CUSTOM Countdown timer 2",
  "description": "Section: CUSTOM Countdown timer 2",
  "tags": [
    "countdown"
  ],
  "type": "custom",
  "liquid_code": "<div\n  style=\"background-color:{{ section.settings.section-background-color }};\"\n>\n  <style>\n    .countdown-banner-{{ section.id }}-wrapper {\n      padding-top: var(--pt);\n      padding-bottom: var(--pb);\n    }\n    @media screen and (min-width: 750px) {\n      .countdown-banner-{{ section.id }}-wrapper {\n        padding-top: var(--pt-desktop);\n        padding-bottom: var(--pb-desktop);\n      }\n    }\n    .countdown-banner-{{ section.id }} {\n      position: relative;\n      padding: 32px;\n    }\n    @media screen and (min-width: 750px) {\n      .countdown-banner-{{ section.id }} {\n        padding: 25px 32px;\n      }\n    }\n  </style>\n  <div\n    class=\"\n      countdown-banner-{{ section.id }}-wrapper\n      {% unless section.settings.full_width %}\n      page-width\n      {% endunless %}\n    \"\n    style=\"\n      --pt: {{ section.settings.padding_top | times: 0.75 | round: 0 }}px;\n      --pt-desktop: {{ section.settings.padding_top }}px;\n      --pb: {{ section.settings.padding_bottom | times: 0.75 | round: 0 }}px;\n      --pb-desktop: {{ section.settings.padding_bottom }}px;\n    \"\n  >\n    <style>\n      .countdown-banner-{{ section.id }} {\n        position: relative;\n        padding: 32px;\n      }\n      @media screen and (min-width: 750px) {\n        .countdown-banner-{{ section.id }} {\n          padding-left: 4%;\n          padding-right: 4%;\n        }\n      }\n    </style>\n\n    <div\n      class=\"countdown-banner-{{ section.id }}\"\n      style=\"\n        background-color:{{ section.settings.bg_color }};\n        padding-top: {{ section.settings.pt }}px;\n        padding-bottom: {{ section.settings.pb }}px;\n\n        {% unless section.settings.full_width %}\n        border-radius: {{ section.settings.border_radius }}px;\n        {% endunless %}\n      \"\n    >\n      <style>\n        .countdown-banner-content-{{ section.id }} {\n          position: relative;\n          z-index: 1;\n          overflow: hidden;\n          width: 100%;\n          height: 100%;\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          flex-wrap: wrap;\n          gap: 2rem;\n          text-align: center;\n          line-height: 1.1;\n        }\n        @media screen and (min-width: 750px) {\n          .countdown-banner-content-{{ section.id }} {\n            flex-wrap: nowrap;\n          }\n        }\n      </style>\n      <div\n        class=\"\n          countdown-banner-content-{{ section.id }}\n          {% if section.settings.full_width %}\n          page-width\n          {% endif %}\n        \"\n      >\n        {% for block in section.blocks %}\n          {% case block.type %}\n            {% when 'text' %}\n              <style>\n                .countdown-banner-text-{{ section.id }}-{{ block.id }} {\n                  display: flex;\n                  flex-direction: column;\n                  justify-content: center;\n                  text-align:center;\n                  margin-top: 16px;\n                  margin-bottom: 16px;\n                  gap: 20px;\n                }\n                @media screen and (min-width: 750px) {\n                  .countdown-banner-text-{{ section.id }}-{{ block.id }} {\n                    text-align:left;\n                  }\n                }\n              </style>\n              <div class=\"countdown-banner-text-{{ section.id }}-{{ block.id }}\">\n                {% if block.settings.heading != blank %}\n                  <style>\n                    .countdown-banner-heading-{{ section.id }}-{{ block.id }} {\n                      font-weight: 700;\n                    }\n                  </style>\n                  <div\n                    class=\"countdown-banner-heading-{{ section.id }}-{{ block.id }}\"\n                    style=\"\n                      font-size: {{ block.settings.font_size }}px;\n                      color: {{ block.settings.color }};\n                    \"\n                  >\n                    {{ block.settings.heading }}\n                  </div>\n                {% endif %}\n                {% if block.settings.richtext != blank %}\n                  <style>\n                    .countdown-banner-richtext-{{ section.id }}-{{ block.id }} p {\n                      margin: 0;\n                      line-height: 1.5;\n                    }\n                  </style>\n                  <div\n                    class=\"countdown-banner-richtext-{{ section.id }}-{{ block.id }}\"\n                    style=\"\n                      font-size: {{ block.settings.richtext_font_size }}px;\n                      color: {{ block.settings.richtext_color }};\n                    \"\n                  >\n                    {{ block.settings.richtext }}\n                  </div>\n                {% endif %}\n              </div>\n            {% when 'timer' %}\n              <style>\n                .countdown-timer-{{ section.id }}-{{ block.id }} {\n                  display: flex;\n                  justify-content: center;\n                  align-items: center;\n                  flex-grow: 1;\n                  margin-top: 16px;\n                  margin-bottom: 16px;\n                  align-items: stretch;\n                }\n                .countdown-timer-{{ section.id }}-{{ block.id }} .time-block {\n                  position: relative;\n                  border-radius: 12px;\n                  /*padding: 20px;*/\n                  padding: 0 1rem;\n                }\n                .countdown-timer-{{ section.id }}-{{ block.id }} .time-block__num,\n                .countdown-timer-{{ section.id }}-{{ block.id }} .time-block__unit {\n                  display: block;\n                  text-align: center;\n                }\n                .countdown-timer-{{ section.id }}-{{ block.id }} .time-block__num {\n                  font-size: 25px;\n                  line-height: 1.2;\n                  font-weight: 700;\n                  margin-bottom: 4px;\n                }\n                .countdown-timer-{{ section.id }}-{{ block.id }} .time-block__unit {\n                  text-transform: uppercase;\n                  margin-top: 6px;\n                  font-size: 10px;\n                }\n                @media (min-width: 750px) {\n                  .countdown-timer-{{ section.id }}-{{ block.id }} .time-block__unit {\n                    font-size: 12px;\n                  }\n                }\n                .countdown-timer-{{ section.id }}-{{ block.id }} .time-divier {\n                  position: relative;\n                  width: 1px;\n                  min-height: 100%;\n                  background-color: var(--color);\n                }\n              </style>\n\n              <div\n                class=\"countdown-timer-{{ section.id }}-{{ block.id }}\"\n                {{ block.shopify_attributes }}\n                style=\"\n                  color: {{ block.settings.color }};\n                  --color: {{ block.settings.color }};\n                \"\n              >\n                <div class=\"time-block\">\n                  <span class=\"time-block__num js-timer-days\">00</span>\n                  <span class=\"time-block__unit\">{{ block.settings.days_translated }}</span>\n                </div>\n                {% comment %} <span class=\"time-colon\">:</span> {% endcomment %}\n                <span class=\"time-divier\"></span>\n                <div class=\"time-block\">\n                  <span class=\"time-block__num js-timer-hours\">00</span>\n                  <span class=\"time-block__unit\">{{ block.settings.hours_translated }}</span>\n                </div>\n                {% comment %} <span class=\"time-colon\">:</span> {% endcomment %}\n                <span class=\"time-divier\"></span>\n                <div class=\"time-block\">\n                  <span class=\"time-block__num js-timer-minutes\">00</span>\n                  <span class=\"time-block__unit\">{{ block.settings.minutes_translated }}</span>\n                </div>\n                {% comment %} <span class=\"time-colon\">:</span> {% endcomment %}\n                <span class=\"time-divier\"></span>\n                <div class=\"time-block\">\n                  <span class=\"time-block__num js-timer-seconds\">00</span>\n                  <span class=\"time-block__unit\">{{ block.settings.seconds_translated }}</span>\n                </div>\n              </div>\n\n              <style>\n                .countdown-timer-completed-text-{{ section.id }}-{{ block.id }} {\n                  display: none;\n                }\n              </style>\n              <div\n                class=\"countdown-timer-completed-text-{{ section.id }}-{{ block.id }}\"\n              >\n                {{ block.settings.timer_completed_text }}\n              </div>              \n            {% else %}\n\n          {% endcase %}\n        {% endfor %}\n      </div>\n    </div>\n  </div>\n</div>\n{% for block in section.blocks %}\n  {% if block.type == 'timer' %}\n    <script>\n      function initCountDownTimer2() {    \n        const offset = new Date().getTimezoneOffset();  \n        function startTimer() {\n          const second = 1000,\n            minute = second * 60,\n            hour = minute * 60,\n            day = hour * 24,\n            wrapper = document.querySelector(\n              '.countdown-timer-{{ section.id }}-{{ block.id }}'\n            ),\n            countDown = new Date('{{ block.settings.year }}-{{ block.settings.month }}-{{ block.settings.day }}T{{ block.settings.hour }}:{{ block.settings.minute }}:00Z').getTime();\n\n            const localDate = new Date(countDown);  \n            console.log('Local date: ', localDate.toString()); \n          console.log('start timer, end date:' + countDown)\n          const interval = setInterval(function () {\n            let now = new Date().getTime(),\n              distance = countDown - now,\n              days = Math.floor(distance / day),\n              hours = Math.floor((distance % day) / hour),\n              minutes = Math.floor((distance % hour) / minute),\n              seconds = Math.floor((distance % minute) / second);\n\n            (wrapper.querySelector('.js-timer-days').innerText = (\n              days\n            )),\n              (wrapper.querySelector('.js-timer-hours').innerText = (\n                hours\n              )),\n              (wrapper.querySelector('.js-timer-minutes').innerText = (\n                minutes\n              )),\n              (wrapper.querySelector('.js-timer-seconds').innerText = (\n                seconds\n              ));\n\n            if (distance < 0) {\n              wrapper.querySelector('.js-timer-days').innerText = '00';\n              wrapper.querySelector('.js-timer-hours').innerText = '00';\n              wrapper.querySelector('.js-timer-minutes').innerText = '00';\n              wrapper.querySelector('.js-timer-seconds').innerText = '00';\n              {% if block.settings.hide_timer_on_completed %}\n                wrapper.style.display = 'none';   \n                document.querySelector(\n                '.countdown-completed-text-{{ block.id }}'\n              ).style.display = 'block';         \n              {% endif %}      \n                    \n\n              clearInterval(interval);\n            }\n\n          }, second);\n          document.addEventListener('shopify:section:unload', function (event) {\n            if (event.detail.sectionId === '{{ section.id }}') clearInterval(interval);\n          });\n        }\n        startTimer();\n        if (window.Shopify && Shopify.designMode) {\n          document.addEventListener('shopify:section:load', function (event) {\n            if (event.detail.sectionId === '{{ section.id }}') {\n              startTimer();\n            }\n          });\n        }\n      }\n\n      document.addEventListener('DOMContentLoaded', initCountDownTimer2);\n\n      if (Shopify.designMode) {\n        document.addEventListener('shopify:section:unload', initCountDownTimer2);\n        document.addEventListener('shopify:section:load', initCountDownTimer2);\n      }\n    </script>\n  {% endif %}\n{% endfor %}",
  "variables": {
    "full_width": {
      "type": "text",
      "default": "false",
      "label": "Section full width",
      "description": "Section full width"
    },
    "border_radius": {
      "type": "text",
      "default": "15",
      "label": "Border radius",
      "description": "Border radius"
    },
    "bg_color": {
      "type": "color",
      "default": "#223b3d",
      "label": "Content background color",
      "description": "Content background color"
    },
    "section-background-color": {
      "type": "color",
      "default": "#FFFFFF",
      "label": "Section background color",
      "description": "Section background color"
    },
    "pt": {
      "type": "text",
      "default": "32",
      "label": "Padding top",
      "description": "Padding top"
    },
    "pb": {
      "type": "text",
      "default": "32",
      "label": "Padding bottom",
      "description": "Padding bottom"
    },
    "padding_top": {
      "type": "text",
      "default": "36",
      "label": "Padding top",
      "description": "Padding top"
    },
    "padding_bottom": {
      "type": "text",
      "default": "36",
      "label": "Padding bottom",
      "description": "Padding bottom"
    }
  }
}