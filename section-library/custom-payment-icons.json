{
  "id": "custom-payment-icons",
  "name": "Payment Icons",
  "description": "Section: Payment Icons",
  "tags": [
    "payment"
  ],
  "type": "custom",
  "liquid_code": "<style>\n    /*\n        Section styling\n    */\n  \n    .ss-payment-list {\n        list-style: none;\n        display: flex;\n        flex-wrap:wrap;\n        justify-content:center;\n        padding: 0;\n        gap: {{ section.settings.icon_gap }}px;\n    }\n    .ss-payment-item {\n        text-align: center;\n        padding: 0;\n        display: flex;           \n        justify-content: center;\n        align-items: center;\n    }\n    .ss-payment-icon {\n        display: flex;\n        justify-content: center;\n        margin-bottom: .5rem;\n    }\n  \n    .ss-payment-icon svg {\n        max-width:{{ section.settings.icon_size }}px;\n        max-height: calc({{ section.settings.icon_size }}px * 0.66);\n    }\n\n    .ss-payment-icon img {\n        max-width:{{ section.settings.icon_size }}px;\n        max-height: calc({{ section.settings.icon_size }}px * 0.66);\n        margin: 0 10px;\n    }\n  \n    .ss-payment-text {\n        width: 100%;\n        margin: 0 0 3px 0;\n        font-size:{{section.settings.text_size}}px;\n        color: {{ section.settings.color }};\n        text-align: center;\n    }\n\n    @media only screen and (max-width: 450px) {\n      .ss-payment-list {\n          gap: {{ section.settings.icon_gap_mobile }}px;\n      }\n      \n      .ss-payment-icon svg {\n        max-width:{{ section.settings.icon_size_mobile }}px;\n        max-height: calc({{ section.settings.icon_size_mobile }}px * 0.66);\n      }\n\n      .ss-payment-icon img {\n        max-width:{{ section.settings.icon_size_mobile }}px;\n        max-height: calc({{ section.settings.icon_size_mobile }}px * 0.66);\n      }\n    }\n    /*\n        Styles based on settings\n    */\n    #custom-payment-list-{{ section.id }} {\n        {% unless section.settings.bg_color == 'rgba(0,0,0,0)' %}\n            background-color: {{ section.settings.bg_color }};\n        {% endunless %}\n        {% unless section.settings.color == 'rgba(0,0,0,0)' %}\n            color: {{ section.settings.color }};\n        {% endunless %}\n        padding-top: {{ section.settings.pt }}rem;\n        padding-bottom: {{ section.settings.pb }}rem;\n        margin-top: {{ section.settings.mt }}rem;\n        margin-bottom: {{ section.settings.mb }}rem;\n    }\n</style>\n\n<script>\n    window.addEventListener('DOMContentLoaded', (event) => {\n        var productForm = document.querySelector('#custom-payment-icons');\n      \n        if (!productForm){\n          var productForm = document.querySelector('{% if section.settings.payment_position == \"below_title\" or section.settings.payment_position == \"above_title\" %}.product__title{% elsif section.settings.payment_position == \"below_description\" %}.product__description{% else %}.button--add-to-cart, .product .product-form, .product-single__add-to-cart, .shopify-payment-button, .shopify-payment-button__button, .ProductForm__BuyButtons, .add-to-cart{% endif %}');\n          if (!productForm) return;\n        }\n\n        const templateContent =  document.querySelector('#custom-payment-icons-template-{{ section.id }}').content\n        \n        productForm.insertAdjacentElement('{% if section.settings.payment_position == \"below_buy\" or section.settings.payment_position == \"below_title\" or section.settings.payment_position == \"below_description\" %}afterend{% else %}beforebegin{% endif %}', templateContent.firstElementChild)\n        \n    })\n\n    function getVariantPicker() {\n      const variantPicker = document.querySelector('variant-picker');  \n      if (variantPicker) {\n    \n        let allElements = variantPicker.querySelectorAll('input, select');\n        if(allElements) {\n          allElements.forEach(el => {\n            addChangeListener(el);\n          })\n        }\n      }  \n    }\n    \n    function addChangeListener(element) {  \n      element.addEventListener('change', function(event) {  \n          const paymentList = document.querySelector('#custom-payment-list-{{ section.id }}');  \n          const productInfo = document.querySelector('.product-info');  \n          \n          if (!paymentList || !productInfo) {   \n              return;  \n          }  \n  \n          setTimeout(() => {\n            const productForm = document.querySelector('#custom-payment-icons') ||   \n              document.querySelector('{% if section.settings.payment_position == \"below_title\" or section.settings.payment_position == \"above_title\" %}.product__title{% elsif section.settings.payment_position == \"below_description\" %}.product__description{% else %}.button--add-to-cart, .product .product-form, .product-single__add-to-cart, .shopify-payment-button, .shopify-payment-button__button, .ProductForm__BuyButtons, .add-to-cart{% endif %}');  \n  \n            if (!productForm) {  \n                return;\n            }  \n    \n            if (paymentList.parentNode) {  \n                paymentList.parentNode.removeChild(paymentList);  \n            }  \n    \n            productForm.insertAdjacentElement('{% if section.settings.payment_position == \"below_buy\" or section.settings.payment_position == \"below_title\" or section.settings.payment_position == \"below_description\" %}afterend{% else %}beforebegin{% endif %}', paymentList);  \n            getVariantPicker();\n          }, 400); \n      });  \n    }  \n  \n    getVariantPicker();\n  \n</script>\n\n<template id=\"custom-payment-icons-template-{{ section.id }}\">\n    <ul \n      id=\"custom-payment-list-{{ section.id }}\" \n      class=\"ss-payment-list\"\n      aria-label=\"{{ section.settings.list_label }}\">\n        <p class=\"ss-payment-text\">{{ section.settings.payment_title }}</p>\n        {% if section.settings.use_payments_store %}\n          {%- for type in shop.enabled_payment_types -%}\n            <li class=\"ss-payment-item\">\n              <div class=\"ss-payment-icon\">\n                {{ type | payment_type_svg_tag }}\n              </div>\n            </li>\n          {%- endfor -%}\n         {% else %}\n          {% for block in section.blocks %}\n              <li class=\"ss-payment-item\">\n                  {% if block.settings.icon_image != blank %}\n                    <div class=\"ss-payment-icon\">\n                      <img src=\"{{ block.settings.icon_image | img_url: '300x' }}\" alt=\"Payment Icon\">\n                    </div>\n                  {% else %}\n                      <div class=\"ss-payment-icon\">\n                          {{ block.settings.icon }}\n                      </div>\n                  {% endif %}\n              </li>\n          {% endfor %}\n        {% endif %}\n    </ul>\n</template>",
  "variables": {}
}