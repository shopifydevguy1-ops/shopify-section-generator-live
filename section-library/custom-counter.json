{
  "id": "custom-counter",
  "name": "CUSTOM Counter",
  "description": "Section: CUSTOM Counter",
  "tags": [
    "counter"
  ],
  "type": "custom",
  "liquid_code": "<link href=\"https://cdn.jsdelivr.net/npm/@pqina/flip@1.8.4/dist/flip.min.css\" rel=\"stylesheet\">\n{%- liquid \n  assign padding_horizontal = section.settings.padding_horizontal\n  assign padding_horizontal_mobile = section.settings.padding_horizontal_mobile\n  assign padding_top = section.settings.padding_top\n  assign padding_bottom = section.settings.padding_bottom\n  assign border_color = section.settings.border_color\n  assign border_thickness = section.settings.border_thickness\n  assign margin_top = section.settings.margin_top\n  assign margin_bottom = section.settings.margin_bottom\n  assign background_color = section.settings.background_color\n  assign background_gradient = section.settings.background_gradient\n  assign full_width = section.settings.full_width\n  assign content_width = section.settings.content_width\n\n  assign heading = section.settings.heading\n  assign heading_size = section.settings.heading_size\n  assign heading_size_mobile = section.settings.heading_size_mobile\n  assign heading_color = section.settings.heading_color\n  assign heading_custom = section.settings.heading_custom\n  assign heading_font = section.settings.heading_font\n  assign heading_height = section.settings.heading_height\n  assign heading_align = section.settings.heading_align\n\n  assign counter_mt = section.settings.counter_mt\n  assign counter_delay = section.settings.counter_delay\n  assign counter_custom = section.settings.counter_custom\n  assign counter_font = section.settings.counter_font\n  assign counter_card_radius = section.settings.counter_card_radius\n  assign counter_card_radius_mobile = section.settings.counter_card_radius_mobile\n\n  assign card_bg_color = section.settings.card_bg_color\n  assign card_text_color = section.settings.card_text_color\n\n  assign text = section.settings.text\n  assign text_size = section.settings.text_size\n  assign text_size_mobile = section.settings.text_size_mobile\n  assign text_color = section.settings.text_color\n  assign text_custom = section.settings.text_custom\n  assign text_font = section.settings.text_font\n  assign text_height = section.settings.text_height\n  assign text_align = section.settings.text_align\n  assign text_mt = section.settings.text_mt\n\n  assign button = section.settings.button\n  assign button_size = section.settings.button_size\n  assign button_size_mobile = section.settings.button_size_mobile\n  assign button_color = section.settings.button_color\n  assign button_hover_color = section.settings.button_hover_color\n  assign button_custom = section.settings.button_custom\n  assign button_font = section.settings.button_font\n  assign button_height = section.settings.button_height\n  assign button_align = section.settings.button_align\n  assign button_url = section.settings.button_url\n  assign button_mt = section.settings.button_mt\n  assign button_padding_vertical = section.settings.button_padding_vertical\n  assign button_padding_horizontal = section.settings.button_padding_horizontal\n  assign button_radius = section.settings.button_radius\n  assign button_border_thickness = section.settings.button_border_thickness\n  assign button_border_color = section.settings.button_border_color\n  assign button_border_hover_color = section.settings.button_border_hover_color\n  assign button_bg_color = section.settings.button_bg_color\n  assign button_bg_hover_color = section.settings.button_bg_hover_color\n-%}\n\n{%- style -%}\n\n  {{  heading_font | font_face: font_display: 'swap' }}\n  {{  text_font | font_face: font_display: 'swap' }}\n  {{  button_font | font_face: font_display: 'swap' }}\n  {{  counter_font | font_face: font_display: 'swap' }}\n  \n  .section-{{ section.id }} {\n    border-top: solid {{ border_color }} {{ border_thickness }}px;\n    border-bottom: solid {{ border_color }} {{ border_thickness }}px;\n    margin-top: {{ margin_top | times: 0.75 | round: 0 }}px;\n    margin-bottom: {{ margin_bottom | times: 0.75 | round: 0 }}px;\n  }\n  \n  .section-{{ section.id }}-settings {\n    max-width: {{ content_width }}rem;\n    margin: 0 auto;\n    padding-top: {{ padding_top | times: 0.75 | round: 0 }}px;\n    padding-bottom: {{ padding_bottom | times: 0.75 | round: 0 }}px;\n    padding-left: {{ padding_horizontal_mobile }}rem;\n    padding-right: {{ padding_horizontal_mobile }}rem;\n  }\n\n  .counter-heading-{{ section.id }} {\n    margin: 0;\n    font-size: {{ heading_size_mobile }}px;\n    color: {{ heading_color }};\n    line-height: {{ heading_height }}%;\n    text-transform: unset;\n    text-align: {{ heading_align }};\n  }\n\n  .counter-text-{{ section.id }} {\n    margin: 0;\n    margin-top: {{ text_mt | times: 0.75 | round: 0 }}px;\n    font-size: {{ text_size_mobile }}px;\n    color: {{ text_color }};\n    line-height: {{ text_height }}%;\n    text-transform: unset;\n    text-align: {{ text_align }};\n  }\n\n  .counter-btn-{{ section.id }} {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    max-width: fit-content;\n    margin: 0;\n    margin-top: {{ button_mt | times: 0.75 | round: 0 }}px;\n    font-size: {{ button_size_mobile }}px;\n    color: {{ button_color }};\n    line-height: {{ button_height }}%;\n    text-transform: unset;\n    text-decoration: none;\n    padding: {{ button_padding_vertical | times: 0.75 | round: 0 }}px {{ button_padding_horizontal | times: 0.75 | round: 0 }}px;\n    border-radius: {{ button_radius }}px;\n    border: {{ button_border_thickness }}px solid {{ button_border_color }};\n    background-color: {{ button_bg_color }};\n    transition: all 0.25s ease 0s;\n  }\n\n  .counter-btn-{{ section.id }}:hover {\n    color: {{ button_hover_color }};\n    border: {{ button_border_thickness }}px solid {{ button_border_hover_color }};\n    background-color: {{ button_bg_hover_color }};\n    transition: all 0.25s ease 0s;\n  }\n\n  .counter-tick-{{ section.id }} {\n    margin-top: {{ counter_mt | times: 0.75 | round: 0 }}px;\n  }\n\n  .counter-tick-{{ section.id }} .tick-flip-panel {\n    background-color: {{ card_bg_color }};\n    color: {{ card_text_color }};\n  }\n\n  .tick .tick-credits {\n    display: none !important;\n  }\n  \n  .tick-char {\n    width:1.5em;\n  } \n  \n  .tick-text-inline {\n    display:inline-block;text-align:center;min-width:1em;\n  }\n  \n  .tick-flip {\n     border-radius: {{ counter_card_radius_mobile }}px !important; \n  }\n\n  .preview-counter-{{ section.id }} {\n    width: 100%;\n    display: grid;\n    grid-template-columns: repeat(7, 1fr);\n    gap: 10px;\n  }\n\n  .preview-counter-{{ section.id }}.hide-preview {\n    display: none;\n  }\n\n  .preview-counter-char-{{ section.id }} {\n    flex: 1 0 auto;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    aspect-ratio: 1/1;\n    background-color: {{ card_bg_color }};\n    color: {{ card_text_color }};\n    border-radius: {{ counter_card_radius_mobile }}px !important;\n    font-size: 20px;\n  }\n  \n  @media(min-width: 1024px) {\n\n    .section-{{ section.id }} {\n      margin-top: {{ margin_top }}px;\n      margin-bottom: {{ margin_bottom }}px;\n    }\n    \n    .section-{{ section.id }}-settings {\n      padding: 0 5rem;\n      padding-top: {{ padding_top }}px;\n      padding-bottom: {{ padding_bottom }}px;\n      padding-left: {{ padding_horizontal }}rem;\n      padding-right: {{ padding_horizontal }}rem;\n    }\n\n    .counter-heading-{{ section.id }} {\n      font-size: {{ heading_size }}px;\n    }\n\n    .counter-tick-{{ section.id }} {\n      margin-top: {{ counter_mt }}px;\n    }\n\n    .counter-text-{{ section.id }} {\n      margin-top: {{ text_mt }}px;\n      font-size: {{ text_size }}px;\n    }\n\n    .counter-btn-{{ section.id }} {\n      margin-top: {{ button_mt }}px;\n      padding: {{ button_padding_vertical }}px {{ button_padding_horizontal }}px;\n      font-size: {{ button_size }}px;\n    }\n\n    .tick-flip {\n       border-radius: {{ counter_card_radius }}px !important; \n    }\n\n    .preview-counter-char-{{ section.id }} {\n      font-size: 70px;\n      border-radius: {{ counter_card_radius }}px !important;\n    }\n  }\n  \n{%- endstyle -%}\n\n{% unless full_width %}\n  <style>\n    .section-{{ section.id }}-settings {\n      max-width: {{ content_width }}rem;\n    }\n  </style>\n{% endunless %}\n\n{% if heading_custom %}\n  <style>\n    .counter-heading-{{ section.id }} {\n      font-family: {{ heading_font.family }}, {{ heading_font.fallback_families }};\n      font-weight: {{ heading_font.weight }};\n      font-style: {{ heading_font.style }};\n    }\n  </style>\n{% endif %}\n\n{% if text_custom %}\n  <style>\n    .counter-text-{{ section.id }} {\n      font-family: {{ text_font.family }}, {{ text_font.fallback_families }};\n      font-weight: {{ text_font.weight }};\n      font-style: {{ text_font.style }};\n    }\n  </style>\n{% endif %}\n\n{% if button_custom %}\n  <style>\n    .counter-btn-{{ section.id }} {\n      font-family: {{ button_font.family }}, {{ button_font.fallback_families }};\n      font-weight: {{ button_font.weight }};\n      font-style: {{ button_font.style }};\n    }\n  </style>\n{% endif %}\n\n{% if button_align == \"center\" %}\n  <style>\n    .counter-btn-{{ section.id }} {\n      margin-left: auto;\n      margin-right: auto;\n    }\n  </style>\n{% elsif button_align == \"right\" %}\n  <style>\n    .counter-btn-{{ section.id }} {\n      margin-left: auto;\n    }\n  </style>\n{% endif %}\n\n{% if counter_custom %}\n  <style>\n    .counter-tick-{{ section.id }} {\n      font-family: {{ counter_font.family }}, {{ counter_font.fallback_families }};\n      font-weight: {{ counter_font.weight }};\n      font-style: {{ counter_font.style }};\n    }\n  </style>\n{% endif %}\n\n<div class=\"section-{{ section.id }} counter-{{ section.id }}\" style=\"background-color:{{ background_color }}; background-image: {{ background_gradient }};\">\n    <div class=\"section-{{ section.id }}-settings\">\n      {% if heading != blank %}\n        <h2 class=\"counter-heading-{{ section.id }}\">{{ heading }}</h2>\n      {% endif %}\n      <div class=\"tick counter-tick-{{ section.id }}\" data-did-init=\"handleTickInit{{ section.id | replace: '-', '' }}\">\n\n          <div data-repeat=\"true\" data-layout=\"horizontal fit\" data-transform=\"upper -> split -> delay(random, 100, 150)\">\n      \n              <span data-view=\"flip\" data-transform=\"ascii -> arrive -> round -> char(^[A-Za-z]*$)\" class=\"tick-char\"></span>\n      \n          </div>\n      \n      </div>\n      <div class=\"preview-counter-{{ section.id }}\">\n        <div class=\"preview-counter-char-{{ section.id }}\">C</div>\n        <div class=\"preview-counter-char-{{ section.id }}\">O</div>\n        <div class=\"preview-counter-char-{{ section.id }}\">U</div>\n        <div class=\"preview-counter-char-{{ section.id }}\">N</div>\n        <div class=\"preview-counter-char-{{ section.id }}\">T</div>\n        <div class=\"preview-counter-char-{{ section.id }}\">E</div>\n        <div class=\"preview-counter-char-{{ section.id }}\">R</div>\n      </div>\n      {% if text != blank %}\n        <p class=\"counter-text-{{ section.id }}\">{{ text }}</p>\n      {% endif %}\n      {% if button != blank %}\n        <a href=\"{{ button_url }}\" class=\"counter-btn-{{ section.id }}\">{{ button }}</a>\n      {% endif %}\n    </div>\n</div>\n\n<script src=\"https://cdn.jsdelivr.net/npm/@pqina/flip@latest/dist/flip.min.js\"></script>\n\n{% assign global_max = 0 %}\n{% for block in section.blocks %}\n    {% assign text_length = block.settings.text | split: '' %}\n    {% assign text_length = block.settings.text | size %}\n    {% if text_length > global_max %}\n        {% assign global_max = text_length %}\n    {% endif %}\n{% endfor %}\n\n<script>\n  function handleTickInit{{ section.id | replace: '-', '' }}(tick) {\n\n        var rotation = [\n          {% for block in section.blocks %}{% assign text_length = block.settings.text | split: '' %}{% assign text_length = block.settings.text | size %}{% assign count = global_max | minus: text_length %}{% if forloop.last %}'{{ block.settings.text }}{% for i in (1..count) %}{{ ' ' }}{% endfor %}'{% else %}'{{block.settings.text}}{% for i in (1..count) %}{{ ' ' }}{% endfor %}',{% endif %}{% endfor %}\n        ];\n\n        // current rotation index (we start at the first word)\n        var index = 0;\n\n        Tick.helper.interval(function(){\n\n            tick.value = rotation[index];\n\n            index = index < rotation.length - 1 ? index + 1 : 0;\n\n        }, {{ counter_delay | times: 1000 }});\n\n    }\n  \n  function initCounter() {\n    document.querySelector('.preview-counter-{{ section.id }}').classList.add('hide-preview');\n    handleTickInit{{ section.id | replace: '-', '' }}(document.querySelector('.counter-tick-{{ section.id }}'));  \n  }\n\n  document.addEventListener('DOMContentLoaded', initCounter);\n  \n  if (Shopify.designMode) {\n     document.addEventListener('shopify:section:unload', initCounter);\n     document.addEventListener('shopify:section:load', initCounter);\n  }\n  \n</script>",
  "variables": {
    "heading": {
      "type": "text",
      "default": "Our best seller",
      "label": "Heading",
      "description": "Heading"
    },
    "heading_custom": {
      "type": "text",
      "default": "false",
      "label": "Use Custom Font",
      "description": "Use Custom Font"
    },
    "heading_font": {
      "type": "text",
      "default": "josefin_sans_n4",
      "label": "Heading Font Family",
      "description": "Heading Font Family"
    },
    "heading_size": {
      "type": "text",
      "default": "48",
      "label": "Heading Size",
      "description": "Heading Size"
    },
    "heading_size_mobile": {
      "type": "text",
      "default": "32",
      "label": "Heading Size - Mobile",
      "description": "Heading Size - Mobile"
    },
    "heading_height": {
      "type": "text",
      "default": "130",
      "label": "Heading Line Height",
      "description": "Heading Line Height"
    },
    "heading_align": {
      "type": "text",
      "default": "center",
      "label": "Heading Text Align",
      "description": "Heading Text Align"
    },
    "counter_mt": {
      "type": "text",
      "default": "32",
      "label": "Counter Margin top",
      "description": "Counter Margin top"
    },
    "counter_delay": {
      "type": "text",
      "default": "3.5",
      "label": "Counter Delay Before Change",
      "description": "Counter Delay Before Change"
    },
    "counter_card_radius": {
      "type": "text",
      "default": "16",
      "label": "Counter Card Border Radius",
      "description": "Counter Card Border Radius"
    },
    "counter_card_radius_mobile": {
      "type": "text",
      "default": "10",
      "label": "Counter Card Border Radius - Mobile",
      "description": "Counter Card Border Radius - Mobile"
    },
    "counter_custom": {
      "type": "text",
      "default": "true",
      "label": "Use Custom Font",
      "description": "Use Custom Font"
    },
    "counter_font": {
      "type": "text",
      "default": "montserrat_n8",
      "label": "Counter Font Family",
      "description": "Counter Font Family"
    },
    "text": {
      "type": "text",
      "default": "Gear up for the busiest season of the year with the flip-flap, put-your-business-on-the-map centerpiece.",
      "label": "Text",
      "description": "Text"
    },
    "text_custom": {
      "type": "text",
      "default": "false",
      "label": "Use Custom Font",
      "description": "Use Custom Font"
    },
    "text_font": {
      "type": "text",
      "default": "josefin_sans_n4",
      "label": "Text Font Family",
      "description": "Text Font Family"
    },
    "text_size": {
      "type": "text",
      "default": "22",
      "label": "Text Size",
      "description": "Text Size"
    },
    "text_size_mobile": {
      "type": "text",
      "default": "20",
      "label": "Text Size - Mobile",
      "description": "Text Size - Mobile"
    },
    "text_height": {
      "type": "text",
      "default": "130",
      "label": "Text Line Height",
      "description": "Text Line Height"
    },
    "text_align": {
      "type": "text",
      "default": "center",
      "label": "Text Align",
      "description": "Text Align"
    },
    "text_mt": {
      "type": "text",
      "default": "32",
      "label": "Text Margin top",
      "description": "Text Margin top"
    },
    "button": {
      "type": "text",
      "default": "Shop now",
      "label": "Button",
      "description": "Button"
    },
    "button_url": {
      "type": "text",
      "default": "",
      "label": "Button URL",
      "description": "Button URL"
    },
    "button_custom": {
      "type": "text",
      "default": "false",
      "label": "Use Custom Font",
      "description": "Use Custom Font"
    },
    "button_font": {
      "type": "text",
      "default": "josefin_sans_n4",
      "label": "Button Font Family",
      "description": "Button Font Family"
    },
    "button_size": {
      "type": "text",
      "default": "20",
      "label": "Button Size",
      "description": "Button Size"
    },
    "button_size_mobile": {
      "type": "text",
      "default": "18",
      "label": "Button Size - Mobile",
      "description": "Button Size - Mobile"
    },
    "button_height": {
      "type": "text",
      "default": "130",
      "label": "Button Line Height",
      "description": "Button Line Height"
    },
    "button_align": {
      "type": "text",
      "default": "center",
      "label": "Button Text Align",
      "description": "Button Text Align"
    },
    "button_mt": {
      "type": "text",
      "default": "16",
      "label": "Button Margin Top",
      "description": "Button Margin Top"
    },
    "button_padding_vertical": {
      "type": "text",
      "default": "16",
      "label": "Button Padding Vertical",
      "description": "Button Padding Vertical"
    },
    "button_padding_horizontal": {
      "type": "text",
      "default": "40",
      "label": "Button Padding Horizontal",
      "description": "Button Padding Horizontal"
    },
    "button_radius": {
      "type": "text",
      "default": "100",
      "label": "Button Border Radius",
      "description": "Button Border Radius"
    },
    "button_border_thickness": {
      "type": "text",
      "default": "0",
      "label": "Button Border Thickness",
      "description": "Button Border Thickness"
    },
    "heading_color": {
      "type": "color",
      "default": "#000000",
      "label": "Heading Color",
      "description": "Heading Color"
    },
    "card_bg_color": {
      "type": "color",
      "default": "#333232",
      "label": "Card Background Color",
      "description": "Card Background Color"
    },
    "card_text_color": {
      "type": "color",
      "default": "#FFFFFF",
      "label": "Card Text Color",
      "description": "Card Text Color"
    },
    "text_color": {
      "type": "color",
      "default": "#000000",
      "label": "Text Color",
      "description": "Text Color"
    },
    "button_color": {
      "type": "color",
      "default": "#FFFFFF",
      "label": "Button Color",
      "description": "Button Color"
    },
    "button_hover_color": {
      "type": "color",
      "default": "#FFFFFF",
      "label": "Button Hover Color",
      "description": "Button Hover Color"
    },
    "button_bg_color": {
      "type": "color",
      "default": "#000000",
      "label": "Button Background Color",
      "description": "Button Background Color"
    },
    "button_bg_hover_color": {
      "type": "color",
      "default": "#000000",
      "label": "Button Background Hover Color",
      "description": "Button Background Hover Color"
    },
    "button_border_color": {
      "type": "color",
      "default": "#000000",
      "label": "Button Border Color",
      "description": "Button Border Color"
    },
    "button_border_hover_color": {
      "type": "color",
      "default": "#000000",
      "label": "Button Border Hover Color",
      "description": "Button Border Hover Color"
    },
    "background_color": {
      "type": "color",
      "default": "#4BFE85",
      "label": "Section background",
      "description": "Section background"
    },
    "background_gradient": {
      "type": "color",
      "default": "",
      "label": "Section background gradient",
      "description": "Section background gradient"
    },
    "border_color": {
      "type": "color",
      "default": "#000000",
      "label": "Border",
      "description": "Border"
    },
    "margin_top": {
      "type": "text",
      "default": "0",
      "label": "Margin top",
      "description": "Margin top"
    },
    "margin_bottom": {
      "type": "text",
      "default": "0",
      "label": "Margin bottom",
      "description": "Margin bottom"
    },
    "padding_top": {
      "type": "text",
      "default": "100",
      "label": "Padding top",
      "description": "Padding top"
    },
    "padding_bottom": {
      "type": "text",
      "default": "100",
      "label": "Padding bottom",
      "description": "Padding bottom"
    },
    "padding_horizontal": {
      "type": "text",
      "default": "5",
      "label": "Padding sides",
      "description": "Padding sides"
    },
    "padding_horizontal_mobile": {
      "type": "text",
      "default": "1.5",
      "label": "Padding sides mobile",
      "description": "Padding sides mobile"
    },
    "full_width": {
      "type": "text",
      "default": "true",
      "label": "Full Width",
      "description": "Full Width"
    },
    "content_width": {
      "type": "text",
      "default": "120",
      "label": "Section content width",
      "description": "Section content width"
    },
    "border_thickness": {
      "type": "text",
      "default": "0",
      "label": "Border thickness",
      "description": "Border thickness"
    }
  }
}