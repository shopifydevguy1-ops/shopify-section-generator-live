{
  "id": "custom-stamp-sticker",
  "name": "CUSTOM Sticker / Stamp",
  "description": "Section: CUSTOM Sticker / Stamp",
  "tags": [
    "stamp"
  ],
  "type": "custom",
  "liquid_code": "{%- liquid \n  assign padding_horizontal = section.settings.padding_horizontal\n  assign padding_horizontal_mobile = section.settings.padding_horizontal_mobile\n  assign padding_top = section.settings.padding_top\n  assign padding_bottom = section.settings.padding_bottom\n  assign border_color = section.settings.border_color\n  assign border_thickness = section.settings.border_thickness\n  assign margin_top = section.settings.margin_top\n  assign margin_bottom = section.settings.margin_bottom\n  assign background_color = section.settings.background_color\n  assign background_gradient = section.settings.background_gradient\n  assign content_width = section.settings.content_width\n\n  assign image = section.settings.image\n  assign image_size = section.settings.image_size\n  assign image_size_mobile = section.settings.image_size_mobile\n  assign image_animate = section.settings.image_animate\n  assign image_direction = section.settings.image_direction\n  assign image_speed = section.settings.image_speed\n  assign image_bg_color = section.settings.image_bg_color\n\n  assign sticker_horizontal = section.settings.sticker_horizontal\n  assign sticker_horizontal_mobile = section.settings.sticker_horizontal_mobile\n  assign sticker_vertical = section.settings.sticker_vertical\n  assign sticker_vertical_mobile = section.settings.sticker_vertical_mobile\n  assign sticker_vertical_direction = section.settings.sticker_vertical_direction\n  \n  assign independent = section.settings.independent\n  assign z_index = section.settings.z_index\n\n  assign sticker_link = section.settings.sticker_link\n  assign link_tab = section.settings.link_tab\n\n  assign text = section.settings.text\n  assign text_distance = section.settings.text_distance\n  assign text_distance_mobile = section.settings.text_distance_mobile\n  assign text_duplicate = section.settings.text_duplicate\n  assign text_custom = section.settings.text_custom\n  assign text_font = section.settings.text_font\n  assign text_size = section.settings.text_size\n  assign text_size_mobile = section.settings.text_size_mobile\n  assign text_color = section.settings.text_color\n  assign text_animate = section.settings.text_animate\n  assign text_direction = section.settings.text_direction\n  assign text_speed = section.settings.text_speed\n\n  assign text_distance_two = text_distance | times: 2\n  assign transfrom_origin = image_size | plus: text_distance_two\n\n  assign text_distance_mobile_two = text_distance_mobile | times: 2\n  assign transfrom_origin_mobile = image_size_mobile | plus: text_distance_mobile_two\n  \n  if image_direction == \"right\"\n    assign image_rotate = \"360deg\"\n  else\n    assign image_rotate = \"-360deg\"\n  endif\n\n  if text_direction == \"right\"\n    assign text_rotate = \"360deg\"\n  else\n    assign text_rotate = \"-360deg\"\n  endif\n  \n-%}\n\n{%- style -%}\n  {{ text_font | font_face: font_display: 'swap' }}\n  \n  .section-{{ section.id }} {\n    border-top: solid {{ border_color }} {{ border_thickness }}px;\n    border-bottom: solid {{ border_color }} {{ border_thickness }}px;\n    margin-top: {{ margin_top | times: 0.75 | round: 0 }}px;\n    margin-bottom: {{ margin_bottom | times: 0.75 | round: 0 }}px;\n  }\n  \n  .section-{{ section.id }}-settings {\n    max-width: {{ content_width }}rem;\n    margin: 0 auto;\n    padding-top: {{ padding_top | times: 0.75 | round: 0 }}px;\n    padding-bottom: {{ padding_bottom | times: 0.75 | round: 0 }}px;\n    padding-left: {{ padding_horizontal_mobile }}rem;\n    padding-right: {{ padding_horizontal_mobile }}rem;\n  }\n\n  .sticker-stamp-{{ section.id }} {\n    position: relative;\n  }\n  \n  .sticker-stamp-content-{{ section.id }} {\n    position: relative;\n    width: fit-content;\n    height: fit-content;\n    padding: {{ text_distance_mobile }}px;\n  }\n\n  .sticker-stamp-image-{{ section.id }} {\n    position: relative;\n    z-index: 2;\n    border-radius: {{ section.settings.image_border_radius }}%;\n    width: {{ image_size_mobile }}px;\n    height: {{ image_size_mobile }}px;\n    backgorund-color: {{ image_bg_color }};\n  }\n  \n  .sticker-stamp-image-{{ section.id }} a {\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n  }\n\n  .sticker-stamp-image-{{ section.id }} img,\n  .sticker-stamp-image-{{ section.id }} svg {\n    width: 100%;\n    height: 100%;\n    display: block;\n    object-fit: cover;\n    border-radius: {{ section.settings.image_border_radius }}%;\n  }\n  \n  .sticker-stamp-text-{{ section.id }} {\n    height: 100%;\n    width: 100%;\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n\n  .sticker-stamp-text_inner-{{ section.id }} {\n    height: 100%;\n    width: 100%;\n    transform-origin: center center;\n  }\n\n  #text-{{ section.id }} {\n    margin: 0px;\n    position: relative;\n  }\n\n  #text-{{ section.id }} span {\n    position: absolute;\n    transform-origin: 0 {{ transfrom_origin_mobile | times: 0.5 | round: 0 }}px;\n    left: 50%;\n    color: {{ text_color }};\n    font-size: {{ text_size_mobile }}px;\n  }\n  \n  @media(min-width: 1024px) {\n\n    .section-{{ section.id }} {\n      margin-top: {{ margin_top }}px;\n      margin-bottom: {{ margin_bottom }}px;\n    }\n    \n    .section-{{ section.id }}-settings {\n      padding: 0 5rem;\n      padding-top: {{ padding_top }}px;\n      padding-bottom: {{ padding_bottom }}px;\n      padding-left: {{ padding_horizontal }}rem;\n      padding-right: {{ padding_horizontal }}rem;\n    }\n\n    .sticker-stamp-content-{{ section.id }} {\n      padding: {{ text_distance }}px;\n    }\n\n    .sticker-stamp-image-{{ section.id }} {\n        width: {{ image_size }}px;\n        height: {{ image_size }}px;\n      }\n    \n    #text-{{ section.id }} span {\n      transform-origin: 0 {{ transfrom_origin | times: 0.5 | round: 0 }}px;\n      font-size: {{ text_size }}px;\n    }\n  }\n  \n{%- endstyle -%}\n\n{% unless independent %}\n  <style>\n\n    .sticker-stamp-inner-{{ section.id }} {\n      position: absolute;\n      z-index: {{ z_index }};\n      width: fit-content;\n      height: fit-content;\n      left: {{ sticker_horizontal_mobile }}%;\n      transform: translateY(-{{ sticker_vertical_mobile }}%) translateX(-{{ sticker_horizontal_mobile }}%);\n    }\n\n    @media(min-width: 1024px) {\n      .sticker-stamp-inner-{{ section.id }} {\n        left: {{ sticker_horizontal }}%;\n        transform: translateY(-{{ sticker_vertical }}%) translateX(-{{ sticker_horizontal }}%);\n      }\n    }\n    \n  </style>\n  \n  {% if sticker_vertical_direction == \"top\" %}\n    <style>\n\n      .sticker-stamp-inner-{{ section.id }} {\n        top: -{{ sticker_vertical_mobile }}%;\n      }\n\n      @media(min-width: 1024px) {\n        .sticker-stamp-inner-{{ section.id }} {\n          top: -{{ sticker_vertical }}%;\n        }\n      }\n      \n    </style>\n  {% else %}\n    <style>\n    \n      .sticker-stamp-inner-{{ section.id }} {\n        top: {{ sticker_vertical_mobile }}%;\n      }\n    \n      @media(min-width: 1024px) {\n        .sticker-stamp-inner-{{ section.id }} {\n          top: {{ sticker_vertical }}%;\n        }\n      }\n      \n    </style>\n  {% endif %}\n{% endunless %}\n\n{% if independent %}\n  <style>\n\n    .sticker-stamp-inner-{{ section.id }} {\n      position: relative;\n      width: fit-content;\n      height: fit-content;\n      left: {{ sticker_horizontal_mobile }}%;\n      transform: translateX(-{{sticker_horizontal_mobile }}%);\n    }\n\n    @media(min-width: 1024px) {\n      .sticker-stamp-inner-{{ section.id }} {\n        left: {{ sticker_horizontal }}%;\n        transform: translateX(-{{sticker_horizontal }}%);\n      }\n    }\n    \n  </style>\n{% endif %}\n\n{% if image_animate %}\n  <style>\n  \n    .sticker-stamp-inner-{{ section.id }} img,\n    .sticker-stamp-inner-{{ section.id }} svg {\n      animation: rotating {{ image_speed }}s linear infinite;  \n    }\n    \n    @keyframes rotating {\n      from {\n        transform: rotate(0deg);\n      }\n      to {\n        transform: rotate({{ image_rotate }});\n      }\n    }\n  </style>\n{% endif %}\n\n{% if text_animate %}\n  <style>\n  \n    .sticker-stamp-text_inner-{{ section.id }} {\n      animation: rotating_text {{ text_speed }}s linear infinite;  \n    }\n    \n    @keyframes rotating_text {\n      from {\n        transform: rotate(0deg);\n      }\n      to {\n        transform: rotate({{ text_rotate }});\n      }\n    }\n  </style>\n{% endif %}\n\n{% if text_custom %}\n  <style>\n    #text-{{ section.id }} span {\n      font-family: {{ text_font.family }}, {{ text_font.fallback_families }};\n      font-weight: {{ text_font.weight }};\n      font-style: {{ text_font.style }};\n    }\n  </style>\n{% endif %}\n\n<div class=\"{% if independent %}section-{{ section.id }}{% endif %} sticker-stamp-wrapper-{{ section.id }}\" {% if independent %}style=\"background-color:{{ background_color }}; background-image: {{ background_gradient }};\"{% endif %}>\n    <div class=\"{% if independent %}section-{{ section.id }}-settings{% endif %} sticker-stamp-{{ section.id }}\">\n      <div class=\"sticker-stamp-inner-{{ section.id }}\">\n\n        <div class=\"sticker-stamp-content-{{ section.id }}\">\n          {% if image != blank %}\n            <div class=\"sticker-stamp-image-{{ section.id }}\">\n              {% if sticker_link != blank %}<a href=\"{{ sticker_link }}\" {% if link_tab %} target=\"_blank\" {% endif %}>{% endif %}<img src=\"{{ image | image_url }}\" alt=\"sticker-stamp-image\">{% if sticker_link != blank %}</a>{% endif %}\n            </div> \n          {% else %}\n            <div class=\"sticker-stamp-image-{{ section.id }}\">\n              {% if sticker_link != blank %}<a href=\"{{ sticker_link }}\" {% if link_tab %} target=\"_blank\" {% endif %}>{% endif %}{{ 'image' | placeholder_svg_tag }}{% if sticker_link != blank %}</a>{% endif %}\n            </div> \n          {% endif %}\n  \n          {% if text != blank %}\n            <div class=\"sticker-stamp-text-{{ section.id }}\">\n              <div class=\"sticker-stamp-text_inner-{{ section.id }}\">\n               <p data-text=\"{% for i in (1..text_duplicate) %}{{ text }} {% endfor %}\" id=\"text-{{ section.id }}\"></p>\n              </div>\n            </div>\n          {% endif %}\n        </div>\n        \n      </div>\n    </div>\n</div>\n\n<script>\n  function initStickerStamp() {\n    let text = document.getElementById('text-{{ section.id }}');\n    let str = text.getAttribute('data-text');\n    let coef = 360 / str.length;\n    if(text) {\n      for( let i = 0; i < str.length; i++ ) {\n        let span = document.createElement('span');\n        span.innerHTML = str[i];\n        text.appendChild(span);\n        span.style.transform = `rotate(${coef * i}deg)`;\n      }\n    }\n  }\n\n  document.addEventListener('DOMContentLoaded', initStickerStamp);\n  \n  if (Shopify.designMode) {\n     document.addEventListener('shopify:section:unload', initStickerStamp);\n     document.addEventListener('shopify:section:load', initStickerStamp);\n  }\n</script>",
  "variables": {
    "image": {
      "type": "text",
      "default": "",
      "label": "Image",
      "description": "Image"
    },
    "image_size": {
      "type": "text",
      "default": "200",
      "label": "Image Size",
      "description": "Image Size"
    },
    "image_size_mobile": {
      "type": "text",
      "default": "200",
      "label": "Image Size - Mobile",
      "description": "Image Size - Mobile"
    },
    "image_border_radius": {
      "type": "text",
      "default": "0",
      "label": "Image Border Radius",
      "description": "Image Border Radius"
    },
    "sticker_horizontal": {
      "type": "text",
      "default": "50",
      "label": "Sticker Horizontal Position",
      "description": "Sticker Horizontal Position"
    },
    "sticker_horizontal_mobile": {
      "type": "text",
      "default": "50",
      "label": "Sticker Horizontal Position - Mobile",
      "description": "Sticker Horizontal Position - Mobile"
    },
    "sticker_vertical": {
      "type": "text",
      "default": "0",
      "label": "Sticker Vertical Position",
      "description": "Only works if section 'not' set as independent block."
    },
    "sticker_vertical_mobile": {
      "type": "text",
      "default": "0",
      "label": "Sticker Vertical Position - Mobile",
      "description": "Only works if section 'not' set as independent block."
    },
    "sticker_vertical_direction": {
      "type": "text",
      "default": "down",
      "label": "Sticker of Vertical Direction",
      "description": "Sticker of Vertical Direction"
    },
    "independent": {
      "type": "text",
      "default": "",
      "label": "Set Section as Independent Block",
      "description": "Set Section as Independent Block"
    },
    "sticker_link": {
      "type": "text",
      "default": "",
      "label": "Sticker Link",
      "description": "Sticker Link"
    },
    "link_tab": {
      "type": "text",
      "default": "",
      "label": "Open Sticker Link on a New Tab",
      "description": "Open Sticker Link on a New Tab"
    },
    "text": {
      "type": "text",
      "default": "",
      "label": "Text",
      "description": "Text"
    },
    "text_distance": {
      "type": "text",
      "default": "0",
      "label": "Distance from Image",
      "description": "Distance from Image"
    },
    "text_distance_mobile": {
      "type": "text",
      "default": "0",
      "label": "Distance from Image - Mobile",
      "description": "Distance from Image - Mobile"
    },
    "text_duplicate": {
      "type": "text",
      "default": "1",
      "label": "Duplicate Text",
      "description": "Duplicate Text"
    },
    "text_custom": {
      "type": "text",
      "default": "false",
      "label": "Use Custom Font",
      "description": "Use Custom Font"
    },
    "text_font": {
      "type": "text",
      "default": "assistant_n4",
      "label": "Text Font Family",
      "description": "Text Font Family"
    },
    "text_size": {
      "type": "text",
      "default": "48",
      "label": "Text Size",
      "description": "Text Size"
    },
    "text_size_mobile": {
      "type": "text",
      "default": "32",
      "label": "Text Size - Mobile",
      "description": "Text Size - Mobile"
    },
    "image_animate": {
      "type": "text",
      "default": "",
      "label": "Rotate the Image",
      "description": "Rotate the Image"
    },
    "image_direction": {
      "type": "text",
      "default": "right",
      "label": "Image Direction of Rotation",
      "description": "Image Direction of Rotation"
    },
    "image_speed": {
      "type": "text",
      "default": "5",
      "label": "Speed of Image Rotation",
      "description": "Speed of Image Rotation"
    },
    "text_animate": {
      "type": "text",
      "default": "",
      "label": "Rotate the Text",
      "description": "Rotate the Text"
    },
    "text_direction": {
      "type": "text",
      "default": "right",
      "label": "Text Direction of Rotation",
      "description": "Text Direction of Rotation"
    },
    "text_speed": {
      "type": "text",
      "default": "5",
      "label": "Speed of Text Rotation",
      "description": "Speed of Text Rotation"
    },
    "z_index": {
      "type": "text",
      "default": "10",
      "label": "Z-Index for Sticker",
      "description": "Z-Index for Sticker"
    },
    "background_color": {
      "type": "color",
      "default": "#FFFFFF",
      "label": "Section background",
      "description": "If Section as Independent Block"
    },
    "background_gradient": {
      "type": "color",
      "default": "",
      "label": "Section background gradient",
      "description": "If Section as Independent Block"
    },
    "border_color": {
      "type": "color",
      "default": "#000000",
      "label": "Border",
      "description": "If Section as Independent Block"
    },
    "image_bg_color": {
      "type": "color",
      "default": "",
      "label": "Image Background Color",
      "description": "Image Background Color"
    },
    "text_color": {
      "type": "color",
      "default": "#000000",
      "label": "Text Color",
      "description": "Text Color"
    },
    "margin_top": {
      "type": "text",
      "default": "0",
      "label": "Margin top",
      "description": "If Section as Independent Block"
    },
    "margin_bottom": {
      "type": "text",
      "default": "0",
      "label": "Margin bottom",
      "description": "If Section as Independent Block"
    },
    "padding_top": {
      "type": "text",
      "default": "36",
      "label": "Padding top",
      "description": "If Section as Independent Block"
    },
    "padding_bottom": {
      "type": "text",
      "default": "36",
      "label": "Padding bottom",
      "description": "If Section as Independent Block"
    },
    "padding_horizontal": {
      "type": "text",
      "default": "5",
      "label": "Padding sides",
      "description": "If Section as Independent Block"
    },
    "padding_horizontal_mobile": {
      "type": "text",
      "default": "1.5",
      "label": "Padding sides mobile",
      "description": "If Section as Independent Block"
    },
    "content_width": {
      "type": "text",
      "default": "120",
      "label": "Section content width",
      "description": "If Section as Independent Block"
    },
    "border_thickness": {
      "type": "text",
      "default": "0",
      "label": "Border thickness",
      "description": "If Section as Independent Block"
    }
  }
}