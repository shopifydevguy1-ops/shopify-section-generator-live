{
  "id": "video-banner",
  "name": "CUSTOM Video banner",
  "description": "Section: CUSTOM Video banner",
  "tags": [
    "video",
    "banner"
  ],
  "type": "banner",
  "liquid_code": "{%- liquid\n\n  assign background_color = section.settings.background_color\n\n  assign height = section.settings.height\n  assign height_mobile = section.settings.height_mobile\n\n  assign section_radius = section.settings.section_radius\n  assign section_width = section.settings.section_width\n  assign full_width = section.settigns.full_width\n  assign layout_height = section.settings.layout_height\n\n  assign interval = section.settings.interval\n  assign image_object_fit = section.settings.image_object_fit\n  assign play_button_image = section.settings.play_button_image\n  assign controls_size_mobile = section.settings.controls_size_mobile\n  assign controls_size = section.settings.controls_size\n  assign controls_position = section.settings.controls_position\n\n  assign vertical_alignment = section.settings.vertical_alignment\n  assign horizontal_alignment = section.settings.horizontal_alignment\n\n  assign padding_top =  section.settings.padding_top\n  assign padding_bottom =  section.settings.padding_bottom\n  assign padding_horizontal = section.settings.padding_horizontal\n  assign padding_horizontal_mobile = section.settings.padding_horizontal_mobile\n  assign margin_top = section.settings.margin_top\n  assign margin_bottom = section.settings.margin_bottom\n  assign margin_horizontal_mobile = section.settings.margin_horizontal_mobile\n  assign margin_horizontal = section.settings.margin_horizontal\n\n  assign overlay_color = section.settings.overlay_color\n  assign overlay_opacity = section.settings.overlay_opacity\n\n  assign title_size = section.settings.title_size\n  assign title_size_mobile = section.settings.title_size_mobile\n  assign title_color = section.settings.title_color\n  assign title_custom = section.settings.title_custom\n  assign title_font = section.settings.title_font\n  assign title_height = section.settings.title_height\n\n  assign subtitle_size = section.settings.subtitle_size\n  assign subtitle_size_mobile = section.settings.subtitle_size_mobile\n  assign subtitle_color = section.settings.subtitle_color\n  assign subtitle_custom = section.settings.subtitle_custom\n  assign subtitle_font = section.settings.subtitle_font\n  assign subtitle_height = section.settings.subtitle_height\n  assign subtitle_mt = section.settings.subtitle_mt\n\n  assign buttons_mt = section.settings.buttons_mt\n  assign buttons_gap = section.settings.buttons_gap\n\n  assign button_size = section.settings.button_size\n  assign button_size_mobile = section.settings.button_size_mobile\n  assign button_color = section.settings.button_color\n  assign button_hover_color = section.settings.button_hover_color\n  assign button_custom = section.settings.button_custom\n  assign button_font = section.settings.button_font\n  assign button_height = section.settings.button_height\n  assign button_padding_vertical = section.settings.button_padding_vertical\n  assign button_padding_vertical_mobile = section.settings.button_padding_vertical_mobile\n  assign button_padding_horizontal = section.settings.button_padding_horizontal\n  assign button_padding_horizontal_mobile = section.settings.button_padding_horizontal_mobile\n  assign button_radius = section.settings.button_radius\n  assign button_border_thickness = section.settings.button_border_thickness\n  assign button_border_color = section.settings.button_border_color\n  assign button_border_hover_color = section.settings.button_border_hover_color\n  assign button_bg_color = section.settings.button_bg_color\n  assign button_bg_hover_color = section.settings.button_bg_hover_color\n  assign button_style = section.settings.button_style\n  assign open_in_new_tab = section.settings.open_in_new_tab\n\n  assign second_button_color = section.settings.second_button_color\n  assign second_button_hover_color = section.settings.second_button_hover_color\n  assign second_button_border_color = section.settings.second_button_border_color\n  assign second_button_border_hover_color = section.settings.second_button_border_hover_color\n  assign second_button_bg_color = section.settings.second_button_bg_color\n  assign second_button_bg_hover_color = section.settings.second_button_bg_hover_color\n\n  assign play_button_pause_image = section.settings.play_button_pause_image\n\n  assign text_align = \"\"\n  if horizontal_alignment == \"center\"\n  assign text_align = \"center\"\n  elsif horizontal_alignment == \"flex-end\"\n  assign text_align = \"right\"\n  else\n  assign text_align = \"left\"\n  endif\n  \n-%}\n<style>\n  {{  title_font | font_face: font_display: 'swap' }}\n  {{  subtitle_font | font_face: font_display: 'swap' }}\n  {{  button_font | font_face: font_display: 'swap' }}\n  \n  .section-{{ section.id }} {\n    margin-top: {{ margin_top | times: 0.75 | round: 0 }}px;\n    margin-bottom: {{ margin_bottom | times: 0.75 | round: 0 }}px;\n    margin-left: {{ margin_horizontal_mobile }}rem;\n    margin-right: {{ margin_horizontal_mobile }}rem;\n    overflow: hidden;\n    border-radius: {{ section_radius | times: 0.6 | round: 0  }}px;\n  }\n  \n  #shopify-section-{{ section.id }} {\n    padding: 0;\n    max-width: none;\n    width: 100%;\n  }\n\n  #shopify-section-{{ section.id }} img {\n    height: 100%;\n  }\n\n  .section-{{ section.id }}-padding {\n    padding-top: {{ padding_top | times: 0.75 | round: 0 }}px;\n    padding-bottom: {{ padding_bottom | times: 0.75 | round: 0 }}px;\n    position: relative;\n  }\n  \n  .ab-banner-{{ section.id }} {\n    height: 100%;\n    position: relative;\n  }\n\n  .ab-banner-slide-{{ section.id }} {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    opacity: 0;\n    transition: opacity 0.5s ease-in-out;\n  }\n  \n  .ab-banner-slide-{{ section.id }}--active {\n    opacity: 1;\n    z-index: 1;\n  }\n  \n  .ab-banner-image-{{ section.id }} {\n    width: 100%;\n    height: 100%;\n    object-fit: {{ image_object_fit }};\n    position: absolute;\n    top: 0;\n    left: 0;\n  }\n  \n  .ab-banner-image-{{ section.id }}--desktop {\n    display: none;\n  }\n\n  .ab-banner-content-{{ section.id }} {\n    position: absolute;\n    top: 0;\n    left: 50%;\n    transform: translateX(-50%);\n    width: 100%;\n    max-width: 100%;\n    margin: 0 auto;\n    height: 100%;\n    z-index: 2;\n    display: flex;\n    flex-direction: column;\n    justify-content: {{ vertical_alignment }};\n    align-items: {{ horizontal_alignment }};\n    padding-top: {{ padding_top | times: 0.75 | round: 0 }}px;\n    padding-bottom: {{ padding_bottom | times: 0.75 | round: 0 }}px;\n    padding-left: {{ padding_horizontal_mobile }}rem;\n    padding-right: {{ padding_horizontal_mobile }}rem;\n    line-height: 1;\n  }\n  \n  .ab-banner-title-{{ section.id }} {\n    text-align: {{ text_align }};\n  }\n\n  .ab-banner-title-{{ section.id }} * {\n    margin: 0;\n    font-size: {{ title_size_mobile }}px;\n    color: {{ title_color }};\n    line-height: {{ title_height }}%;\n    text-transform: unset;\n  }\n\n  .ab-banner-subtitle-{{ section.id }} {\n    margin-top: {{ subtitle_mt | times: 0.75 | round: 0 }}px;\n    text-align: {{ text_align }};\n  }\n\n  .ab-banner-subtitle-{{ section.id }} * {\n    margin: 0;\n    font-size: {{ subtitle_size_mobile }}px;\n    color: {{ subtitle_color }};\n    line-height: {{ subtitle_height }}%;\n    text-transform: unset;\n  }\n\n  .ab-banner-button-wrapper-{{ section.id }} {\n    margin-top: {{ buttons_mt | times: 0.75 | round: 0 }}px;\n    display: flex;\n    flex-direction: row;\n    gap: {{ buttons_gap | times: 0.75 | round: 0 }}px;\n    width: 100%;\n  }\n\n  .ab-banner-button-{{ section.id }} {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 100%;\n    max-width: fit-content;\n    font-size: {{ button_size_mobile }}px;\n    color: {{ button_color }};\n    line-height: {{ button_height }}%;\n    text-align: center;\n    text-transform: unset;\n    text-decoration: none;\n    padding: {{ button_padding_vertical_mobile }}px {{ button_padding_horizontal_mobile }}px;\n    border-radius: {{ button_radius }}px;   \n    transition: all 0.25s ease 0s;\n    position: relative;\n    font-weight: 700;\n    z-index: 2;\n  }\n\n  .ab-banner-button-{{ section.id }}:hover {   \n    color: {{ button_hover_color }};\n    transition: all 0.25s ease 0s;\n  }\n\n  .ab-banner-button-second-{{ section.id }} {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 100%;\n    max-width: fit-content;\n    font-size: {{ button_size_mobile }}px;\n    color: {{ second_button_color }};\n    line-height: {{ button_height }}%;\n    text-align: center;\n    text-transform: unset;\n    text-decoration: none;\n    padding: {{ button_padding_vertical_mobile }}px {{button_padding_horizontal_mobile }}px;\n    border-radius: {{ button_radius }}px; \n    transition: all 0.25s ease 0s;\n    position: relative;\n    font-weight: 700;\n    z-index: 2;\n  }\n\n  .ab-banner-button-second-{{ section.id }}:hover {  \n    color: {{ second_button_hover_color }};\n    transition: all 0.25s ease 0s;\n  }\n  \n  .ab-banner-overlay-{{ section.id }} {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: {{ overlay_color }};\n    opacity: {{ overlay_opacity }}%;\n    pointer-events: none;\n    z-index: 1;\n  }\n  \n  .ab-banner-video-wrapper-{{ section.id }} {\n    position: absolute;\n    z-index: 1;\n    top: 0;\n    left: 0;\n    /*object-fit: cover;*/\n  }\n  \n  .ab-banner-video-wrapper-{{ section.id }},\n  .ab-banner-video-{{ section.id }} {\n    height: 100%;\n    width: 100%;\n    object-fit: cover;\n  }\n  \n  .ab-banner-play-button-{{ section.id }} {\n    position: absolute;   \n    width: {{ controls_size_mobile }}px;\n    height: {{ controls_size_mobile }}px;\n    z-index: 3;\n    cursor: pointer;\n    opacity: 0;\n    visibility: hidden;\n    pointer-events: none;\n    transition: all 0.25s ease 0s;\n  }\n  \n  .ab-banner-image-wrapper-playing-video-{{ section.id }} .ab-banner-video-wrapper-{{ section.id }} {\n    display: block;\n  }\n  \n  .ab-banner-image-wrapper-playing-video-{{ section.id }} .ab-banner-image-wrapper-{{ section.id }} {\n    display: none;\n  }\n  \n  .as-banner-slide-has-video-{{ section.id }} .ab-svg-placeholder {\n    display: none;\n  }\n\n  @media screen and (min-width: 750px) {\n    \n    .section-{{ section.id }} {\n      margin-top: {{ margin_top  }}px;\n      margin-bottom: {{ margin_bottom  }}px;\n      margin-left: {{ margin_horizontal }}rem;\n      margin-right: {{ margin_horizontal }}rem;\n      border-radius: {{ section_radius }}px;\n    }\n\n    .section-{{ section.id }}-padding {\n      padding-top: {{ padding_top }}px;\n      padding-bottom: {{ padding_bottom }}px;\n    }\n\n    .ab-banner-image-{{ section.id }}--desktop {\n      display: block;\n    }\n    \n    .ab-banner-image-{{ section.id }}--mobile {\n      display: none;\n    }\n\n    .ab-banner-content-{{ section.id }} {\n      padding-top: {{ padding_top }}px;\n      padding-bottom: {{ padding_bottom }}px;;\n      padding-left: {{ padding_horizontal }}rem;\n      padding-right: {{ padding_horizontal }}rem;\n    }\n    \n    .ab-banner-button-wrapper-{{ section.id }} {\n      margin-top: {{ buttons_mt }}px;\n      gap: {{ buttons_gap }}px;\n    }\n\n    .ab-banner-title-{{ section.id }} * {\n      margin: 0;\n      font-size: {{ title_size }}px;\n    }\n\n    .ab-banner-subtitle-{{ section.id }} {\n      margin-top: {{ subtitle_mt }}px;\n    }\n  \n    .ab-banner-subtitle-{{ section.id }} * {\n      margin: 0;\n      font-size: {{ subtitle_size }}px;\n    }\n\n    .ab-banner-play-button-{{ section.id }} {     \n      width: {{ controls_size }}px;\n      height: {{ controls_size }}px;\n    }\n\n    .ab-banner-button-{{ section.id }} {\n      padding: {{ button_padding_vertical }}px {{ button_padding_horizontal }}px;\n      font-size: {{ button_size }}px;\n    }\n    \n    .ab-banner-button-second-{{ section.id }} {\n      padding: {{ button_padding_vertical }}px {{ button_padding_horizontal }}px;\n      font-size: {{ button_size }}px;\n    }\n  }\n  \n</style>\n\n{% unless full_width %}\n  <style>\n    .section-{{ section.id }}-settings {\n      max-width: {{ section_width }}px;\n    }\n  </style>\n{% endunless %}\n\n{% if title_custom %}\n  <style>\n    .ab-banner-title-{{ section.id }} * {\n      font-family: {{ title_font.family }}, {{ title_font.fallback_families }};\n      font-weight: {{ title_font.weight }};\n      font-style: {{ title_font.style }};\n    }\n  </style>\n{% endif %}\n\n{% if subtitle_custom %}\n  <style>\n    .ab-banner-subtitle-{{ section.id }} * {\n      font-family: {{ subtitle_font.family }}, {{ subtitle_font.fallback_families }};\n      font-weight: {{ subtitle_font.weight }};\n      font-style: {{ subtitle_font.style }};\n    }\n  </style>\n{% endif %}\n\n{% if button_custom %}\n  <style>\n    .ab-banner-button-{{ section.id }} {\n      font-family: {{ button_font.family }}, {{ button_font.fallback_families }};\n      font-weight: {{ button_font.weight }};\n      font-style: {{ button_font.style }};\n    }\n\n    .ab-banner-button-second-{{ section.id }} {\n      font-family: {{ button_font.family }}, {{ button_font.fallback_families }};\n      font-weight: {{ button_font.weight }};\n      font-style: {{ button_font.style }};\n    }\n  </style>\n{% endif %}\n\n{% if layout_height == 'fixed_height' %}\n  <style>\n    .ab-banner-{{ section.id }} {\n      height: {{ height_mobile }}px;\n    }\n\n    @media(min-width: 1024px) {\n      .ab-banner-{{ section.id }} {\n        height: {{ height }}px;\n      }\n    }\n  </style>\n{% elsif  layout_height == 'full_screen'%}\n  <style>\n    .ab-banner-{{ section.id }} {\n      height: 90rem;\n    }\n  </style>\n{% endif %}\n\n{% if text_align == \"center\" %}\n  <style>\n    .ab-banner-button-wrapper-{{ section.id }} {\n      justify-content: center;\n    }\n  </style>\n{% elsif text_align == \"right\" %}\n  <style>\n    .ab-banner-button-wrapper-{{ section.id }} {\n      justify-content: end;\n    }\n  </style>\n{% endif %}\n\n{% if button_style == \"non_outline\" or button_style == \"non_outline_arrow\" %}\n  <style>\n    .ab-banner-button-{{ section.id }} {\n      transition: all 0.3s ease 0s;\n      background-color: {{  button_bg_color }};\n    }\n\n    .ab-banner-button-{{ section.id }}:hover {\n      transition: all 0.3s ease 0s;\n      background-color: {{  button_bg_hover_color }};\n    }\n\n    .ab-banner-button-second-{{ section.id }} {\n      transition: all 0.3s ease 0s;\n      background-color: {{  second_button_bg_color }};\n    }\n\n    .ab-banner-button-second-{{ section.id }}:hover {\n      transition: all 0.3s ease 0s;\n      background-color: {{  second_button_bg_hover_color }};\n    }\n  </style>\n{% elsif button_style == \"outline\" or button_style == \"outline_arrow\" %}\n  <style>          \n    .ab-banner-button-{{ section.id }} {\n      transition: all 0.3s ease 0s;\n      background-color: {{  button_bg_color }};\n      border: {{  button_border_thickness }}px solid {{  button_border_color }};\n    }\n\n    .ab-banner-button-{{ section.id }}:hover {\n      transition: all 0.3s ease 0s;\n      background-color: {{  button_bg_hover_color }};\n      border: {{  button_border_thickness }}px solid {{  button_border_hover_color }};\n    }\n\n     .ab-banner-button-second-{{ section.id }} {\n      transition: all 0.3s ease 0s;\n      background-color: {{  second_button_bg_color }};\n      border: {{  button_border_thickness }}px solid {{  second_button_border_color }};\n    }\n\n    .ab-banner-button-second-{{ section.id }}:hover {\n      transition: all 0.3s ease 0s;\n      border: {{  button_border_thickness }}px solid {{  second_button_border_hover_color }};\n      background-color: {{  second_button_bg_hover_color }};\n    }\n  </style>\n{% elsif button_style == \"link\" %}\n  <style>\n    .ab-banner-button-{{ section.id }} {\n      padding: 0px !important;\n      -webkit-box-shadow: none !important;\n      -moz-box-shadow: none !important;\n      box-shadow: none !important;\n    }\n  </style>\n{% endif %}  \n\n{% if controls_position == 'center' %}\n  <style>\n    .ab-banner-play-button-{{ section.id }} {\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);       \n    }\n  </style>\n{% elsif controls_position == 'top' %}\n  <style>\n    .ab-banner-play-button-{{ section.id }} {\n      top: 5%;   \n      left: 5%\n    }\n  </style>\n{% elsif controls_position == 'bottom' %}\n  <style>\n    .ab-banner-play-button-{{ section.id }} {\n      bottom: 5%;   \n      left: 5%;\n    }\n  </style>\n{% elsif controls_position == 'left' %}\n  <style>\n    .ab-banner-play-button-{{ section.id }} {\n      left: 5%;   \n      top: 5%;\n    }\n  </style>\n{% elsif controls_position == 'right' %}\n  <style>\n    .ab-banner-play-button-{{ section.id }} {\n      right: 5%;   \n      top: 5%;\n    }\n  </style>\n{% endif %}\n\n{% if play_button_pause_image != blank %}\n  <style>\n    .as-banner-slide-has-video-{{ section.id }} .ab-banner-play-button-{{ section.id }} .ab-banner-play-btn-image-{{ section.id }} {\n      dispplay: block;\n    }\n\n    .as-banner-slide-has-video-{{ section.id }} .ab-banner-play-button-{{ section.id }} .ab-banner-pause-btn-{{ section.id }} {\n      dispplay: none;\n    }\n    \n    .ab-banner-image-wrapper-playing-video-{{ section.id }} .ab-banner-play-button-{{ section.id }} {\n      dispplay: none;\n    }\n\n    .ab-banner-image-wrapper-playing-video-{{ section.id }} .ab-banner-play-button-{{ section.id }} .ab-banner-pause-btn-{{ section.id }} {\n      dispplay: none;\n    }\n  </style>\n{% else %}\n  <style>\n    .as-banner-slide-has-video-{{ section.id }} .ab-banner-play-button-{{ section.id }} {\n      opacity: 1;\n      visibility: visible;\n      pointer-events: all;\n      transition: all 0.25s ease 0.75s;\n    }\n    \n    .ab-banner-image-wrapper-playing-video-{{ section.id }} .ab-banner-play-button-{{ section.id }} {\n      opacity: 0;\n      visibility: hidden;\n      pointer-events: none;\n      transition: all 0.25s ease 0s;\n    }\n  </style>\n{% endif %}\n\n<div style=\"background-color:{{ background_color }};\" class=\"section-{{ section.id }}\" >\n  <div class=\"section-{{ section.id }}-padding\">\n    <div class=\"ab-banner-{{ section.id }}\" data-interval=\"{{ interval }}000\">\n      {% for block in section.blocks %}\n        {% if block.settings.video != blank\n          or block.settings.video_url.id != blank\n        %}\n          {% assign has_video = true %}\n        {% else %}\n          {% assign has_video = false %}\n        {% endif %}\n        <div\n          class=\"\n            ab-banner-slide-{{ section.id }}\n            {% if forloop.first %}\n              ab-banner-slide-{{ section.id }}--active\n            {% endif %}\n            {% if has_video == true %}\n              as-banner-slide-has-video-{{ section.id }}\n            {% endif %}\n          \"\n          data-index=\"{{ forloop.index0 }}\"\n          {{ block.shopify_attributes }}\n          {% if block.settings.autoplay %}\n            data-autoplay=\"true\"\n          {% endif %}\n        >\n          {% assign video = block.settings.video %}\n      \n         {% assign video = block.settings.video %}\n            <div class=\"ab-banner-video-wrapper-{{ section.id }}\">\n              {% if block.settings.source == 'uploaded' %}\n                {% if video != blank %}\n                  {% comment %} We can't use loop here since it won't trigger the 'end' event loop: true {% endcomment %}\n                  {% comment %} And using loop:ture doesn't prevent the black screen effect when the video ends {% endcomment %}\n                    <video\n                      data-src=\"{{ video.sources[1].url }}\"\n                      {% if block.settings.autoplay %}\n                      autoplay\n                      {% endif %}\n                      muted\n                      playsinline\n                      preload=\"none\"\n                      loop\n                      poster=\"{{ block.settings.image }}\"\n                      class=\"lazy {{ 'ab-banner-video-' | append: section.id }}\"\n                    ></video>\n                {% endif %}\n              {% endif %}\n              {% if block.settings.source == 'external_url' %}\n                {% if block.settings.video_url.id != blank %}\n                  <template data-youtube-template>\n                    <div\n                      class=\"ab-banner-video-{{ section.id }}\"\n                      data-video-id=\"{{ block.settings.video_url.id }}\"\n                      poster=\"{{ block.settings.image | image_url }}\"\n                    ></div>\n                  </template>\n                {% endif %}\n              {% endif %}\n            </div>\n\n\n          <div class=\"ab-banner-image-wrapper-{{ section.id }}\">\n            {% assign image = block.settings.image %}\n            {% if image == blank %}\n              {% assign svg_class = 'ab-svg-placeholder ab-banner-image-'\n                | append: section.id\n              %}\n              {{ 'image' | placeholder_svg_tag: svg_class }}\n            {% else %}\n              <img\n                class=\"\n                  ab-banner-image-{{ section.id }}\n                  {% if block.settings.image_mobile != blank %}\n                    ab-banner-image-{{ section.id }}--desktop\n                  {% endif %}\n                \"\n                src=\"{{ image | img_url: '500x' }}\"\n                srcset=\"\n                  {{ image | img_url: '500x' }} 500w,\n                  {{ image | img_url: '800x' }} 800w,\n                  {{ image | img_url: '1200x' }} 1200w,\n                  {{ image | img_url: '1600x' }} 1600w,\n                  {{ image | img_url: '2000x' }} 2000w,\n                  {{ image | img_url: 'master' }} 2400w\n                \"\n                alt=\"{{ image.alt }}\"\n              >\n            {% endif %}\n\n            {% if block.settings.image_mobile != blank %}\n              {% assign image = block.settings.image_mobile %}\n              <img\n                class=\"ab-banner-image-{{ section.id }} ab-banner-image-{{ section.id }}--mobile\"\n                src=\"{{ image | img_url: '500x' }}\"\n                srcset=\"\n                  {{ image | img_url: '500x' }} 500w,\n                  {{ image | img_url: '800x' }} 800w,\n                  {{ image | img_url: '1200x' }} 1200w,\n                  {{ image | img_url: '1600x' }} 1600w,\n                  {{ image | img_url: '2000x' }} 2000w,\n                  {{ image | img_url: 'master' }} 2400w\n                \"\n                alt=\"{{ image.alt }}\"\n              >\n            {% endif %}\n          </div>\n\n          <span class=\"ab-banner-overlay-{{ section.id }}\"></span>\n\n          <div class=\"ab-banner-play-button-{{ section.id }}\">\n            {% if play_button_image != blank %}\n              <img style=\"width: 100%;\" {% if play_button_pause_image != blank %}class=\"ab-banner-play-btn-image-{{ section.id }}\"{% endif %} src=\"{{ play_button_image | img_url: 'master' }}\" alt=\"Play button\">\n            {% else %}\n              <svg xmlns=\"http://www.w3.org/2000/svg\" style=\"width: 100%;\" viewBox=\"0 0 80 81\" fill=\"none\">\n                <g clip-path=\"url(#clip0_91_1286)\">\n                  <path d=\"M80 40.7427C80 18.6513 62.0914 0.742676 40 0.742676C17.9086 0.742676 0 18.6513 0 40.7427C0 62.8341 17.9086 80.7427 40 80.7427C62.0914 80.7427 80 62.8341 80 40.7427Z\" fill=\"white\"/>\n                  <path d=\"M54 40.7427L33 52.867V28.6183L54 40.7427Z\" fill=\"#030303\"/>\n                </g>\n                <defs>\n                  <clipPath id=\"clip0_91_1286\">\n                    <rect width=\"80\" height=\"81\" fill=\"white\"/>\n                  </clipPath>\n                </defs>\n              </svg>\n            {% endif %}\n            {% if play_button_pause_image != blank %}\n               <img style=\"width: 100%;\" class=\"ab-banner-pause-btn-{{ section.id }}\" src=\"{{ play_button_pause_image | img_url: 'master' }}\" alt=\"Play button\">\n            {% endif %}\n          </div>\n\n          <div class=\"ab-banner-content-{{ section.id }}\" >\n            {% if block.settings.title != blank %}\n              <div class=\"ab-banner-title-{{ section.id }}\">\n                {{ block.settings.title }}\n              </div>\n            {% endif %}\n            {% if block.settings.subtitle != blank %}\n              <div class=\"ab-banner-subtitle-{{ section.id }}\">\n                {{ block.settings.subtitle }}\n              </div>\n            {% endif %}\n            <div class=\"ab-banner-button-wrapper-{{ section.id }}\">\n              {% if block.settings.button != blank %}\n                <a\n                  href=\"{{ block.settings.button_url }}\"\n                  class=\"ab-banner-button-{{ section.id }}\"\n                  {% if open_in_new_tab %}target=\"_blank\"{% endif %}\n                >\n                  {{ block.settings.button }}\n                </a>\n              {% endif %}\n              {% if block.settings.second_button != blank %}\n                <a\n                  href=\"{{ block.settings.second_button_url }}\"\n                  class=\"ab-banner-button-second-{{ section.id }}\"\n                  {% if open_in_new_tab %}target=\"_blank\"{% endif %}\n                >\n                  {{ block.settings.second_button }}\n                </a>\n              {% endif %}\n            </div>\n          </div>\n        </div>\n      {% endfor %}\n    </div>\n  </div>\n</div>\n\n<script defer src=\"https://www.youtube.com/iframe_api\"></script>\n<script src=\"https://cdn.jsdelivr.net/npm/vanilla-lazyload@19.1.3/dist/lazyload.min.js\"></script>                         \n\n<script>\n  (function () {\n\n    var lazyLoadInstance = new LazyLoad();\n\n    window.addEventListener(\n      \"LazyLoad::Initialized\",\n      function (event) {\n        window.lazyLoadInstance = event.detail.instance;\n      },\n      false\n    );\n    \n    let slideSwitchTimeoutID;\n    let videoPlayers = {};\n    let hasOnlyOneSlide = false;\n    let videos = document.querySelectorAll('.ab-banner-{{ section.id }} video');\n    if(videos) {\n      videos.forEach(el => {\n        setTimeout(()=> {\n          el.removeAttribute('loop');\n        }, 1000);\n      })\n    }\n\n    function getNextIndex() {\n      const images = document.querySelectorAll(\n        '.ab-banner-slide-{{ section.id }}'\n      );\n      const activeImage = document.querySelector(\n        '.ab-banner-slide-{{ section.id }}--active'\n      );\n      const activeIndex = Array.prototype.indexOf.call(images, activeImage);\n      const nextIndex = (activeIndex + 1) % images.length;\n      return nextIndex;\n    }\n\n    function autoSlideSwitch(index) {\n      //console.log('autoSlideSwitch', index);\n      const images = document.querySelectorAll(\n        '.ab-banner-slide-{{ section.id }}'\n      );\n      const activeSlide = document.querySelector(\n        '.ab-banner-slide-{{ section.id }}--active'\n      );\n      \n      \n      const activeIndex = Array.prototype.indexOf.call(images, activeSlide);\n      const newActiveSlide = images[index];\n\n      //if (activeIndex === index) return;\n\n      activeSlide.classList.remove('ab-banner-slide-{{ section.id }}--active');\n      newActiveSlide.classList.add('ab-banner-slide-{{ section.id }}--active');\n\n      // TODO: Check if we have any videos in the new active slide\n      // 1. if we have <video>, play it:\n      const oldVideoEl = activeSlide.querySelector('video');\n      if (oldVideoEl) {\n        oldVideoEl.pause();\n      }\n\n      const newVideoEl = newActiveSlide.querySelector('video');\n      if (newVideoEl) {\n        if (getIfAutoplay(newActiveSlide)) {\n          newVideoEl.play();\n        }\n        // if the video is not playing, show the play button\n        if (newVideoEl.paused) {\n          handleWhenVideoPaused(newActiveSlide);\n        } else {\n          handleWhenVideoPlay(newActiveSlide);\n        }\n        newVideoEl.addEventListener('ended', () => {\n          if (hasOnlyOneSlide) {\n            newVideoEl.play();\n          } else {\n            handleWhenVideoPaused(activeSlide);\n            autoSlideSwitch(getNextIndex());\n          }\n        });\n      }\n\n      // 2. if we have <template data-youtube-template>, load and unload youtube video\n      const oldYoutubeEl = activeSlide.querySelector(\n        '.ab-banner-video-{{ section.id }}'\n      );\n      //if (oldYoutubeEl) unloadYoutubeVideo(activeSlide); // no need to unload\n\n      const newYoutubeEl = newActiveSlide.querySelector(\n        '[data-youtube-template]'\n      );\n      if (newYoutubeEl) loadYoutubeVideo(newActiveSlide);\n\n      if (newVideoEl || newYoutubeEl) {\n        // have any video, wait for them to finish before we call the next slide\n        //console.log('waiting for video to finish');\n        if (!getIfAutoplay(newActiveSlide)) {\n          const intervalTime = document.querySelector(\n            '.ab-banner-{{ section.id }}'\n          ).dataset.interval;\n          slideSwitchTimeoutID = setTimeout(() => {\n            autoSlideSwitch(getNextIndex());\n          }, intervalTime);\n        }\n      } else {\n        // no video, wait for interval time to call next slide\n        //console.log('no video, wait for interval time');\n        const intervalTime = document.querySelector(\n          '.ab-banner-{{ section.id }}'\n        ).dataset.interval;\n        slideSwitchTimeoutID = setTimeout(() => {\n          autoSlideSwitch(getNextIndex());\n        }, intervalTime);\n      }\n    }\n\n    const videoPlayingClass =\n      'ab-banner-image-wrapper-playing-video-{{ section.id }}';\n    function handleWhenVideoPaused(slideEl) {\n      slideEl.classList.remove(videoPlayingClass);\n    }\n    function handleWhenVideoPlay(slideEl) {\n      slideEl.classList.add(videoPlayingClass);\n    }\n\n    function getIfAutoplay(slideEl) {\n      // check if slideEl has data-autoplay\n      const autoplay = slideEl.dataset.autoplay;\n      if (autoplay) return true;\n      else return false;\n    }\n\n    function loadYoutubeVideo(slideEl) {\n      const index = slideEl.dataset.index;\n      // Check if we have already loaded the video in the videoPlayers:\n      if (videoPlayers[index]) {\n        if (getIfAutoplay(slideEl)) videoPlayers[index].playVideo();\n        return;\n      } else if (typeof YT !== 'undefined' && YT.loaded) {\n        // print all the if statments:\n        const template = slideEl.querySelector('[data-youtube-template]');\n        let childEl = template.content.firstElementChild.cloneNode(true);\n\n        const videoWrapper = slideEl.querySelector(\n          '.ab-banner-video-wrapper-{{ section.id }}'\n        );\n        childEl = videoWrapper.appendChild(childEl);\n\n        const videoId = childEl.dataset.videoId;\n        const player = new YT.Player(childEl, {\n          height: '100%',\n          width: '100%',\n          videoId: videoId,\n          playerVars: {\n            mute: 1,\n            playinline: 1,\n            //loop: 1,\n            //playlist: [videoId],\n            //autoplay: 1,\n            controls: 0,\n          },\n          // on finished, play next video:\n          events: {\n            onReady: () => {\n              if (getIfAutoplay(slideEl)) {\n                player.playVideo();\n              }\n              // check if the video is playing to see if ios is blocking autoplay:\n            },\n            onStateChange: (event) => {\n              if (event.data === YT.PlayerState.PLAYING) {\n                handleWhenVideoPlay(slideEl);\n              } else if (event.data === YT.PlayerState.PAUSED) {\n                handleWhenVideoPaused(slideEl);\n              } else if (event.data === YT.PlayerState.ENDED) {\n                if (hasOnlyOneSlide) {\n                  player.playVideo();\n                } else {\n                  autoSlideSwitch(getNextIndex());\n                  handleWhenVideoPaused(slideEl);\n                }\n              }\n            },\n          },\n        });\n        videoPlayers[index] = player;\n      } else {\n        setTimeout(() => loadYoutubeVideo(slideEl), 300);\n      }\n    }\n    function unloadYoutubeVideo(slideEl) {\n      const iframe = slideEl.querySelector('iframe');\n      if (iframe) {\n        iframe.remove();\n      }\n    }\n\n    function setupPlayButton(slideEl) {\n      const playButton = slideEl.querySelector(\n        '.ab-banner-play-button-{{ section.id }}'\n      );\n      if (!playButton) return;\n      playButton.addEventListener('click', () => {\n        clearTimeout(slideSwitchTimeoutID);\n        handleWhenVideoPlay(slideEl);\n        try {\n          const videoWrapper = slideEl.querySelector(\n            '.ab-banner-video-wrapper-{{ section.id }}'\n          );\n          videoWrapper.classList.add(\n            'ab-banner-video-wrapper-{{ section.id }}--playing'\n          );\n          const videoEl = slideEl.querySelector('video');\n          if (videoEl) {\n            videoEl.play();\n          } else {\n            const youtubeEl = slideEl.querySelector('iframe');\n            if (youtubeEl) {\n              const index = slideEl.dataset.index;\n              videoPlayers[index].playVideo();\n            }\n          }\n        } catch (e) {\n          console.log(e);\n        }\n      });\n    }\n\n    function Init() {\n      const slides = document.querySelectorAll(\n        '.ab-banner-slide-{{ section.id }}'\n      );\n      const size = slides.length;\n      if (size < 1) return;\n      hasOnlyOneSlide = size === 1 ? true : false;\n\n      // setup play button:\n      slides.forEach((slideEl) => {\n        setupPlayButton(slideEl);\n      });\n\n      autoSlideSwitch(0);\n\n      if (window.Shopify && window.Shopify.designMode)\n        document.addEventListener('shopify:section:unload', function (event) {\n          if (event.detail.sectionId !== '{{ section.id }}') return;\n          if (slideSwitchTimeoutID) clearTimeout(slideSwitchTimeoutID);\n          videoPlayers = {};\n        });\n    }\n\n    Init();\n    if (window.Shopify && window.Shopify.designMode) {\n      document.addEventListener('shopify:section:load', function (event) {\n        if (event.detail.sectionId !== '{{ section.id }}') return;\n        Init();\n      });\n    }\n  })();\n</script>",
  "variables": {
    "layout_height": {
      "type": "text",
      "default": "full_screen",
      "label": "Height",
      "description": "Height"
    },
    "height": {
      "type": "text",
      "default": "700",
      "label": "Height",
      "description": "Height"
    },
    "height_mobile": {
      "type": "text",
      "default": "240",
      "label": "Height mobile",
      "description": "Height mobile"
    },
    "overlay_opacity": {
      "type": "text",
      "default": "0",
      "label": "Overlay opacity",
      "description": "Overlay opacity"
    },
    "interval": {
      "type": "text",
      "default": "5",
      "label": "Image switch interval",
      "description": "(For images) The interval between image switches."
    },
    "image_object_fit": {
      "type": "text",
      "default": "cover",
      "label": "Image fit",
      "description": "Image fit"
    },
    "play_button_image": {
      "type": "text",
      "default": "",
      "label": "Play button image (optional)",
      "description": "Overrides the default play button"
    },
    "play_button_pause_image": {
      "type": "text",
      "default": "",
      "label": "Pause button image (optional)",
      "description": "Pause button image (optional)"
    },
    "controls_position": {
      "type": "text",
      "default": "top",
      "label": "Position",
      "description": "Position"
    },
    "controls_size": {
      "type": "text",
      "default": "80",
      "label": "Size",
      "description": "Size"
    },
    "controls_size_mobile": {
      "type": "text",
      "default": "80",
      "label": "Size - mobile",
      "description": "Size - mobile"
    },
    "vertical_alignment": {
      "type": "text",
      "default": "center",
      "label": "Position",
      "description": "Position"
    },
    "horizontal_alignment": {
      "type": "text",
      "default": "center",
      "label": "Alignment",
      "description": "Alignment"
    },
    "title_custom": {
      "type": "text",
      "default": "false",
      "label": "Use custom font",
      "description": "Use custom font"
    },
    "title_font": {
      "type": "text",
      "default": "josefin_sans_n4",
      "label": "Font family",
      "description": "Font family"
    },
    "title_size": {
      "type": "text",
      "default": "50",
      "label": "Font size",
      "description": "Font size"
    },
    "title_size_mobile": {
      "type": "text",
      "default": "32",
      "label": "Font size - mobile",
      "description": "Font size - mobile"
    },
    "title_height": {
      "type": "text",
      "default": "130",
      "label": "Height",
      "description": "Height"
    },
    "subtitle_custom": {
      "type": "text",
      "default": "false",
      "label": "Use custom font",
      "description": "Use custom font"
    },
    "subtitle_font": {
      "type": "text",
      "default": "josefin_sans_n4",
      "label": "Font family",
      "description": "Font family"
    },
    "subtitle_size": {
      "type": "text",
      "default": "16",
      "label": "Font size",
      "description": "Font size"
    },
    "subtitle_size_mobile": {
      "type": "text",
      "default": "16",
      "label": "Font size - mobile",
      "description": "Font size - mobile"
    },
    "subtitle_height": {
      "type": "text",
      "default": "130",
      "label": "Height",
      "description": "Height"
    },
    "subtitle_mt": {
      "type": "text",
      "default": "20",
      "label": "Margin top",
      "description": "Margin top"
    },
    "buttons_mt": {
      "type": "text",
      "default": "20",
      "label": "Margin top",
      "description": "Margin top"
    },
    "buttons_gap": {
      "type": "text",
      "default": "20",
      "label": "Gap",
      "description": "Gap"
    },
    "button": {
      "type": "text",
      "default": "Shop now",
      "label": "Button label",
      "description": "Button label"
    },
    "url": {
      "type": "text",
      "default": "",
      "label": "Button link",
      "description": "Button link"
    },
    "open_in_new_tab": {
      "type": "text",
      "default": "false",
      "label": "Open link in new tab",
      "description": "Open link in new tab"
    },
    "button_style": {
      "type": "text",
      "default": "outline",
      "label": "Style",
      "description": "Style"
    },
    "button_custom": {
      "type": "text",
      "default": "false",
      "label": "Use custom font",
      "description": "Use custom font"
    },
    "button_font": {
      "type": "text",
      "default": "josefin_sans_n4",
      "label": "Font family",
      "description": "Font family"
    },
    "button_size": {
      "type": "text",
      "default": "14",
      "label": "Font size",
      "description": "Font size"
    },
    "button_size_mobile": {
      "type": "text",
      "default": "14",
      "label": "Font size - mobile",
      "description": "Font size - mobile"
    },
    "button_height": {
      "type": "text",
      "default": "100",
      "label": "Line height",
      "description": "Line height"
    },
    "button_padding_advanced": {
      "type": "text",
      "default": "false",
      "label": "Advanced padding settings",
      "description": "Advanced padding settings"
    },
    "button_padding_horizontal": {
      "type": "text",
      "default": "32",
      "label": "Padding horizontal",
      "description": "Padding horizontal"
    },
    "button_padding_horizontal_mobile": {
      "type": "text",
      "default": "32",
      "label": "Padding horizontal - mobile",
      "description": "Padding horizontal - mobile"
    },
    "button_padding_vertical": {
      "type": "text",
      "default": "16",
      "label": "Padding vertical",
      "description": "Padding vertical"
    },
    "button_padding_vertical_mobile": {
      "type": "text",
      "default": "16",
      "label": "Padding vertical - mobile",
      "description": "Padding vertical - mobile"
    },
    "button_radius": {
      "type": "text",
      "default": "100",
      "label": "Roundness",
      "description": "Roundness"
    },
    "button_border_thickness": {
      "type": "text",
      "default": "1",
      "label": "Border thickness",
      "description": "Border thickness"
    },
    "button_mt": {
      "type": "text",
      "default": "24",
      "label": "Margin top",
      "description": "Margin top"
    },
    "button_mt_mobile": {
      "type": "text",
      "default": "16",
      "label": "Margin top - mobile",
      "description": "Margin top - mobile"
    },
    "button_color": {
      "type": "color",
      "default": "#121212",
      "label": "Text",
      "description": "Text"
    },
    "button_hover_color": {
      "type": "color",
      "default": "#FFFFFF",
      "label": "Text hover",
      "description": "Text hover"
    },
    "button_bg_color": {
      "type": "color",
      "default": "#FFFFFF",
      "label": "Background",
      "description": "Background"
    },
    "button_bg_hover_color": {
      "type": "color",
      "default": "#121212",
      "label": "Background hover",
      "description": "Background hover"
    },
    "button_border_color": {
      "type": "color",
      "default": "#121212",
      "label": "Border",
      "description": "Border"
    },
    "button_border_hover_color": {
      "type": "color",
      "default": "#121212",
      "label": "Border hover",
      "description": "Border hover"
    },
    "second_button_color": {
      "type": "color",
      "default": "#121212",
      "label": "Text",
      "description": "Text"
    },
    "second_button_hover_color": {
      "type": "color",
      "default": "#FFFFFF",
      "label": "Text hover",
      "description": "Text hover"
    },
    "second_button_bg_color": {
      "type": "color",
      "default": "#FFFFFF",
      "label": "Background",
      "description": "Background"
    },
    "second_button_bg_hover_color": {
      "type": "color",
      "default": "#121212",
      "label": "Background hover",
      "description": "Background hover"
    },
    "second_button_border_color": {
      "type": "color",
      "default": "#121212",
      "label": "Border",
      "description": "Border"
    },
    "second_button_border_hover_color": {
      "type": "color",
      "default": "#121212",
      "label": "Border hover",
      "description": "Border hover"
    },
    "title_color": {
      "type": "color",
      "default": "#FFFFFF",
      "label": "Title",
      "description": "Title"
    },
    "subtitle_color": {
      "type": "color",
      "default": "#FFFFFF",
      "label": "Subtitle",
      "description": "Subtitle"
    },
    "overlay_color": {
      "type": "color",
      "default": "#000000",
      "label": "Overlay",
      "description": "Overlay"
    },
    "background_color": {
      "type": "color",
      "default": "#535353",
      "label": "Section background color",
      "description": "Section background color"
    },
    "padding_top": {
      "type": "text",
      "default": "0",
      "label": "Top",
      "description": "Top"
    },
    "padding_bottom": {
      "type": "text",
      "default": "0",
      "label": "Bottom",
      "description": "Bottom"
    },
    "padding_horizontal": {
      "type": "text",
      "default": "3",
      "label": "Sides",
      "description": "Sides"
    },
    "padding_horizontal_mobile": {
      "type": "text",
      "default": "1.5",
      "label": "Sides - mobile",
      "description": "Sides - mobile"
    },
    "margin_top": {
      "type": "text",
      "default": "4",
      "label": "Top",
      "description": "Top"
    },
    "margin_bottom": {
      "type": "text",
      "default": "4",
      "label": "Bottom",
      "description": "Bottom"
    },
    "margin_horizontal": {
      "type": "text",
      "default": "0",
      "label": "Sides",
      "description": "Sides"
    },
    "margin_horizontal_mobile": {
      "type": "text",
      "default": "0",
      "label": "Sides - mobile",
      "description": "Sides - mobile"
    },
    "full_width": {
      "type": "text",
      "default": "false",
      "label": "Full width",
      "description": "Full width"
    },
    "section_width": {
      "type": "text",
      "default": "1200",
      "label": "Section content max width",
      "description": "Section content max width"
    },
    "section_radius": {
      "type": "text",
      "default": "0",
      "label": "Section roundness",
      "description": "Section roundness"
    },
    "lazy": {
      "type": "text",
      "default": "false",
      "label": "Lazy load",
      "description": "Lazy load images below fold for speed optimisation"
    }
  }
}