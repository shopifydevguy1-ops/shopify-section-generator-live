{
  "id": "custom-scrolling-animtaion",
  "name": "CUSTOM Animate section",
  "description": "Section: CUSTOM Animate section",
  "tags": [
    "scrolling"
  ],
  "type": "custom",
  "liquid_code": "<div class=\"section-{{ section.id }} animation-controller-{{ section.id }}\">\r\n</div>\r\n\r\n<style>\r\n  .animate-fade-up {\r\n    opacity: 0;\r\n    transform: translateY(50px);\r\n  }\r\n  \r\n  .animate-fade-down {\r\n    opacity: 0;\r\n    transform: translateY(-50px);\r\n  }\r\n  \r\n  .animate-fade-left {\r\n    opacity: 0;\r\n    transform: translateX(-50px);\r\n  }\r\n  \r\n  .animate-fade-right {\r\n    opacity: 0;\r\n    transform: translateX(50px);\r\n  }\r\n  \r\n  .animate-fade {\r\n    opacity: 0;\r\n  }\r\n  \r\n  .animate-scale {\r\n    opacity: 0;\r\n    transform: scale(0.9);\r\n  }\r\n  \r\n  .animate-zoom {\r\n    opacity: 0;\r\n    transform: scale(1.1);\r\n  }\r\n  \r\n  .animate-blur {\r\n    opacity: 0;\r\n    filter: blur(10px);\r\n  }\r\n\r\n  /* Hover Animation Styles */\r\n  .hover-zoom img,\r\n  .hover-zoom svg {\r\n    transition: transform 0.4s ease, filter 0.4s ease;\r\n  }\r\n  \r\n  .hover-zoom img:hover,\r\n  .hover-zoom svg:hover {\r\n    transform: scale(1.1);\r\n  }\r\n  \r\n  .hover-lift img,\r\n  .hover-lift svg {\r\n    transition: transform 0.3s ease, box-shadow 0.3s ease;\r\n  }\r\n  \r\n  .hover-lift img:hover,\r\n  .hover-lift svg:hover {\r\n    transform: translateY(-10px);\r\n  }\r\n  \r\n  .hover-glow img,\r\n  .hover-glow svg {\r\n    transition: filter 0.3s ease, transform 0.3s ease;\r\n  }\r\n  \r\n  .hover-glow img:hover,\r\n  .hover-glow svg:hover {\r\n    filter: brightness(1.2) drop-shadow(0 0 20px rgba(255, 255, 255, 0.5));\r\n    transform: scale(1.05);\r\n  }\r\n\r\n  .hover-point-zoom img,\r\n  .hover-point-zoom svg {\r\n    transition: all 0.25s ease 0s;\r\n  }\r\n\r\n  .hover-blur-zoom img,\r\n  .hover-blur-zoom svg {\r\n    transform: scale(1.25);\r\n    filter: blur(2px);\r\n    transition: all 0.8s ease 0s;\r\n  }\r\n\r\n  .hover-blur-zoom img:hover,\r\n  .hover-blur-zoom svg:hover {\r\n    transform: scale(1);\r\n    filter: blur(0px);\r\n    transition: all 0.8s ease 0s;\r\n  }\r\n\r\n  .hover-point-zoom img:hover,\r\n  .hover-point-zoom svg:hover {\r\n    transition: all 0.25s ease 0s;\r\n    transform: scale(2);\r\n  }\r\n\r\n  .hover-colorize img,\r\n  .hover-colorize svg {\r\n    filter: grayscale(100%);\r\n    transition: 1s ease-in-out;\r\n  }\r\n\r\n  .hover-colorize img:hover,\r\n  .hover-colorize svg:hover {\r\n    filter: grayscale(0%);\r\n    transform: scale(1.2);\r\n    transition: 1s ease-in-out;\r\n  }\r\n\r\n  .hover-flip img,\r\n  .hover-flip svg {\r\n    transition: 1s ease-in-out;\r\n    transform-style: preserve-3d;\r\n  }\r\n\r\n  .hover-flip img:hover,\r\n  .hover-flip svg:hover {\r\n    transition: 1s ease-in-out;\r\n    transform: rotateY(180deg);\r\n  }\r\n\r\n  .hover-rotate-scale img,\r\n  .hover-rotate-scale svg {\r\n    transition: 1s ease-in-out;\r\n  }\r\n\r\n  .hover-rotate-scale img:hover,\r\n  .hover-rotate-scale svg:hover {\r\n    transform: rotate(10deg) scale(1.25);\r\n    transition: 1s ease-in-out;\r\n  }\r\n  \r\n  .hover-rotate img,\r\n  .hover-rotate svg {\r\n    transition: transform 0.5s ease;\r\n  }\r\n  \r\n  .hover-brightness img,\r\n  .hover-brightness svg {\r\n    filter: brightness(50%);\r\n    transition: all 0.5s ease 0s;\r\n  }\r\n\r\n  .hover-brightness img:hover,\r\n  .hover-brightness svg:hover {\r\n    filter: brightness(100%);\r\n    transition: all 0.5s ease 0s;\r\n  }\r\n\r\n  .hover-rotate img:hover,\r\n  .hover-rotate svg:hover {\r\n    transform: rotate(360deg);\r\n  }\r\n  \r\n  .hover-slide img,\r\n  .hover-slide svg {\r\n    transition: transform 0.3s ease;\r\n  }\r\n  \r\n  .hover-slide img:hover,\r\n  .hover-slide svg:hover {\r\n    transform: translateX(10px);\r\n  }\r\n  \r\n  .hover-bounce img,\r\n  .hover-bounce svg {\r\n    transition: transform 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);\r\n  }\r\n  \r\n  .hover-bounce img:hover,\r\n  .hover-bounce svg:hover {\r\n    transform: scale(1.1);\r\n  }\r\n  \r\n  .hover-grayscale img,\r\n  .hover-grayscale svg {\r\n    transition: filter 0.3s ease, transform 0.3s ease;\r\n    filter: grayscale(100%);\r\n  }\r\n  \r\n  .hover-grayscale img:hover,\r\n  .hover-grayscale svg:hover {\r\n    filter: grayscale(0%);\r\n    transform: scale(1.05);\r\n  }\r\n  \r\n  .hover-sepia img,\r\n  .hover-sepia svg {\r\n    transition: filter 0.3s ease, transform 0.3s ease;\r\n    filter: sepia(0%);\r\n  }\r\n  \r\n  .hover-sepia img:hover,\r\n  .hover-sepia svg:hover {\r\n    filter: sepia(80%);\r\n    transform: scale(1.05);\r\n  }\r\n</style>\r\n\r\n<script>\r\n  function initSectionsAnimation{{ section.id | replace: '-', '' }}() {\r\n    const currentContainer = document.querySelector('.animation-controller-{{ section.id }}');\r\n    const currentSectionElement = currentContainer ? currentContainer.closest('.shopify-section') : null;\r\n\r\n    if (!currentSectionElement) {\r\n        return; \r\n    }\r\n\r\n    const animationScope = '{{ section.settings.animation_scope }}';\r\n    const animationType = '{{ section.settings.animation_type }}';\r\n    const animationDuration = {{ section.settings.animation_duration }};\r\n    const animationDelay = {{ section.settings.animation_delay }};\r\n    const animateOnce = {{ section.settings.animate_once }};\r\n    const animationOffset = {{ section.settings.animation_offset }};\r\n\r\n    // Hover animation settings\r\n    const useHoverAnimation = {{ section.settings.use_hover_animation }};\r\n    const hoverEffectType = '{{ section.settings.hover_effect_type }}';\r\n    const hoverMinSize = {{ section.settings.hover_min_size }};\r\n    const hoverMaxSize = {{ section.settings.hover_max_size }};\r\n\r\n    // Get sections to apply effects to (shared scope)\r\n    function getSectionsInScope() {\r\n      let sections = [];\r\n      \r\n      switch(animationScope) {\r\n        case 'all':\r\n          sections = Array.from(document.querySelectorAll('.shopify-section'));\r\n          break;\r\n          \r\n        case 'all_below':\r\n          let sectionBelow = currentSectionElement.nextElementSibling;\r\n          while (sectionBelow) {\r\n            if (sectionBelow.classList.contains('shopify-section')) {\r\n              sections.push(sectionBelow);\r\n            }\r\n            sectionBelow = sectionBelow.nextElementSibling;\r\n          }\r\n          break;\r\n          \r\n        case 'one_below':\r\n          let nextSection = currentSectionElement.nextElementSibling;\r\n          while (nextSection) {\r\n            if (nextSection.classList.contains('shopify-section')) {\r\n              sections.push(nextSection);\r\n              break;\r\n            }\r\n            nextSection = nextSection.nextElementSibling;\r\n          }\r\n          break;\r\n      }\r\n      \r\n      return sections;\r\n    }\r\n\r\n    const sectionsInScope = getSectionsInScope();\r\n\r\n    // === SCROLL ANIMATION ===\r\n    const observerOptions = {\r\n      root: null,\r\n      rootMargin: `0px 0px -${animationOffset}px 0px`,\r\n      threshold: 0.1 \r\n    };\r\n\r\n    const animatedSections = new Set();\r\n\r\n    const observer = new IntersectionObserver((entries) => {\r\n      entries.forEach(entry => {\r\n        const sectionId = entry.target.dataset.animationId;\r\n        \r\n        if (entry.isIntersecting) {\r\n          entry.target.style.opacity = '1';\r\n          entry.target.style.transform = 'none';\r\n          entry.target.style.filter = 'none';\r\n          \r\n          if (animateOnce) {\r\n            animatedSections.add(sectionId);\r\n          }\r\n        } else {\r\n          if (!animateOnce || !animatedSections.has(sectionId)) {\r\n            entry.target.style.opacity = '0';\r\n            \r\n            switch(animationType) {\r\n              case 'fade-up':\r\n                entry.target.style.transform = 'translateY(50px)';\r\n                break;\r\n              case 'fade-down':\r\n                entry.target.style.transform = 'translateY(-50px)';\r\n                break;\r\n              case 'fade-left':\r\n                entry.target.style.transform = 'translateX(-50px)';\r\n                break;\r\n              case 'fade-right':\r\n                entry.target.style.transform = 'translateX(50px)';\r\n                break;\r\n              case 'scale':\r\n                entry.target.style.transform = 'scale(0.9)';\r\n                break;\r\n              case 'zoom':\r\n                entry.target.style.transform = 'scale(1.1)';\r\n                break;\r\n              case 'blur':\r\n                entry.target.style.filter = 'blur(10px)';\r\n                break;\r\n            }\r\n          }\r\n        }\r\n      });\r\n    }, observerOptions);\r\n\r\n    sectionsInScope.forEach((section, index) => {\r\n      const delay = animationDelay * index;\r\n      section.style.transition = `all ${animationDuration}s ease ${delay}s`;\r\n      section.classList.add(`animate-${animationType}`);\r\n      section.dataset.animationId = `section-${section.dataset.sectionId || index}`;\r\n      observer.observe(section);\r\n    });\r\n\r\n    // === HOVER ANIMATION ===\r\n    if (useHoverAnimation) {\r\n      function getSizeOfElement(element) {\r\n        const rect = element.getBoundingClientRect();\r\n        return Math.max(rect.width, rect.height);\r\n      }\r\n\r\n      function applyHoverEffect(element) {\r\n        const size = getSizeOfElement(element);\r\n        \r\n        if (size >= hoverMinSize && size <= hoverMaxSize) {\r\n          const parent = element.parentElement;\r\n          if (!parent.classList.contains(`hover-${hoverEffectType}`)) {\r\n            parent.classList.add(`hover-${hoverEffectType}`);\r\n          }\r\n        }\r\n      }\r\n\r\n      function processSection(section) {\r\n        const images = section.querySelectorAll('img');\r\n        const svgs = section.querySelectorAll('svg');\r\n        \r\n        images.forEach(img => {\r\n          if (img.complete) {\r\n            applyHoverEffect(img);\r\n          } else {\r\n            img.addEventListener('load', () => applyHoverEffect(img));\r\n          }\r\n        });\r\n        \r\n        svgs.forEach(svg => applyHoverEffect(svg));\r\n      }\r\n\r\n      sectionsInScope.forEach(section => processSection(section));\r\n\r\n      // Observer for dynamically added images\r\n      const observerConfig = { childList: true, subtree: true };\r\n      const mutationObserver = new MutationObserver((mutations) => {\r\n        mutations.forEach(mutation => {\r\n          mutation.addedNodes.forEach(node => {\r\n            if (node.nodeType === 1) {\r\n              if (node.tagName === 'IMG' || node.tagName === 'SVG') {\r\n                applyHoverEffect(node);\r\n              }\r\n              const imgs = node.querySelectorAll?.('img, svg');\r\n              imgs?.forEach(el => applyHoverEffect(el));\r\n            }\r\n          });\r\n        });\r\n      });\r\n\r\n      sectionsInScope.forEach(section => mutationObserver.observe(section, observerConfig));\r\n    }\r\n  }\r\n\r\n  if (document.readyState === 'loading') {\r\n    document.addEventListener('DOMContentLoaded', initSectionsAnimation{{ section.id | replace: '-', '' }});\r\n  } else {\r\n    initSectionsAnimation{{ section.id | replace: '-', '' }}();\r\n  }\r\n\r\n  if (Shopify.designMode) {\r\n    document.addEventListener('shopify:section:load', function(event) {\r\n      if (event.detail.sectionId === '{{ section.id }}') {\r\n        initSectionsAnimation{{ section.id | replace: '-', '' }}();\r\n      }\r\n    });\r\n  }\r\n</script>",
  "variables": {
    "animation_scope": {
      "type": "text",
      "default": "all",
      "label": "Which section(s) to animate",
      "description": "Which section(s) to animate"
    },
    "animation_type": {
      "type": "text",
      "default": "fade-up",
      "label": "Type",
      "description": "Type"
    },
    "animation_duration": {
      "type": "text",
      "default": "0.3",
      "label": "Duration",
      "description": "Duration"
    },
    "animation_delay": {
      "type": "text",
      "default": "0.1",
      "label": "Delay between sections",
      "description": "If there are many sections, this makes them come in one after another"
    },
    "animation_offset": {
      "type": "text",
      "default": "100",
      "label": "Trigger offset",
      "description": "How far up the screen the section needs to be before it starts animating"
    },
    "animate_once": {
      "type": "text",
      "default": "true",
      "label": "Animate once",
      "description": "If off, section animates every time you scroll past it"
    },
    "use_hover_animation": {
      "type": "text",
      "default": "false",
      "label": "Turn on hover animation",
      "description": "Images (and SVG icons) will play a small animation on hover."
    },
    "hover_effect_type": {
      "type": "text",
      "default": "zoom",
      "label": "Animation style",
      "description": "Animation style"
    },
    "hover_min_size": {
      "type": "text",
      "default": "100",
      "label": "Minimum image size",
      "description": "Only animate images that are at least this size."
    },
    "hover_max_size": {
      "type": "text",
      "default": "1000",
      "label": "Maximum image size",
      "description": "Only animate images that are at most this size."
    }
  }
}