{
  "id": "announcement-bar-2",
  "name": "Marquee Announcement Bar",
  "description": "Section: Marquee Announcement Bar",
  "tags": [
    "announcement"
  ],
  "type": "custom",
  "liquid_code": "<style>\n  .announcement-bar,\n  .announcement-bar__message {\n    overflow: hidden;\n  }\n  .ss-announcement-bar__link {\n    display: block;\n    width: 100%;\n    padding: 1.5rem 2rem;\n    text-decoration: none;\n    cursor: pointer;\n    color: var(--text-color);\n    line-height:0;\n  }\n  .ss-announcement-bar__link:hover {\n    color: var(--text-color);\n  }\n  #marq {\n    width: 100%;\n    border: inset;\n    overflow: hidden;\n    white-space: nowrap;\n    box-shadow: unset;\n    border: 0;\n    max-height: calc(35px + {{section.settings.text_size}}px);\n    box-shadow: unset;\n    border-color: currentcolor;\n    vertical-align: middle;\n  }\n  {% if section.settings.animation_direction == \"left\" %}\n  @keyframes marquesina {\n    0% {\n      transform: translate(0);\n    }\n    to {\n      transform: translate(-50%);\n    }\n  }\n  @keyframes marquesina-reverse {\n    0% {\n      transform: translate(50%);\n    }\n    to {\n      transform: translate(0);\n    }\n  }\n  {% else %}\n    @keyframes marquesina {\n      0% {\n        transform: translate(-50%);\n      }\n      to {\n        transform: translate(0);\n      }\n    }\n    @keyframes marquesina-reverse {\n        0% {\n          transform: translate(0);\n        }\n        to {\n          transform: translate(50%);\n        }\n      }\n  {% endif %}\n  #orig {\n    display: inline-block;\n    overflow: hidden;\n    transform: translate(0);\n    animation: marquesina var(--animation-duration, 45s) infinite normal linear\n      2s;\n  }\n  #orig.reverse {\n    animation: marquesina-reverse var(--animation-duration, 45s) infinite normal linear\n      2s !important;\n  }\n  .announcement-bar__message {\n    text-align: center;\n    /* padding: 5px 0 0 !important; */\n    padding: 5px 0 0;\n    margin: 0;\n    /* letter-spacing: unset; */\n    line-height: calc({{section.settings.text_size}}px + 2px);\n    font-size: {{section.settings.text_size}}px;\n  }\n  #orig.reverse .announcement-bar__message {\n    display: flex;\n    flex-direction: row-reverse;\n  }\n  .announcement-bar__message li {\n    display: inline-block;\n    padding-right: 114px;\n    position: relative;\n  }\n  .announcement-bar__message li::after {\n    content: '';\n    width: 3.5px;\n    height: 3.5px;\n    background-color: var(--text-color);\n    background-image: none;\n    opacity: 0.3;\n    border-radius: 50%;\n    position: absolute;\n    top: 40%;\n    right: 50px;\n  }\n  @media (max-width: 480px) {\n    #marq {\n      max-height: 39px;\n    }\n    .announcement-bar__message li {\n      padding-right: 55px;\n    }\n    .announcement-bar__message li::after {\n      right: 25px;\n    }\n  }\n</style>\n\n{% if section.settings.pause_hover %}\n  <style>\n    .announcement-bar:hover #orig {\n      animation-play-state: paused !important;\n    }\n  </style>\n{% endif %}\n\n<template id=\"marquee-announcement-bar-{{ section.id }}\">\n  <div\n    class=\"announcement-bar\"\n    aria-label=\"Announcement\"\n    style=\"background-color: {{ section.settings.bg }}; --text-color: {{ section.settings.text_color }}; --animation-duration: {{ section.settings.animation_duration }}s;\"\n  >\n    <a\n      href=\"{{ section.settings.link }}\"\n      class=\"ss-announcement-bar__link\"\n    >\n      <div id=\"marq\">\n        <span id=\"orig\">\n          <ul class=\"announcement-bar__message\">\n            {% for i in (1..6) %}\n              {% for block in section.blocks %}\n                <li>{{ block.settings.text }}</li>\n              {% endfor %}\n            {% endfor %}\n\n            {% for block in section.blocks limit: 1 %}\n              <!-- <li>{{ block.settings.text }}</li> -->\n            {% endfor %}\n          </ul>\n        </span>\n      </div>\n    </a>\n  </div>\n</template>\n\n<div id=\"marquee-local-target\"></div>\n\n<script>\n  window.addEventListener('DOMContentLoaded', (event) => {\n    let cssTarget = '{{ section.settings.insert_css_class_target }}';\n    let productForm = cssTarget\n      ? document.querySelector(cssTarget)\n      : document.querySelector('#marquee-local-target');\n\n    if (!productForm) return;\n\n    const templateContent = document.querySelector(\n      '#marquee-announcement-bar-{{ section.id }}'\n    ).content;\n\n    productForm.insertAdjacentElement(\n      'beforebegin',\n      templateContent.firstElementChild\n    );\n\n    setTimeout(()=> {\n      var htmlElement = document.documentElement;\n\n      if (window.getComputedStyle(htmlElement).getPropertyValue('direction') === 'rtl') {\n          document.querySelector('#orig').classList.add('reverse');\n      }\n    }, 1000);\n  });\n</script>",
  "variables": {
    "insert_css_class_target": {
      "type": "text",
      "default": ".header, .pageheader",
      "label": "Target CSS Class",
      "description": "If empty, the announcement bar will display normally. If you want to display the announcement bar in a specific place, you can add the CSS class of the target element here. Default is above header as announcement bar"
    },
    "text_size": {
      "type": "text",
      "default": "12",
      "label": "Font size",
      "description": "Font size"
    },
    "link": {
      "type": "text",
      "default": "#",
      "label": "Link",
      "description": "Link"
    },
    "animation_duration": {
      "type": "text",
      "default": "45",
      "label": "Animation Duration",
      "description": "Animation Duration"
    },
    "animation_direction": {
      "type": "text",
      "default": "left",
      "label": "Animation Direction",
      "description": "Animation Direction"
    },
    "pause_hover": {
      "type": "text",
      "default": "true",
      "label": "Pause on Hover",
      "description": "Pause on Hover"
    },
    "bg": {
      "type": "color",
      "default": "#000000",
      "label": "Background Color",
      "description": "Background Color"
    },
    "text_color": {
      "type": "color",
      "default": "#fff",
      "label": "Text color",
      "description": "Text color"
    }
  }
}