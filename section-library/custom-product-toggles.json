{
  "id": "custom-product-toggles",
  "name": "CUSTOM Product toggles",
  "description": "Section: CUSTOM Product toggles",
  "tags": [
    "product"
  ],
  "type": "product",
  "liquid_code": "{%- liquid \n  assign padding_horizontal = section.settings.padding_horizontal\n  assign padding_horizontal_mobile = section.settings.padding_horizontal_mobile\n  assign padding_top = section.settings.padding_top\n  assign padding_bottom = section.settings.padding_bottom\n  assign border_color = section.settings.border_color\n  assign border_thickness = section.settings.border_thickness\n  assign margin_top = section.settings.margin_top\n  assign margin_bottom = section.settings.margin_bottom\n  assign background_color = section.settings.background_color\n  assign background_gradient = section.settings.background_gradient\n\n  assign toggles_position = section.settings.toggles_position\n      \n  assign heading = section.settings.heading\n  assign heading_custom = section.settings.heading_custom\n  assign heading_font = section.settings.heading_font\n  assign heading_size = section.settings.heading_size\n  assign heading_size_mobile = section.settings.heading_size_mobile\n  assign heading_height = section.settings.heading_height\n  assign heading_color = section.settings.heading_color\n  assign heading_align = section.settings.heading_align\n  assign heading_align_mobile = section.settings.heading_align_mobile\n\n  assign items_gap = section.settings.items_gap\n  assign items_gap_mobile = section.settings.items_gap_mobile\n  assign items_mt = section.settings.items_mt\n  assign items_mt_mobile = section.settings.items_mt_mobile\n\n  assign item_gap = section.settings.item_gap\n  assign item_gap_mobile = section.settings.item_gap_mobile\n  assign item_padding_vertical = section.settings.item_padding_vertical\n  assign item_padding_vertical_mobile = section.settings.item_padding_vertical_mobile\n  assign item_padding_horizontal = section.settings.item_padding_horizontal\n  assign item_padding_horizontal_mobile = section.settings.item_padding_horizontal_mobile\n  assign item_border_thickness = section.settings.item_border_thickness\n  assign item_border_color = section.settings.item_border_color\n  assign item_border_color_hover = section.settings.item_border_color_hover\n  assign item_radius = section.settings.item_radius\n\n  assign use_icon = section.settings.use_icon\n  assign icon_size = section.settings.icon_size\n  assign icon_size_mobile = section.settings.icon_size_mobile\n  assign icon_color = section.settings.icon_color\n  assign icon_color_hover = section.settings.icon_color_hover\n\n  assign text_custom = section.settings.text_custom\n  assign text_font = section.settings.text_font\n  assign text_size = section.settings.text_size\n  assign text_size_mobile = section.settings.text_size_mobile\n  assign text_height = section.settings.text_height\n  assign text_color = section.settings.text_color\n  assign text_color_hover = section.settings.text_color_hover\n-%}\n\n{%- style -%}\n  {{ heading_font | font_face: font_display: 'swap' }}\n  {{ text_font | font_face: font_display: 'swap' }}\n\n  .section-{{ section.id }} {\n    border-top: solid {{ border_color }} {{ border_thickness }}px;\n    border-bottom: solid {{ border_color }} {{ border_thickness }}px;\n    margin-top: {{ margin_top | times: 0.75 | round: 0 }}px;\n    margin-bottom: {{ margin_bottom | times: 0.75 | round: 0 }}px;   \n    overflow: hidden;\n  }\n  \n  .section-{{ section.id }}-settings {\n    margin: 0 auto;\n    padding-top: {{ padding_top | times: 0.75 | round: 0 }}px;\n    padding-bottom: {{ padding_bottom | times: 0.75 | round: 0 }}px;\n    padding-left: {{ padding_horizontal_mobile }}rem;\n    padding-right: {{ padding_horizontal_mobile }}rem;\n  }  \n\n  .product-toggles-heading-{{ section.id }} {\n    text-align: {{ heading_align_mobile }};\n  }\n\n  .product-toggles-heading-{{ section.id }} * {\n    margin: 0;\n    font-size: {{ heading_size_mobile }}px;\n    color: {{ heading_color }};\n    line-height: {{ heading_height }}%;\n    text-transform: unset;\n    text-decoration: none;\n  }\n\n  .product-toggles-wrap-{{ section.id }} {\n    display: flex;\n    align-items: stretch;\n    gap: {{ items_gap_mobile }}px;\n    flex-wrap: wrap;\n    margin-top: {{ items_mt_mobile }}px;\n  }\n\n  .product-toggles-item-{{ section.id }} {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    gap: {{ item_gap_mobile }}px;\n    text-decoration: none;    \n    padding: {{ item_padding_vertical_mobile }}px {{ item_padding_horizontal_mobile }}px;\n    border: {{ item_border_thickness }}px solid {{ item_border_color }};\n    border-radius: {{ item_radius }}px;\n    cursor: pointer;\n  }\n\n  .product-toggles-item-{{ section.id }}:hover {\n    border: {{ item_border_thickness }}px solid {{ item_border_color_hover }};\n  }\n\n  .product-toggles-text-{{ section.id }} {\n    margin: 0;\n    font-size: {{ text_size_mobile }}px;\n    color: {{ text_color }};\n    line-height: {{ text_height }}%;\n    text-transform: unset;\n    flex-shrink: 0;\n  }\n\n  .product-toggles-icon-{{ section.id }} {\n    flex: 0 0 {{ icon_size_mobile }}px;\n    width: {{ icon_size_mobile }}px;\n  }\n\n  .product-toggles-icon-{{ section.id }} img,\n  .product-toggles-icon-{{ section.id }} svg {\n    display: block;\n    width: 100%;\n    height: 100%;\n    object-fit: contain;\n  }\n\n  .product-toggles-icon-{{ section.id }} svg path {\n    transition: all 0.25s ease 0s;\n    fill: {{ icon_color }};\n  }  \n\n  .product-toggles-item-{{ section.id }}:hover .product-toggles-text-{{ section.id }} {\n    transition: all 0.25s ease 0s;\n    color: {{ text_color_hover }};\n  }\n\n  .product-toggles-item-{{ section.id }}:hover .product-toggles-icon-{{ section.id }} svg path {\n    transition: all 0.25s ease 0s;\n    fill: {{ icon_color_hover }};\n  } \n  \n  @media(min-width: 1024px) {\n    .section-{{ section.id }} {\n      margin-top: {{ margin_top }}px;\n      margin-bottom: {{ margin_bottom }}px;\n    }\n    \n    .section-{{ section.id }}-settings {\n      padding-top: {{ padding_top }}px;\n      padding-bottom: {{ padding_bottom }}px;\n      padding-left: {{ padding_horizontal }}rem;\n      padding-right: {{ padding_horizontal }}rem;\n    }\n\n    .product-toggles-heading-{{ section.id }} {\n      text-align: {{ heading_align }};\n    }\n  \n    .product-toggles-heading-{{ section.id }} * {\n      font-size: {{ heading_size }}px;\n    }\n\n    .product-toggles-wrap-{{ section.id }} {\n      gap: {{ items_gap }}px;\n      margin-top: {{ items_mt }}px;\n    }\n\n    .product-toggles-item-{{ section.id }} {\n      gap: {{ item_gap }}px;\n      padding: {{ item_padding_vertical }}px {{ item_padding_horizontal }}px;\n    }\n\n    .product-toggles-icon-{{ section.id }} {\n      flex: 0 0 {{ icon_size }}px;\n      width: {{ icon_size }}px;\n    }\n\n    .product-toggles-text-{{ section.id }} {\n      font-size: {{ text_size }}px;\n    }\n  }\n  \n{%- endstyle -%}\n\n{% if heading_custom %}\n  <style>\n    .product-toggles-heading-{{ section.id }} * {\n      font-family: {{ heading_font.family }}, {{ heading_font.fallback_families }};\n      font-weight: {{ heading_font.weight }};\n      font-style: {{ heading_font.style }};\n    }\n  </style>\n{% endif %}\n\n{% if text_custom %}\n  <style>\n    .product-toggles-text-{{ section.id }} {\n      font-family: {{ text_font.family }}, {{ text_font.fallback_families }};\n      font-weight: {{ text_font.weight }};\n      font-style: {{ text_font.style }};\n    }\n  </style>\n{% endif %}\n\n<script>\n  window.addEventListener('DOMContentLoaded', (event) => {       \n    var productForm = document.querySelector('#custom-product-toggles');\n\n    if (!productForm){\n      var productForm = document.querySelector('{% if toggles_position == \"below_title\" or toggles_position == \"above_title\" %}.product__title{% elsif toggles_position == \"below_description\" or toggles_position == \"above_description\" %}.product__description{% elsif toggles_position == \"below_price\" %}.price.price--large.price--show-badge{% else %}.button--add-to-cart, .product .product-form, .product-single__add-to-cart, .shopify-payment-button, .shopify-payment-button__button, .ProductForm__BuyButtons, .add-to-cart{% endif %}');\n      if (!productForm) return;\n    }\n\n    const templateContent =  document.querySelector('#custom-product-toggles-{{ section.id }}').content\n\n    productForm.insertAdjacentElement('{% if toggles_position == \"below_buy\" or toggles_position == \"below_title\" or toggles_position == \"below_description\" or toggles_position == \"below_price\" %}afterend{% else %}beforebegin{% endif %}', templateContent.firstElementChild)\n  })  \n</script>\n\n<template id=\"custom-product-toggles-{{ section.id }}\">\n  <div class=\"section-{{ section.id }} product-toggles-{{ section.id }}\" style=\"background-color:{{ background_color }}; background-image: {{ background_gradient }};\">\n    <div class=\"section-{{ section.id }}-settings\">\n      {% if heading != blank %}\n        <div class=\"product-toggles-heading-{{ section.id }}\">\n          {{ heading }}\n        </div>\n      {% endif %}\n      <div class=\"product-toggles-wrap-{{ section.id }}\">\n        {% for block in section.blocks %}\n          <{% if block.settings.use_link %}a href=\"{{ block.settings.url }}\"{% else %}div{% endif %} class=\"product-toggles-item-{{ section.id }}\">\n            {% if use_icon %}\n              <div class=\"product-toggles-icon-{{ section.id }}\">\n                {% if block.settings.custom_icon != blank %}\n                  <img src=\"{{ block.settings.custom_icon | image_url }}\" alt=\"{{ block.settings.custom_icon.alt }}\">\n                {% else %} \n                  <svg width=\"14\" height=\"15\" viewBox=\"0 0 14 15\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M9.47464 9.9703L7.24725 12.1977C7.11057 12.3344 6.88896 12.3344 6.75227 12.1977L4.52489 9.9703C4.3882 9.83361 4.3882 9.61201 4.52489 9.47532C4.66157 9.33864 4.88318 9.33864 5.01986 9.47532L6.64976 11.1052L6.64976 3.5502C6.64976 3.3569 6.80646 3.2002 6.99976 3.2002C7.19306 3.2002 7.34976 3.3569 7.34976 3.5502L7.34976 11.1052L8.97966 9.47532C9.11634 9.33864 9.33795 9.33864 9.47464 9.47532C9.61132 9.61201 9.61132 9.83361 9.47464 9.9703Z\" fill=\"currentColor\"></path>\n                  </svg>                                   \n                {% endif %}  \n              </div>\n            {% endif %}\n            {% if block.settings.text != blank %}\n              <p class=\"product-toggles-text-{{ section.id }}\">{{ block.settings.text }}</p>  \n            {% endif %} \n          </{% if block.settings.use_link != blank %}a{% else %}div{% endif %}>  \n        {% endfor %}\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  function initProductToggles() {\n\n    setTimeout(() => {\n\n      let allSections = document.querySelectorAll(\".shopify-section\");\n      let togglesSection = document.querySelector(\".product-toggles-{{ section.id }}\");\n      let productSection = togglesSection.closest('.shopify-section');\n\n      let sectionsArray = Array.from(allSections);  \n \n      let productSectionIndex = sectionsArray.indexOf(productSection);  \n      \n      let sectionsAfterProductSection = sectionsArray.filter((section, index) => index > productSectionIndex);\n\n      let idsAfterProductSection = sectionsAfterProductSection.map(section => section.id);  \n      \n      \n      let items = document.querySelectorAll('.product-toggles-item-{{ section.id }}');\n\n      if(items) {\n        items.forEach((el, index) => {\n\n          if (index < idsAfterProductSection.length) {  \n            const newHref = `#${idsAfterProductSection[index]}`;  \n            if (!el.getAttribute('href')) {  \n              el.setAttribute('href', newHref);  \n            }  \n          }   \n            \n          el.addEventListener('click', (event) => {  \n              event.preventDefault();  \n              const targetId = el.getAttribute('href');  \n              if (targetId) {  \n                  const targetElement = document.querySelector(targetId);  \n                  if (targetElement) {  \n                      const elementPosition = targetElement.getBoundingClientRect().top + window.scrollY;\n                      const offsetPosition = elementPosition - 100;\n                      \n                      window.scrollTo({  \n                          top: offsetPosition,  \n                          behavior: 'smooth'\n                      });  \n                  }  \n              }  \n          });\n        });\n      }\n    }, 400)\n\n  }\n\n  document.addEventListener('DOMContentLoaded', initProductToggles);\n  \n  if (Shopify.designMode) {\n     document.addEventListener('shopify:section:unload', initProductToggles);\n     document.addEventListener('shopify:section:load', initProductToggles);\n  }\n</script>",
  "variables": {
    "toggles_position": {
      "type": "text",
      "default": "below_buy",
      "label": "Position",
      "description": "Position"
    },
    "heading": {
      "type": "textarea",
      "default": "<h2>Heading</h2>",
      "label": "Text",
      "description": "Text"
    },
    "heading_custom": {
      "type": "text",
      "default": "false",
      "label": "Use custom font",
      "description": "Use custom font"
    },
    "heading_font": {
      "type": "text",
      "default": "josefin_sans_n4",
      "label": "Font family",
      "description": "Font family"
    },
    "heading_size": {
      "type": "text",
      "default": "15",
      "label": "Font size",
      "description": "Font size"
    },
    "heading_size_mobile": {
      "type": "text",
      "default": "15",
      "label": "Font size - mobile",
      "description": "Font size - mobile"
    },
    "heading_height": {
      "type": "text",
      "default": "130",
      "label": "Line height",
      "description": "Line height"
    },
    "heading_align": {
      "type": "text",
      "default": "",
      "label": "Alignment",
      "description": "Alignment"
    },
    "heading_align_mobile": {
      "type": "text",
      "default": "",
      "label": "Alignment - mobile",
      "description": "Alignment - mobile"
    },
    "items_gap": {
      "type": "text",
      "default": "8",
      "label": "Gap",
      "description": "Gap"
    },
    "items_gap_mobile": {
      "type": "text",
      "default": "8",
      "label": "Gap - mobile",
      "description": "Gap - mobile"
    },
    "items_mt": {
      "type": "text",
      "default": "8",
      "label": "Margin top",
      "description": "Margin top"
    },
    "items_mt_mobile": {
      "type": "text",
      "default": "8",
      "label": "Margin top - mobile",
      "description": "Margin top - mobile"
    },
    "item_padding_vertical": {
      "type": "text",
      "default": "6",
      "label": "Padding vertical",
      "description": "Padding vertical"
    },
    "item_padding_vertical_mobile": {
      "type": "text",
      "default": "6",
      "label": "Padding vertical - mobile",
      "description": "Padding vertical - mobile"
    },
    "item_padding_horizontal": {
      "type": "text",
      "default": "12",
      "label": "Padding horizontal",
      "description": "Padding horizontal"
    },
    "item_padding_horizontal_mobile": {
      "type": "text",
      "default": "12",
      "label": "Padding horizontal - mobile",
      "description": "Padding horizontal - mobile"
    },
    "item_gap": {
      "type": "text",
      "default": "6",
      "label": "Gap",
      "description": "Gap"
    },
    "item_gap_mobile": {
      "type": "text",
      "default": "6",
      "label": "Gap - mobile",
      "description": "Gap - mobile"
    },
    "item_radius": {
      "type": "text",
      "default": "100",
      "label": "Roundness",
      "description": "Roundness"
    },
    "item_border_thickness": {
      "type": "text",
      "default": "1",
      "label": "Border thickness",
      "description": "Border thickness"
    },
    "use_icon": {
      "type": "text",
      "default": "true",
      "label": "Use icon",
      "description": "Use icon"
    },
    "icon_size": {
      "type": "text",
      "default": "16",
      "label": "Size",
      "description": "Size"
    },
    "icon_size_mobile": {
      "type": "text",
      "default": "16",
      "label": "Size - mobile",
      "description": "Size - mobile"
    },
    "text_custom": {
      "type": "text",
      "default": "false",
      "label": "Use custom font",
      "description": "Use custom font"
    },
    "text_font": {
      "type": "text",
      "default": "josefin_sans_n4",
      "label": "Font family",
      "description": "Font family"
    },
    "text_size": {
      "type": "text",
      "default": "14",
      "label": "Font size",
      "description": "Font size"
    },
    "text_size_mobile": {
      "type": "text",
      "default": "14",
      "label": "Font size - mobile",
      "description": "Font size - mobile"
    },
    "text_height": {
      "type": "text",
      "default": "100",
      "label": "Line height",
      "description": "Line height"
    },
    "icon_color": {
      "type": "color",
      "default": "#000000",
      "label": "Icon",
      "description": "Icon"
    },
    "icon_color_hover": {
      "type": "color",
      "default": "#ababab",
      "label": "Icon hover",
      "description": "Icon hover"
    },
    "text_color": {
      "type": "color",
      "default": "#000000",
      "label": "Text",
      "description": "Text"
    },
    "text_color_hover": {
      "type": "color",
      "default": "#ababab",
      "label": "Text hover",
      "description": "Text hover"
    },
    "item_border_color": {
      "type": "color",
      "default": "#000000",
      "label": "Border",
      "description": "Border"
    },
    "item_border_color_hover": {
      "type": "color",
      "default": "#ababab",
      "label": "Border hover",
      "description": "Border hover"
    },
    "heading_color": {
      "type": "color",
      "default": "#000000",
      "label": "Heading",
      "description": "Heading"
    },
    "background_color": {
      "type": "color",
      "default": "",
      "label": "Section background",
      "description": "Section background"
    },
    "background_gradient": {
      "type": "color",
      "default": "",
      "label": "Section background gradient",
      "description": "Section background gradient"
    },
    "border_color": {
      "type": "color",
      "default": "#000000",
      "label": "Border",
      "description": "Border"
    },
    "margin_top": {
      "type": "text",
      "default": "0",
      "label": "Margin top",
      "description": "Margin top"
    },
    "margin_bottom": {
      "type": "text",
      "default": "0",
      "label": "Margin bottom",
      "description": "Margin bottom"
    },
    "padding_top": {
      "type": "text",
      "default": "0",
      "label": "Padding top",
      "description": "Padding top"
    },
    "padding_bottom": {
      "type": "text",
      "default": "0",
      "label": "Padding bottom",
      "description": "Padding bottom"
    },
    "padding_horizontal": {
      "type": "text",
      "default": "0",
      "label": "Padding sides",
      "description": "Padding sides"
    },
    "padding_horizontal_mobile": {
      "type": "text",
      "default": "0",
      "label": "Padding sides - mobile",
      "description": "Padding sides - mobile"
    },
    "border_thickness": {
      "type": "text",
      "default": "0",
      "label": "Border thickness",
      "description": "Border thickness"
    }
  }
}