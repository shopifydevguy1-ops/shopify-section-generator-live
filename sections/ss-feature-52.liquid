{% comment %}
---------------------------------------------------------
Copyright © 2025 Section Store. All rights reserved.
Unauthorized copying, modification, distribution, or use
of this code or any portion of it, is strictly prohibited.
Violators will be prosecuted to the fullest extent of the law.
For inquiries or permissions, contact daniel@section.store
---------------------------------------------------------
{% endcomment %}

{%- liquid 
  assign padding_horizontal = section.settings.padding_horizontal
  assign padding_horizontal_mobile = section.settings.padding_horizontal_mobile
  assign padding_top = section.settings.padding_top
  assign padding_bottom = section.settings.padding_bottom
  assign border_color = section.settings.border_color
  assign border_thickness = section.settings.border_thickness
  assign margin_top = section.settings.margin_top
  assign margin_bottom = section.settings.margin_bottom
  assign margin_horizontal_mobile = section.settings.margin_horizontal_mobile
  assign margin_horizontal = section.settings.margin_horizontal
  assign background_color = section.settings.background_color
  assign background_gradient = section.settings.background_gradient
  assign width = section.settings.width
  assign content_width = section.settings.content_width
  assign lazy = section.settings.lazy
  assign section_radius = section.settings.section_radius
  assign background_style = section.settings.background_style

  assign layout = section.settings.layout
  assign layout_mobile = section.settings.layout_mobile
  assign layout_gap = section.settings.layout_gap
  assign layout_gap_mobile = section.settings.layout_gap_mobile

  assign image = section.settings.image
  assign image_width = section.settings.image_width
  assign image_radius = section.settings.image_radius
  assign image_border_thickness = section.settings.image_border_thickness
  assign image_border_color = section.settings.image_border_color
  assign image_ratio_mobile = section.settings.image_ratio_mobile
  assign image_ratio = section.settings.image_ratio

  assign content_align = section.settings.content_align
  assign content_align_mobile = section.settings.content_align_mobile
  assign content_vertical_align = section.settings.content_vertical_align

  assign content_horizontal_align = ""
  if content_align == "center"
    assign content_horizontal_align = "center"
  elsif content_align == "right"
    assign content_horizontal_align = "end"
  else
    assign content_horizontal_align = "start"
  endif

  assign content_horizontal_align_mobile = ""
  if content_align_mobile == "center"
    assign content_horizontal_align_mobile = "center"
  elsif content_align_mobile == "right"
    assign content_horizontal_align_mobile = "end"
  else
    assign content_horizontal_align_mobile = "start"
  endif

  assign feature_accordion_mt = section.settings.feature_accordion_mt
  assign feature_accordion_mt_mobile = section.settings.feature_accordion_mt_mobile
  assign feature_accordion_gap = section.settings.feature_accordion_gap
  assign feature_accordion_gap_mobile = section.settings.feature_accordion_gap_mobile
  assign feature_accordion_width = section.settings.feature_accordion_width

  assign feature_item_padding = section.settings.feature_item_padding
  assign feature_item_padding_mobile = section.settings.feature_item_padding_mobile
  assign feature_item_bg_color = section.settings.feature_item_bg_color
  assign feature_item_border_radius = section.settings.feature_item_border_radius
  assign feature_item_border_thickness = section.settings.feature_item_border_thickness
  assign feature_item_border_color = section.settings.feature_item_border_color

  assign feature_heading_custom = section.settings.feature_heading_custom
  assign feature_heading_font = section.settings.feature_heading_font
  assign feature_heading_size = section.settings.feature_heading_size
  assign feature_heading_size_mobile = section.settings.feature_heading_size_mobile
  assign feature_heading_height = section.settings.feature_heading_height
  assign feature_heading_color = section.settings.feature_heading_color

  assign feature_text_custom = section.settings.feature_text_custom
  assign feature_text_font = section.settings.feature_text_font
  assign feature_text_size = section.settings.feature_text_size
  assign feature_text_size_mobile = section.settings.feature_text_size_mobile
  assign feature_text_height = section.settings.feature_text_height
  assign feature_text_color = section.settings.feature_text_color

  assign progress_bar_margin = section.settings.progress_bar_margin
  assign progress_bar_margin_mobile = section.settings.progress_bar_margin_mobile
  assign progress_bar_height = section.settings.progress_bar_height
  assign progress_bar_bg = section.settings.progress_bar_bg

  assign controls_mt = section.settings.controls_mt
  assign controls_mt_mobile = section.settings.controls_mt_mobile
  assign controls_gap = section.settings.controls_gap
  assign controls_gap_mobile = section.settings.controls_gap_mobile

  assign arrow_size = section.settings.arrow_size
  assign arrow_size_mobile = section.settings.arrow_size_mobile
  assign arrow_icon_size = section.settings.arrow_icon_size
  assign arrow_icon_size_mobile = section.settings.arrow_icon_size_mobile
  assign arrow_color = section.settings.arrow_color
  assign arrow_hover_color = section.settings.arrow_hover_color
  assign arrow_bg_color = section.settings.arrow_bg_color
  assign arrow_bg_hover_color = section.settings.arrow_bg_hover_color
  assign arrow_radius = section.settings.arrow_radius
  assign arrow_border_thickness = section.settings.arrow_border_thickness
  assign arrow_border_color = section.settings.arrow_border_color
  assign arrow_border_hover_color = section.settings.arrow_border_hover_color
  assign arrow_show_desktop = section.settings.arrow_show_desktop
  assign arrow_show_mobile = section.settings.arrow_show_mobile
  assign arrow_hover_effect = section.settings.arrow_hover_effect

  assign controls_text_custom = section.settings.controls_text_custom
  assign controls_text_font = section.settings.controls_text_font
  assign controls_text_size = section.settings.controls_text_size
  assign controls_text_size_mobile = section.settings.controls_text_size_mobile
  assign controls_text_height = section.settings.controls_text_height
  assign controls_text_color = section.settings.controls_text_color

-%}

{%- style -%}

  .section-{{ section.id }} {
    border-top: solid {{ border_color }} {{ border_thickness }}px;
    border-bottom: solid {{ border_color }} {{ border_thickness }}px;
    margin-top: {{ margin_top | times: 0.75 | round: 0 }}px;
    margin-bottom: {{ margin_bottom | times: 0.75 | round: 0 }}px;
    margin-left: {{ margin_horizontal_mobile }}rem;
    margin-right: {{ margin_horizontal_mobile }}rem;
    border-radius: {{ section_radius | times: 0.6 | round: 0 }}px;
    overflow: hidden;
  }
  
  .section-{{ section.id }}-settings {
    margin: 0 auto;
    padding-top: {{ padding_top | times: 0.75 | round: 0 }}px;
    padding-bottom: {{ padding_bottom | times: 0.75 | round: 0 }}px;
    padding-left: {{ padding_horizontal_mobile }}rem;
    padding-right: {{ padding_horizontal_mobile }}rem;
  }

  .feature-body-{{ section.id }} {
    position: relative;
    display: grid;
    align-items: center;
    grid-template-columns: 1fr;
    gap: {{ layout_gap_mobile }}px;
    height: 100%;
  }

  .feature-content-{{ section.id }} {
    grid-area: content;
    display: flex;
    flex-direction: column;
    position: relative;
    justify-content: {{ content_vertical_align }};
    align-items: {{ content_horizontal_align_mobile }};   
    overflow: hidden;
    height: 100%;
  }

  .feature-image-{{ section.id }} {
    grid-area: image;
    border: {{ image_border_thickness }}px solid {{ image_border_color }};
    border-radius: {{ image_radius }}px;
    overflow: hidden;
  }

  .feature-image-{{ section.id }} img,
  .feature-image-{{ section.id }} svg {
    display: block;
    width: 100%;
    height: 100%;
    object-fit:cover;
  }

  .feature-image-{{ section.id }} svg {
    background-color: #AFAFAF;
  }

  .feature-accordion-{{ section.id }} {
    margin: 0;
    padding: 0;
    list-style-type: none;
    display: flex;
    flex-direction: column;
    width: 100%;
    margin-top: {{ feature_accordion_mt_mobile }}px;
    gap: {{ feature_accordion_gap_mobile }}px;
  }

  .feature-item-{{ section.id }} {
    overflow: hidden;
    padding: {{ feature_item_padding_mobile }}px;
    border-radius: {{ feature_item_border_radius }}px;
    border: {{ feature_item_border_thickness }}px solid {{ feature_item_border_color }};
    background-color: {{ feature_item_bg_color }};
  }

  .feature-accordion-heading-{{ section.id }} {
    cursor: pointer;
    text-align: left;
    opacity: .3;
  }

  .feature-accordion-heading-{{ section.id }} * {
    margin: 0;
    font-size: {{ feature_heading_size_mobile }}px;
    color: {{ feature_heading_color }};
    line-height: {{ feature_heading_height }}%;
    text-transform: unset;
    text-decoration: none;
    word-break: break-word;
  }

  .feature-collapsible-{{ section.id }} {
    height: 0;
    transition: height .3s ease;
    overflow: hidden;
  }

  .feature-accordion-progress-bar-{{ section.id }} {
    width: 100%;
    margin: {{ progress_bar_margin_mobile }}px 0;
    height: {{ progress_bar_height }}px;
    position: relative;
  }
  
  .feature-progress-bar-background-{{ section.id }} {
    display: block !important;
    opacity: .1;
    background-color: {{ progress_bar_bg }};
    width: 100%;
    height: 100%;
    position: absolute;
    top: 0;
    left: 0;
  }

  .feature-progress-bar-progress-{{ section.id }} {
    display: block !important;
    background-color: {{ progress_bar_bg }};
    width: 0%;
    height: {{ progress_bar_height }}px;
  }

  .feature-accordion-text-{{ section.id }} * {
    margin: 0;
    font-size: {{ feature_text_size_mobile }}px;
    color: {{ feature_text_color }};
    line-height: {{ feature_text_height }}%;
    text-transform: unset;
    text-decoration: none;
    word-break: break-word;
  }

  .feature-accordion-controls-{{ section.id }} {
    align-items: center;
    display: flex;
    margin-top: {{ controls_mt_mobile }}px;
    gap: {{ controls_gap_mobile }}px;
  }

  .feature-accordion-navigation-arrows-{{ section.id }} {
    display: flex;
    gap: 5px;
  }

  .feature-accordion-btn-prev-{{ section.id }},
  .feature-accordion-btn-next-{{ section.id }},
  .feature-accordion-pause-play-btn-{{ section.id }} {
    display: flex;
    flex-shrink: 0;
    width: {{ arrow_size_mobile }}px;
    height: {{ arrow_size_mobile }}px;
    border: {{ arrow_border_thickness }}px solid {{ arrow_border_color }};
    border-radius: {{ arrow_radius }}px;
    background: transparent;
    background: {{ arrow_bg_color }};
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease 0s;
    cursor: pointer;
    -webkit-appearance: none;
  }

  .feature-accordion-btn-prev-{{ section.id }} {
    left: 5%;
  }

  .feature-accordion-btn-next-{{ section.id }} {
    right: 5%;
  }

  .feature-accordion-btn-prev-{{ section.id }} .animate-icon,
  .feature-accordion-btn-next-{{ section.id }} .animate-icon {
    pointer-events: none;
    place-items: center;
    display: grid;
  }

  .feature-accordion-btn-prev-{{ section.id }} .animate-icon:before,
  .feature-accordion-btn-next-{{ section.id }} .animate-icon:before {
    content: "";
    grid-area: 1 / -1;
    transition: all .2s ease;
    width: {{ arrow_icon_size_mobile }}px;
    height: {{ arrow_icon_size_mobile }}px;
    transform: rotate(calc(1 * 45deg));
    box-sizing: border-box;
    border-style: solid;
    border: 0px;
    border-right: 2px solid currentColor;
    border-top: 2px solid currentColor;
    position: relative;
    left: -1px;
  }

  .feature-accordion-btn-prev-{{ section.id }} .animate-icon:before {
    left: unset;
    right: -1px;
    border-right: 0px;
    border-top: 0px;
    border-bottom: 2px solid currentColor;
    border-left: 2px solid currentColor;
  }

  .feature-accordion-btn-prev-{{ section.id }} .animate-icon:after,
  .feature-accordion-btn-next-{{ section.id }} .animate-icon:after {
    content: "";
    grid-area: 1 / -1;
    transition: all .2s ease;
    width: {{ arrow_icon_size_mobile | minus: 0.3 }}px;
    height: 1.6px;
    transform-origin: center;
    opacity: 0;
    background: currentColor;
    transform: scaleX(.5);
  }

  .feature-accordion-btn-prev-{{ section.id }} span,
  .feature-accordion-btn-next-{{ section.id }} span {
    color: {{ arrow_color }};
  }

  .feature-accordion-btn-prev-{{ section.id }}.btn-disabled,
  .feature-accordion-btn-next-{{ section.id }}.btn-disabled {
    opacity: .3;
  }

  .feature-accordion-pause-play-btn-{{ section.id }} {
    position: relative;
  }

  .feature-accordion-pause-icon-{{ section.id }} {
    position: absolute;
    transform: translate(-50%, -50%);
    top: 52%;
    left: 50%;
  }

  .feature-accordion-pause-icon-{{ section.id }} svg {
    width: 100%;
    color: {{ arrow_color }};
  }

  .feature-accordion-pause-icon-{{ section.id }} .pause {
    opacity: 0;
  }

  .feature-accordion-counter-{{ section.id }} {
    font-size: {{ controls_text_size_mobile }}px;
    color: {{ controls_text_color }};
    line-height: {{ controls_text_height }}%;
    text-transform: unset;
    text-decoration: none;
    word-break: break-word;
  }

  @media(min-width: 1024px) {

    .section-{{ section.id }} {
      margin-top: {{ margin_top }}px;
      margin-bottom: {{ margin_bottom }}px;
      margin-left: {{ margin_horizontal }}rem;
      margin-right: {{ margin_horizontal }}rem;
      border-radius: {{ section_radius }}px;
    }
    
    .section-{{ section.id }}-settings {
      padding: 0 5rem;
      padding-top: {{ padding_top }}px;
      padding-bottom: {{ padding_bottom }}px;
      padding-left: {{ padding_horizontal }}rem;
      padding-right: {{ padding_horizontal }}rem;
    }

    .feature-body-{{ section.id }} {
      gap: {{ layout_gap }}px;
    }

    .feature-content-{{ section.id }} {
      align-items: {{ content_horizontal_align }};
    }

    .feature-accordion-{{ section.id }} {
      margin-top: {{ feature_accordion_mt }}px;
      gap: {{ feature_accordion_gap }}px;
      max-width: {{ feature_accordion_width }}%;
    }

    .feature-item-{{ section.id }} {
      padding: {{ feature_item_padding }}px;
    }

    .feature-accordion-heading-{{ section.id }} * {
      font-size: {{ feature_heading_size }}px;
    }

    .feature-accordion-text-{{ section.id }} * {
      font-size: {{ feature_text_size }}px;
    }

    .feature-accordion-progress-bar-{{ section.id }} {
      margin: {{ progress_bar_margin }}px 0;
    }

    .feature-accordion-controls-{{ section.id }} {
      margin-top: {{ controls_mt }}px;
      gap: {{ controls_gap }}px;
    }

    .feature-accordion-btn-prev-{{ section.id }},
    .feature-accordion-btn-next-{{ section.id }},
    .feature-accordion-pause-play-btn-{{ section.id }} {
      width: {{ arrow_size }}px;
      height: {{ arrow_size }}px;
      transition: all 0.25s ease 0s;
    }

    .feature-accordion-btn-prev-{{ section.id }} .animate-icon:before,
    .feature-accordion-btn-next-{{ section.id }} .animate-icon:before {
      width: {{ arrow_icon_size }}px;
      height: {{ arrow_icon_size }}px;
    }

    .feature-accordion-btn-prev-{{ section.id }} .animate-icon:after,
    .feature-accordion-btn-next-{{ section.id }} .animate-icon:after {
      width: {{ arrow_icon_size | minus: 0.3 }}px;
    }

    .feature-accordion-counter-{{ section.id }} {
      font-size: {{ controls_text_size }}px;
    }
  }
  
{%- endstyle -%}

{% if width == 'custom' %}
  <style>
    .section-{{ section.id }}-settings {
      max-width: {{ content_width }}px;
    }
  </style>
{% elsif width == 'page' %}
  <style>
    .section-{{ section.id }}-settings {
      max-width: clamp(100px, var(--page-content-width, var(--page-width)), 100%);
    }
  </style>
{% endif %}

{% if margin_horizontal_mobile > 0 %}
  <style>
    .section-{{ section.id }} {
      border-left: solid {{ border_color }} {{ border_thickness }}px;
      border-right: solid {{ border_color }} {{ border_thickness }}px;
    }
    
    @media(min-width: 1024px) {
      .section-{{ section.id }} {
        border-left: 0px;
        border-right: 0px;
      }
    }
  </style>
{% endif %}

{% if margin_horizontal > 0 %}
  <style>
    @media(min-width: 1024px) {
      .section-{{ section.id }} {
        border-left: solid {{ border_color }} {{ border_thickness }}px;
        border-right: solid {{ border_color }} {{ border_thickness }}px;
      }
    }
  </style>
{% endif %}

{% if feature_heading_custom %}
  <style>
    {{ feature_heading_font | font_face: font_display: 'swap' }}

    .feature-accordion-heading-{{ section.id }} * {
      font-family: {{ feature_heading_font.family }}, {{ feature_heading_font.fallback_families }};
      font-weight: {{ feature_heading_font.weight }};
      font-style: {{ feature_heading_font.style }};
    }
  </style>
{% endif %}

{% if feature_text_custom %}
  <style>
    {{ feature_text_font | font_face: font_display: 'swap' }}

    .feature-accordion-text-{{ section.id }} *  {
      font-family: {{ feature_text_font.family }}, {{ feature_text_font.fallback_families }};
      font-weight: {{ feature_text_font.weight }};
      font-style: {{ feature_text_font.style }};
    }
  </style>
{% endif %}

{% if controls_text_custom %}
  <style>
    {{ controls_text_font | font_face: font_display: 'swap' }}

    .feature-accordion-counter-{{ section.id }} {
      font-family: {{ controls_text_font.family }}, {{ controls_text_font.fallback_families }};
      font-weight: {{ controls_text_font.weight }};
      font-style: {{ controls_text_font.style }};
    }
  </style>
{% endif %}

{% if layout_mobile == 'content_image'%}
  <style>
    .feature-body-{{ section.id }} {
      grid-template-areas: 
        "content"
        "image";     
    }
  </style>
{% elsif layout_mobile == 'image_content' %}
  <style>
    .feature-body-{{ section.id }} {
      grid-template-areas: 
        "image"
        "content";     
    }
  </style>
{% endif %}

{% if layout == 'content_image' %}
  <style>
    @media(min-width: 1024px) {
      .feature-body-{{ section.id }} {
        grid-template-areas: "content image"; 
        grid-template-columns: auto {{ image_width }}%;
      }
    }
  </style>
{% elsif layout == 'image_content' %}
  <style>
    @media(min-width: 1024px) {
      .feature-body-{{ section.id }} {
        grid-template-areas: "image content";  
        grid-template-columns: {{ image_width }}% auto;
      }
    }
  </style>
{% endif %}

{% if image_ratio_mobile == "portrait" %}
  <style>
    .feature-image-{{ section.id }} {
      aspect-ratio: 9.6/12; 
    }
  </style>
{% elsif image_ratio_mobile == "landscape" %}
  <style>
    .feature-image-{{ section.id }}{
      aspect-ratio: 12/9; 
    }
  </style>
{% elsif image_ratio_mobile == "square" %}
  <style>
    .feature-image-{{ section.id }} {
      aspect-ratio: 12/12; 
    }
  </style>
{% else %}
  <style>
    .feature-image-{{ section.id }} {
      aspect-ratio: auto; 
    }
  </style>
{% endif %}

{% if image_ratio == "portrait" %}
  <style>
    @media(min-width: 1024px) {
     .feature-image-{{ section.id }} {
        aspect-ratio: 9.6/12; 
      }
    }
  </style>
{% elsif image_ratio == "landscape" %}
  <style>
    @media(min-width: 1024px) {
    .feature-image-{{ section.id }}{
        aspect-ratio: 12/9; 
      }
    }
  </style>
{% elsif image_ratio == "square" %}
  <style>
    @media(min-width: 1024px) {
      .feature-image-{{ section.id }} {
        aspect-ratio: 12/12; 
      }
    }
  </style>
{% else %}
  <style>
    @media(min-width: 1024px) {
      .feature-image-{{ section.id }} {
        aspect-ratio: auto;
      }
    }
  </style>
{% endif %}

{% if arrow_hover_effect == "color" %}
  <style>
    .feature-accordion-btn-prev-{{ section.id }}:hover,
    .feature-accordion-btn-next-{{ section.id }}:hover {
      transition: all 0.3s ease 0s;
      border: {{ arrow_border_thickness }}px solid {{ arrow_border_hover_color }};
      background: {{ arrow_bg_hover_color }};
    }
  
    .feature-accordion-btn-prev-{{ section.id }}:hover .animate-icon,
    .feature-accordion-btn-next-{{ section.id }}:hover .animate-icon {
      color: {{ arrow_hover_color }};
    }
  </style>
{% elsif arrow_hover_effect == "scale" %}
  <style>
    .feature-accordion-btn-prev-{{ section.id }}:hover,
    .feature-accordion-btn-next-{{ section.id }}:hover {
      transform: scale(0.9);
    }

    @media(min-width: 1024px) {
      .feature-accordion-btn-prev-{{ section.id }}:hover,
      .feature-accordion-btn-next-{{ section.id }}:hover {
        transform: scale(0.9);
      }
    }
  </style>
{% elsif arrow_hover_effect == "arrow" %}
  <style>
    .feature-accordion-btn-next-{{ section.id }}:hover .animate-icon:before {
      transform: translate(calc(1 * 0.125rem)) rotate(calc(1 * 45deg));
    }
  
    .feature-accordion-btn-prev-{{ section.id }}:hover .animate-icon:before {
      transform: translate(calc(-1 * 0.125rem)) rotate(calc(1 * 45deg));
    }
    
    .feature-accordion-btn-prev-{{ section.id }}:hover .animate-icon:after,
    .feature-accordion-btn-next-{{ section.id }}:hover .animate-icon:after {
      opacity: 1;
      transform: scaleX(1);
    }
  </style>
{% endif %}
{% if arrow_show_mobile %}
  <style>
    .feature-accordion-btn-prev-{{ section.id }},
    .feature-accordion-btn-next-{{ section.id }} {
      display: flex;
    }
  </style>
{% else %}
  <style>
    .feature-accordion-btn-prev-{{ section.id }},
    .feature-accordion-btn-next-{{ section.id }}  {
      display: none;
    }
  </style>
{% endif %}

{% if arrow_show_desktop %}
  <style>
    @media(min-width: 1024px) {
      .feature-accordion-btn-prev-{{ section.id }},
      .feature-accordion-btn-next-{{ section.id }}  {
        display: flex;
      }
    }
  </style>
{% else %}
  <style>
    @media(min-width: 1024px) {
      .feature-accordion-btn-prev-{{ section.id }},
      .feature-accordion-btn-next-{{ section.id }}  {
        display: none;
      }
    }
  </style>
{% endif %}

{% for block in section.blocks %}
  {% case block.type %}
    {% when 'heading' %}  
    <style>
      .feature-heading-{{ block.id }} {
        margin-top: {{ block.settings.heading_mt_mobile }}px;
        text-align: {{ content_horizontal_align_mobile }};
      }
    
      .feature-heading-{{ block.id }} * {
        margin: 0;
        font-size: {{ block.settings.heading_size_mobile }}px;
        color: {{ block.settings.heading_color }};
        line-height: {{ block.settings.heading_height }}%;
        text-transform: unset;
        text-decoration: none;
        word-break: break-word;
        font-weight: 700;
      }

      .feature-heading-{{ block.id }} * strong {
        text-decoration: underline {{ block.settings.heading_border_color }};
      }

      @media(min-width: 1024px) {
        
        .feature-heading-{{ block.id }} {
          margin-top: {{ block.settings.heading_mt }}px;
          text-align: {{ content_horizontal_align }};
        }
      
        .feature-heading-{{ block.id }} * {
          font-size: {{ block.settings.heading_size }}px;
        }
      }          
    </style>
      
    {% if block.settings.heading_custom %}
      <style>
        {{ block.settings.heading_font | font_face: font_display: 'swap' }}

        .feature-heading-{{ block.id }} * {
          font-family: {{ block.settings.heading_font.family }}, {{ block.settings.heading_font.fallback_families }};
          font-weight: {{ block.settings.heading_font.weight }};
          font-style: {{ block.settings.heading_font.style }};
        }
      </style>
    {% endif %}
  {% endcase %}
{% endfor %}

<div class="section-{{ section.id }} feature-{{ section.id }}" {% if background_style == 'solid' %}style="background-color:{{ background_color }};"{% else %} style="background-image: {{ background_gradient }};"{% endif %}>
    <div class="section-{{ section.id }}-settings"> 
      <div class="feature-body-{{ section.id }}">
        <div class="feature-content-{{ section.id }}">
          {% for block in section.blocks %}
            {% case block.type %}
              {% when 'heading'%}
              {% if block.settings.heading != blank %}
                <div class="feature-heading-{{ block.id }}">
                  {{ block.settings.heading }}
                </div>
              {% endif %}
            {% endcase %}
          {% endfor %}
          <ul class="feature-accordion-{{ section.id }}">
            {% for block in section.blocks %}
              {% case block.type %}
              {% when 'feature'%}
                <li class="feature-item-{{ section.id }}">
                  {% if block.settings.heading != blank %}
                    <div class="feature-accordion-heading-{{ section.id }}">
                      {{ block.settings.heading }}
                    </div>
                  {% endif %}
                  {% if block.settings.text != blank %}
                    <div class="feature-collapsible-{{ section.id }}">
                      <div class="feature-accordion-progress-bar-{{ section.id }}">
                        <div class="feature-progress-bar-background-{{ section.id }}"></div>
                        <div class="js-bar-progress feature-progress-bar-progress-{{ section.id }}"></div>
                      </div>
                      <div class="feature-accordion-text-{{ section.id }}">
                        {{ block.settings.text }}
                      </div>
                    </div>
                  {% endif %}
                </li>
              {% endcase %}
            {% endfor %}
          </ul>
          <div class="feature-accordion-controls-{{ section.id }}">
            <button class="feature-accordion-pause-play-btn-{{ section.id }}">
              <div class="feature-accordion-pause-icon-{{ section.id }}">
                <svg xmlns="http://www.w3.org/2000/svg" class="play" viewBox="0 0 24 24" fill="none">
                  <path d="M9 18.0005H8V6.00049H9V18.0005Z" fill="currentColor"></path>
                  <path d="M16 18.0005H15V6.00049H16V18.0005Z" fill="currentColor"></path>
                </svg>
              </div>
              <div class="feature-accordion-pause-icon-{{ section.id }}">
                <svg xmlns="http://www.w3.org/2000/svg" class="pause" viewBox="0 0 24 24" fill="none">
                  <path d="M7 18.5128V5.43163C7 4.62636 7.9032 4.15136 8.56669 4.60769L17.8325 10.9806C18.4018 11.3721 18.4119 12.2093 17.8522 12.6145L8.58643 19.3228C7.92522 19.8015 7 19.3291 7 18.5128Z" fill="currentColor"></path>
                </svg>
              </div>
            </button>          
            <div class="feature-accordion-navigation-arrows-{{ section.id }}">
              <button class="feature-accordion-btn-prev-{{ section.id }}">
                <span class="animate-icon"></span>
              </button>
              <button class="feature-accordion-btn-next-{{ section.id }}">
                <span class="animate-icon"></span>
              </button>
            </div>
            <div class="feature-accordion-counter-{{ section.id }}">
              <span class="feature-accordion-current-index-{{ section.id }}">3</span>/3
            </div>
          </div>
        </div>
        <div class="feature-image-{{ section.id }}">
        {% if image != blank %}           
          {%- capture sizes -%}(min-width: {{ content_width }}px) {{ content_width | minus: 100 | divided_by: 2 }}px, (min-width: 750px) calc((100vw - 130px) / 2), calc((100vw - 50px) / 2){%- endcapture -%}
            {{ image | image_url: width: 1000 | image_tag:
              loading: 'lazy',
              sizes: sizes,
              widths: '750, 1070, 1500'
            }}    
        {% else %}
          {{ 'image' | placeholder_svg_tag }}
        {% endif %}
      </div>
      </div>
    </div>
</div>

<script>
  function initFeature() {
    const items = document.querySelectorAll('.feature-item-{{ section.id }}');
    const playPauseBtn = document.querySelector('.feature-accordion-pause-play-btn-{{ section.id }}');
    const currentIndexEl = document.querySelector(`.feature-accordion-current-index-{{ section.id }}`);
    const prevBtn = document.querySelector('.feature-accordion-btn-prev-{{ section.id }}');
    const nextBtn = document.querySelector('.feature-accordion-btn-next-{{ section.id }}');

    if (items.length === 0) return;
  
    let currentIndex = 0;
    let isPlaying = true;
    let progressInterval = null;
    let progressDuration = {{ section.settings.feature_accordion_animate_duration }} * 1000;

    const itemsData = Array.from(items).map(item => ({
      item: item,
      heading: item.querySelector('.feature-accordion-heading-{{ section.id }}'),
      collapsible: item.querySelector('.feature-collapsible-{{ section.id }}'),
      progressBar: item.querySelector('.feature-progress-bar-progress-{{ section.id }}')
    }));

    const playIcon = playPauseBtn?.querySelector('.play');
    const pauseIcon = playPauseBtn?.querySelector('.pause');

    if (playIcon) {
      playIcon.style.opacity = '0';
    }
    if (pauseIcon) {
      pauseIcon.style.opacity = '1';
    }

    itemsData.forEach(data => {
      if (data.collapsible) {
        data.collapsible.style.height = '0';
      }
      if (data.progressBar) {
        data.progressBar.style.width = '0';
      }
    });

    function updateNavButtons() {
      if (prevBtn) {
        if (currentIndex === 0) {
          prevBtn.classList.add('btn-disabled');
        } else {
          prevBtn.classList.remove('btn-disabled');
        }
      }
      
      if (nextBtn) {
        if (currentIndex === items.length - 1) {
          nextBtn.classList.add('btn-disabled');
        } else {
          nextBtn.classList.remove('btn-disabled');
        }
      }
    }

    function updatePlayPauseIcon() {
      if (!playIcon || !pauseIcon) return;
      
      if (isPlaying) {
        playIcon.style.opacity = '1';
        pauseIcon.style.opacity = '0';
      } else {
        playIcon.style.opacity = '0';
        pauseIcon.style.opacity = '1';
      }
    }

    function activateItem(index) {
    if (progressInterval) {
      clearInterval(progressInterval);
    }
    
    itemsData.forEach(data => {
      if (data.collapsible) {
        data.collapsible.style.height = '0';
      }
      if (data.progressBar) {
        data.progressBar.style.width = '0';
        data.progressBar.style.transition = 'none';
      }
    });
    
    currentIndex = index;
    
    if (currentIndexEl) {
      currentIndexEl.textContent = currentIndex + 1;
    }

    updateNavButtons();
    
    const currentData = itemsData[currentIndex];
    
    if (currentData.collapsible) {
      currentData.collapsible.style.height = currentData.collapsible.scrollHeight + 'px';
    }
    
    if (currentData.progressBar) {
      setTimeout(() => {
        currentData.progressBar.style.transition = `width ${progressDuration}ms linear`;
        currentData.progressBar.style.width = '100%';
      }, 50);
    }
    
    if (isPlaying) {
      progressInterval = setTimeout(() => {
        let nextIndex = currentIndex + 1;
        if (nextIndex >= items.length) {
          nextIndex = 0;
        }
        activateItem(nextIndex);
      }, progressDuration);
    }
  }
  
  if (playPauseBtn) {
    playPauseBtn.addEventListener('click', () => {
      isPlaying = !isPlaying;
      updatePlayPauseIcon();
      
      if (isPlaying) {
        activateItem(currentIndex);
      } else {
        if (progressInterval) {
          clearTimeout(progressInterval);
          progressInterval = null;
        }
        
        const currentData = itemsData[currentIndex];
        if (currentData.progressBar) {
          const computedStyle = window.getComputedStyle(currentData.progressBar);
          const currentWidth = computedStyle.width;
          currentData.progressBar.style.transition = 'none';
          currentData.progressBar.style.width = currentWidth;
        }
      }
    });
  }
  
  itemsData.forEach((data, index) => {
    if (data.heading) {
      data.heading.addEventListener('click', () => {
        if (index !== currentIndex) {
          isPlaying = true;
          updatePlayPauseIcon();
          activateItem(index);
        }
      });
    }
  });
  
  if (prevBtn) {
    prevBtn.addEventListener('click', () => {
      if (currentIndex > 0) {
        isPlaying = true;
        updatePlayPauseIcon();
        activateItem(currentIndex - 1);
      }
    });
  }

  if (nextBtn) {
    nextBtn.addEventListener('click', () => {
      if (currentIndex < items.length - 1) {
        isPlaying = true;
        updatePlayPauseIcon();
        activateItem(currentIndex + 1);
      }
    });
  }
  
  updatePlayPauseIcon();
  activateItem(0);
  }

  document.addEventListener('DOMContentLoaded', initFeature);

  if (Shopify.designMode) {
    document.addEventListener('shopify:section:unload', initFeature);
    document.addEventListener('shopify:section:load', initFeature);
  }
</script>

{% schema %}
  {
    "name": "SS - Feature #52",
    "settings": [
      {
        "type": "paragraph",
        "content": "⚠️ Save to display section correctly"
      },
      {
        "type": "header",
        "content": "Layout"
      },
      {
        "type": "select",
        "id": "layout",
        "label": "Image position",
        "default": "content_image",
        "options": [
          {
            "label": "Left",
            "value": "image_content"
          },
          {
            "label": "Right",
            "value": "content_image"
          }
        ]
      },
      {
        "type": "select",
        "id": "layout_mobile",
        "label": "Image position - mobile",
        "default": "image_content",
        "options": [
          {
            "label": "Top",
            "value": "image_content"
          },
          {
            "label": "Bottom",
            "value": "content_image"
          }
        ]
      },
      {
        "type": "range",
        "id": "image_width",
        "min": 30,
        "max": 70,
        "step": 5,
        "unit": "%",
        "label": "Image width",
        "default": 40
      },      
      {
        "type": "range",
        "id": "layout_gap",
        "min": 0,
        "max": 72,
        "step": 2,
        "unit": "px",
        "label": "Gap",
        "default": 20
      },
      {
        "type": "range",
        "id": "layout_gap_mobile",
        "min": 0,
        "max": 72,
        "step": 2,
        "unit": "px",
        "label": "Gap - mobile",
        "default": 20
      },
      {
        "type": "header",
        "content": "Content"
      },
      {
        "type": "text_alignment",
        "id": "content_align",
        "label": "Alignment"
      },
      {
        "type": "text_alignment",
        "id": "content_align_mobile",
        "label": "Alignment - mobile"
      },
      {
        "type": "select",
        "id": "content_vertical_align",
        "label": "Vertical align - desktop",
        "default": "space-between",
        "options": [
          {
            "label": "Top",
            "value": "start"
          },
          {
            "label": "Center",
            "value": "center"
          },
          {
            "label": "Space between",
            "value": "space-between"
          },
          {
            "label": "Bottom",
            "value": "end"
          }
        ]
      },
      {
        "type": "header",
        "content": "Image"
      },
      {
        "type": "image_picker",
        "id": "image",
        "label": "Image"
      },
      {
        "type": "select",
        "id": "image_ratio",
        "label": "Aspect ratio",
        "default": "portrait",
        "options": [
          {
            "label": "Portrait",
            "value": "portrait"
          },
          {
            "label": "Square",
            "value": "square"
          },
          {
            "label": "Landscape",
            "value": "landscape"
          },
          {
            "label": "Auto",
            "value": "auto"
          }
        ]
      },
      {
        "type": "select",
        "id": "image_ratio_mobile",
        "label": "Aspect ratio - mobile",
        "default": "portrait",
        "options": [
          {
            "label": "Portrait",
            "value": "portrait"
          },
          {
            "label": "Square",
            "value": "square"
          },
          {
            "label": "Landscape",
            "value": "landscape"
          },
          {
            "label": "Auto",
            "value": "auto"
          }
        ]
      }, 
      {
        "type": "range",
        "id": "image_radius",
        "min": 0,
        "max": 100,
        "step": 2,
        "unit": "px",
        "label": "Roundness",
        "default": 16
      },
      {
        "type": "range",
        "id": "image_border_thickness",
        "min": 0,
        "max": 10,
        "step": 1,
        "unit": "px",
        "label": "Border thickness",
        "default": 0
      },
      {
        "type": "header",
        "content": "Feature accordion"
      },
      {
        "type": "range",
        "id": "feature_accordion_mt",
        "min": 0,
        "max": 100,
        "step": 2,
        "unit": "px",
        "label": "Margin top",
        "default": 0,
      },
      {
        "type": "range",
        "id": "feature_accordion_mt_mobile",
        "min": 0,
        "max": 100,
        "step": 2,
        "unit": "px",
        "label": "Margin top - mobile",
        "default": 20,
      },
      {
        "type": "range",
        "id": "feature_accordion_gap",
        "min": 0,
        "max": 100,
        "step": 2,
        "unit": "px",
        "label": "Gap top",
        "default": 30,
      },
      {
        "type": "range",
        "id": "feature_accordion_gap_mobile",
        "min": 0,
        "max": 100,
        "step": 2,
        "unit": "px",
        "label": "Gap top - mobile",
        "default": 30,
      },
      {
        "type": "range",
        "id": "feature_accordion_width",
        "min": 0,
        "max": 100,
        "step": 2,
        "unit": "%",
        "label": "Width - desktop",
        "default": 70,
      },
      {
        "type": "range",
        "id": "feature_accordion_animate_duration",
        "min": 2,
        "max": 50,
        "step": 1,
        "unit": "s",
        "label": "Animate duration",
        "default": 5,
      },
      {
        "type": "header",
        "content": "Feature item"
      },
      {
        "type": "range",
        "id": "feature_item_padding",
        "min": 0,
        "max": 100,
        "step": 2,
        "unit": "px",
        "label": "Padding",
        "default": 0,
      },
      {
        "type": "range",
        "id": "feature_item_padding_mobile",
        "min": 0,
        "max": 100,
        "step": 2,
        "unit": "px",
        "label": "Padding top - mobile",
        "default": 0,
      },
      {
        "type": "range",
        "id": "feature_item_border_radius",
        "min": 0,
        "max": 100,
        "step": 2,
        "unit": "px",
        "label": "Roundness",
        "default": 0
      },
      {
        "type": "range",
        "id": "feature_item_border_thickness",
        "min": 0,
        "max": 50,
        "step": 1,
        "unit": "px",
        "label": "Border thickness",
        "default": 0
      },
      {
        "type": "header",
        "content": "Feature heading"
      },
      {
        "type": "checkbox",
        "id": "feature_heading_custom",
        "label": "Use custom font",
        "default": false
      },
      {
        "type": "font_picker",
        "id": "feature_heading_font",
        "label": "Font family",
        "default": "josefin_sans_n4",
        "visible_if": "{{ section.settings.feature_heading_custom }}"
      },
      {
        "type": "range",
        "id": "feature_heading_size",
        "min": 0,
        "max": 50,
        "step": 2,
        "unit": "px",
        "label": "Font size",
        "default": 20,
      },
      {
        "type": "range",
        "id": "feature_heading_size_mobile",
        "min": 0,
        "max": 50,
        "step": 2,
        "unit": "px",
        "label": "Font size - mobile",
        "default": 16
      },
      {
        "type": "range",
        "id": "feature_heading_height",
        "min": 50,
        "max": 200,
        "step": 10,
        "unit": "%",
        "label": "Line height",
        "default": 120,
      },
      {
        "type": "header",
        "content": "Feature text"
      },
      {
        "type": "checkbox",
        "id": "feature_text_custom",
        "label": "Use custom font",
        "default": false
      },
      {
        "type": "font_picker",
        "id": "feature_text_font",
        "label": "Font family",
        "default": "josefin_sans_n4",
        "visible_if": "{{ section.settings.feature_text_custom }}"
      },
      {
        "type": "range",
        "id": "feature_text_size",
        "min": 0,
        "max": 50,
        "step": 2,
        "unit": "px",
        "label": "Font size",
        "default": 16,
      },
      {
        "type": "range",
        "id": "feature_text_size_mobile",
        "min": 0,
        "max": 50,
        "step": 2,
        "unit": "px",
        "label": "Font size - mobile",
        "default": 16
      },
      {
        "type": "range",
        "id": "feature_text_height",
        "min": 50,
        "max": 200,
        "step": 10,
        "unit": "%",
        "label": "Line height",
        "default": 120,
      },
      {
        "type": "header",
        "content": "Progress bar"
      },
      {
        "type": "range",
        "id": "progress_bar_margin",
        "min": 0,
        "max": 100,
        "step": 1,
        "unit": "px",
        "label": "Margin",
        "default": 10,
      },
      {
        "type": "range",
        "id": "progress_bar_margin_mobile",
        "min": 0,
        "max": 100,
        "step": 1,
        "unit": "px",
        "label": "Margin - mobile",
        "default": 10,
      },
      {
        "type": "range",
        "id": "progress_bar_height",
        "min": 1,
        "max": 10,
        "step": 1,
        "unit": "px",
        "label": "Height",
        "default": 2,
      },
      {
        "type": "header",
        "content": "Controls",
      },
      {
        "type": "range",
        "id": "controls_mt",
        "min": 0,
        "max": 100,
        "step": 2,
        "unit": "px",
        "label": "Margin top",
        "default": 0,
      },
      {
        "type": "range",
        "id": "controls_mt_mobile",
        "min": 0,
        "max": 100,
        "step": 2,
        "unit": "px",
        "label": "Margin top - mobile",
        "default": 20,
      },
      {
        "type": "range",
        "id": "controls_gap",
        "min": 0,
        "max": 100,
        "step": 2,
        "unit": "px",
        "label": "Gap",
        "default": 20,
      },
      {
        "type": "range",
        "id": "controls_gap_mobile",
        "min": 0,
        "max": 100,
        "step": 2,
        "unit": "px",
        "label": "Gap - mobile",
        "default": 20,
      },
      {
        "type": "header",
        "content": "Arrows",
      },
      {
        "type": "checkbox",
        "id": "arrow_show_desktop",
        "label": "Show on desktop",
        "default": true,
      },
      {
        "type": "checkbox",
        "id": "arrow_show_mobile",
        "label": "Show on mobile",
        "default": true,
      },
      {
        "type": "range",
        "id": "arrow_size",
        "min": 10,
        "max": 100,
        "step": 2,
        "unit": "px",
        "label": "Size",
        "default": 48,
        "visible_if": "{{ section.settings.arrow_show_desktop }}"
      },
      {
        "type": "range",
        "id": "arrow_size_mobile",
        "min": 10,
        "max": 100,
        "step": 2,
        "unit": "px",
        "label": "Size - mobile",
        "default": 48,
        "visible_if": "{{ section.settings.arrow_show_mobile }}"
      },
      {
        "type": "range",
        "id": "arrow_icon_size",
        "min": 5,
        "max": 15,
        "step": 1,
        "unit": "px",
        "label": "Icon size",
        "default": 10,
        "visible_if": "{{ section.settings.arrow_show_desktop }}"
      },
      {
        "type": "range",
        "id": "arrow_icon_size_mobile",
        "min": 5,
        "max": 15,
        "step": 1,
        "unit": "px",
        "label": "Icon size - mobile",
        "default": 10,
        "visible_if": "{{ section.settings.arrow_show_mobile }}"
      },
      {
        "type": "range",
        "id": "arrow_radius",
        "min": 0,
        "max": 100,
        "step": 2,
        "unit": "px",
        "label": "Roundness",
        "default": 100,
        "visible_if": "{{ section.settings.arrow_show_desktop or section.settings.arrow_show_mobile }}"
      },
      {
        "type": "range",
        "id": "arrow_border_thickness",
        "min": 0,
        "max": 10,
        "step": 1,
        "unit": "px",
        "label": "Border thickness",
        "default": 0,
        "visible_if": "{{ section.settings.arrow_show_desktop or section.settings.arrow_show_mobile }}"
      },
      {
        "type": "select",
        "id": "arrow_hover_effect",
        "label": "Hover effect",
        "default": "color",
        "visible_if": "{{ section.settings.arrow_show_desktop or section.settings.arrow_show_mobile }}",
        "options": [
          {
            "label": "Change color",
            "value": "color"
          },
          {
            "label": "Change size",
            "value": "scale"
          },
          {
            "label": "Change arrow",
            "value": "arrow"
          },
          {
            "label": "None",
            "value": "none"
          }
        ]
      },
      {
        "type": "header",
        "content": "Controls text",
      },
      {
        "type": "checkbox",
        "id": "controls_text_custom",
        "label": "Use custom font",
        "default": false
      },
      {
        "type": "font_picker",
        "id": "controls_text_font",
        "label": "Font family",
        "default": "josefin_sans_n4",
        "visible_if": "{{ section.settings.controls_text_custom }}"
      },
      {
        "type": "range",
        "id": "controls_text_size",
        "min": 0,
        "max": 50,
        "step": 2,
        "unit": "px",
        "label": "Font size",
        "default": 16,
      },
      {
        "type": "range",
        "id": "controls_text_size_mobile",
        "min": 0,
        "max": 50,
        "step": 2,
        "unit": "px",
        "label": "Font size - mobile",
        "default": 16
      },
      {
        "type": "range",
        "id": "controls_text_height",
        "min": 50,
        "max": 200,
        "step": 10,
        "unit": "%",
        "label": "Line height",
        "default": 100,
      },
      {
        "type": "header",
        "content": "Feature colors"
      },
      {
        "type": "color",
        "label": "Border",
        "id": "feature_item_border_color",
        "default": "#121212"
      },
      {
        "type": "color",
        "label": "Background",
        "id": "feature_item_bg_color",
        "default": "#FFFFFF"
      },
      {
        "type": "color",
        "label": "Heading",
        "id": "feature_heading_color",
        "default": "#241EC6"
      },
      {
        "type": "color",
        "label": "Text",
        "id": "feature_text_color",
        "default": "#121212"
      },
      {
        "type": "color",
        "label": "Progress bar",
        "id": "progress_bar_bg",
        "default": "#241ec6"
      },
      {
        "type": "header",
        "content": "Arrow colors",
        "visible_if": "{{ section.settings.arrow_show_desktop or section.settings.arrow_show_mobile }}"
      },
      {
        "type": "color",
        "label": "Icon",
        "id": "arrow_color",
        "default": "#121212",
        "visible_if": "{{ section.settings.arrow_show_desktop or section.settings.arrow_show_mobile }}"
      },
      {
        "type": "color",
        "label": "Icon hover",
        "id": "arrow_hover_color",
        "default": "#FFFFFF",
        "visible_if": "{{ section.settings.arrow_hover_effect == 'color' and section.settings.arrow_show_desktop or section.settings.arrow_hover_effect == 'color' and section.settings.arrow_show_mobile }}"
      },
      {
        "type": "color",
        "label": "Background",
        "id": "arrow_bg_color",
        "default": "#FAF2F4",
        "visible_if": "{{ section.settings.arrow_show_desktop or section.settings.arrow_show_mobile }}"
      },
      {
        "type": "color",
        "label": "Background hover",
        "id": "arrow_bg_hover_color",
        "default": "#121212",
        "visible_if": "{{ section.settings.arrow_hover_effect == 'color' and section.settings.arrow_show_desktop or section.settings.arrow_hover_effect == 'color' and section.settings.arrow_show_mobile }}"
      },
      {
        "type": "color",
        "label": "Border",
        "id": "arrow_border_color",
        "default": "#121212",
        "visible_if": "{{ section.settings.arrow_show_desktop or section.settings.arrow_show_mobile }}"
      },
      {
        "type": "color",
        "label": "Border hover",
        "id": "arrow_border_hover_color",
        "default": "#121212",
        "visible_if": "{{ section.settings.arrow_hover_effect == 'color' and section.settings.arrow_show_desktop or section.settings.arrow_hover_effect == 'color' and section.settings.arrow_show_mobile }}"
      },
      {
        "type": "header",
        "content": "Controls text color",
      },
      {
        "type": "color",
        "label": "Color",
        "id": "controls_text_color",
        "default": "#121212"
      },
      {
        "type": "header",
        "content": "Section colors"
      },
      {
        "type": "select",
        "id": "background_style",
        "label": "Background style",
        "default": "solid",
        "options": [
          {
            "label": "Solid",
            "value": "solid"
          },
          {
            "label": "Gradient",
            "value": "gradient"
          }
        ]
      },
      {
        "type": "color",
        "label": "Background",
        "id": "background_color",
        "default": "#FFFFFF",
        "visible_if": "{{ section.settings.background_style == 'solid' }}"
      },
      {
        "type": "color_background",
        "id": "background_gradient",
        "label": "Gradient",
        "default": "linear-gradient(180deg, #FFFFFF 0%, #F2F2F2 100%)",
        "visible_if": "{{ section.settings.background_style == 'gradient' }}"
      },
      {
        "type": "color",
        "label": "Border",
        "id": "border_color",
        "default": "#121212"
      },
      {
        "type": "header",
        "content": "Section margin (outside)"
      },
      {
        "type": "range",
        "id": "margin_top",
        "min": 0,
        "max": 100,
        "step": 4,
        "unit": "px",
        "label": "Top",
        "default": 0
      },
      {
        "type": "range",
        "id": "margin_bottom",
        "min": 0,
        "max": 100,
        "step": 4,
        "unit": "px",
        "label": "Bottom",
        "default": 0
      },
      {
        "type": "range",
        "id": "margin_horizontal",
        "min": 0,
        "max": 30,
        "step": 1,
        "unit": "rem",
        "label": "Sides",
        "default": 0
      },
      {
        "type": "range",
        "id": "margin_horizontal_mobile",
        "min": 0,
        "max": 15,
        "step": 0.5,
        "unit": "rem",
        "label": "Sides - mobile",
        "default": 0
      },
      {
        "type": "header",
        "content": "Section padding (inside)"
      },
      {
        "type": "range",
        "id": "padding_top",
        "min": 0,
        "max": 100,
        "step": 4,
        "unit": "px",
        "label": "Top",
        "default": 36
      },
      {
        "type": "range",
        "id": "padding_bottom",
        "min": 0,
        "max": 100,
        "step": 4,
        "unit": "px",
        "label": "Bottom",
        "default": 36
      },
      {
        "type": "range",
        "id": "padding_horizontal",
        "min": 0,
        "max": 30,
        "step": 1,
        "unit": "rem",
        "label": "Sides",
        "default": 5
      },
      {
        "type": "range",
        "id": "padding_horizontal_mobile",
        "min": 0,
        "max": 15,
        "step": 0.5,
        "unit": "rem",
        "label": "Sides - mobile",
        "default": 1.5
      },
      {
        "type": "header",
        "content": "Section"
      },
      {
        "type": "select",
        "id": "width",
        "label": "Width",
        "default": "page",
        "options": [
          {
            "label": "Page",
            "value": "page"
          },
          {
            "label": "Full",
            "value": "full"
          },
          {
            "label": "Custom",
            "value": "custom"
          }
        ]
      },
      {
        "type": "range",
        "id": "content_width",
        "min": 800,
        "max": 2000,
        "step": 100,
        "unit": "px",
        "label": "Content width",
        "default": 1200,
        "visible_if": "{{ section.settings.width == 'custom' }}"
      },
      {
        "type": "range",
        "id": "border_thickness",
        "min": 0,
        "max": 50,
        "step": 1,
        "unit": "px",
        "label": "Border thickness",
        "default": 0
      },
      {
        "type": "range",
        "id": "section_radius",
        "min": 0,
        "max": 100,
        "step": 2,
        "unit": "px",
        "label": "Roundness",
        "default": 0
      },
      {
        "type": "checkbox",
        "id": "lazy",
        "label": "Lazy load",
        "info": "Lazy load images for speed optimisation",
        "default": true
      }
    ],
    "blocks": [
      {           
        "type": "heading",
        "limit": 1,
        "name": "Heading",
        "settings": [
          {
            "type": "richtext",
            "id": "heading",
            "label": "Heading",
            "default": "<h1>Hero #</h1>"
          },
          {
            "type": "checkbox",
            "id": "heading_custom",
            "label": "Use custom font",
            "default": false
          },
          {
            "type": "font_picker",
            "id": "heading_font",
            "label": "Font family",
            "default": "josefin_sans_n4",
            "visible_if": "{{ block.settings.heading_custom }}"
          },
          {
            "type": "range",
            "id": "heading_size",
            "min": 0,
            "max": 72,
            "step": 2,
            "unit": "px",
            "label": "Font size",
            "default": 48,
          },
          {
            "type": "range",
            "id": "heading_size_mobile",
            "min": 0,
            "max": 72,
            "step": 2,
            "unit": "px",
            "label": "Font size - mobile",
            "default": 32
          },
          {
            "type": "checkbox",
            "id": "heading_advanced",
            "label": "Advanced settings",
            "default": false
          },
          {
            "type": "range",
            "id": "heading_height",
            "min": 50,
            "max": 200,
            "step": 10,
            "unit": "%",
            "label": "Line height",
            "default": 130,
            "visible_if": "{{ block.settings.heading_advanced }}"
          },
          {
            "type": "range",
            "id": "heading_mt",
            "min": 0,
            "max": 100,
            "step": 2,
            "unit": "px",
            "label": "Margin top",
            "default": 0,
            "visible_if": "{{ block.settings.heading_advanced }}"
          },
          {
            "type": "range",
            "id": "heading_mt_mobile",
            "min": 0,
            "max": 100,
            "step": 2,
            "unit": "px",
            "label": "Margin top - mobile",
            "default": 0,
            "visible_if": "{{ block.settings.heading_advanced }}"
          },
          {
            "type": "color",
            "label": "Color",
            "id": "heading_color",
            "default": "#121212"
          }
        ]
      },
      {
        "type": "feature",
        "name": "Feature",
        "settings": [
          {
            "type": "richtext",
            "id": "heading",
            "label": "Heading",
            "default": "<h3>Feature heading</h3>"
          },
          {
            "type": "richtext",
            "id": "text",
            "label": "Text",
            "default": "<p>Feature text.</p>"
          },
        ]
      }
    ],
    "presets": [
      {
        "name": "SS - Feature #52",
        "blocks": [
          {
            "type": "heading"
          },
          {
            "type": "feature"
          },
          {
            "type": "feature"
          },
          {
            "type": "feature"
          }
        ]
      }
    ]
  }
{% endschema %}
