{% comment %}
---------------------------------------------------------
Copyright ¬© 2025 Section Store. All rights reserved.
Unauthorized copying, modification, distribution, or use
of this code or any portion of it, is strictly prohibited.
Violators will be prosecuted to the fullest extent of the law.
For inquiries or permissions, contact daniel@section.store
---------------------------------------------------------
{% endcomment %}

{%- liquid 
  assign padding_top = section.settings.padding_top
  assign padding_bottom = section.settings.padding_bottom
  assign border_color = section.settings.border_color
  assign border_thickness = section.settings.border_thickness
  assign margin_top = section.settings.margin_top
  assign margin_bottom = section.settings.margin_bottom
  assign margin_horizontal = section.settings.margin_horizontal
  assign margin_horizontal_mobile = section.settings.margin_horizontal_mobile
  assign background_color = section.settings.background_color
  assign background_gradient = section.settings.background_gradient
  assign content_width = section.settings.content_width
  assign width = section.settings.width
  assign section_radius = section.settings.section_radius
  assign background_style = section.settings.background_style

  assign position = section.settings.position
  assign content_align_mobile = section.settings.content_align_mobile
  assign content_mt_mobile = section.settings.content_mt_mobile

  assign content_horizontal_align_mobile = ""
  if content_align_mobile == "center"
    assign content_horizontal_align_mobile = "center"
  elsif content_align_mobile == "right"
    assign content_horizontal_align_mobile = "end"
  else
    assign content_horizontal_align_mobile = "start"
  endif

  assign scrolling_velocity = section.settings.scrolling_velocity
  assign scrolling_velocity_mobile = section.settings.scrolling_velocity_mobile
  assign scrolling_gap = section.settings.scrolling_gap
  assign scrolling_gap_mobile = section.settings.scrolling_gap_mobile
  assign reverse_direction = section.settings.reverse_direction
  assign pause_hover = section.settings.pause_hover
-%}

{%- style -%}
  
  .section-{{ section.id }} {  
    margin-top: {{ margin_top | times: 0.75 | round: 0 }}px;
    margin-bottom: {{ margin_bottom | times: 0.75 | round: 0 }}px;
    margin-left: {{ margin_horizontal_mobile }}rem;
    margin-right: {{ margin_horizontal_mobile }}rem;    
  }

  .section-{{ section.id }}-settings {
    margin: 0 auto;
    position: relative;
    border-top: solid {{ border_color }} {{ border_thickness }}px;
    border-bottom: solid {{ border_color }} {{ border_thickness }}px;
    padding-top: {{ padding_top | times: 0.75 | round: 0 }}px;
    padding-bottom: {{ padding_bottom | times: 0.75 | round: 0 }}px;
    border-radius: {{ section_radius | times: 0.6 | round: 0 }}px;
    overflow: hidden;
  }

  .countdown-timer-content-{{ section.id }} {
    position: relative;
    display: flex;
    align-items: {{ content_horizontal_align_mobile }};
    gap: 20px;
    justify-content: space-between;
    flex-direction: column;
  }
   
  .timer-wrapper-{{ section.id }} {
    position: relative;
    z-index: 1;
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
    scrollbar-width: none;
    -ms-flex-wrap: nowrap;
    flex-wrap: nowrap;
    gap: {{ scrolling_gap_mobile }}px;
    background-attachment: scroll !important;
  }

  .timer-list-{{ section.id }} {
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
    white-space: nowrap;
    height: 100%;
    gap: {{ scrolling_gap_mobile }}px;
    background-attachment: scroll !important;
    -webkit-animation: ticker{{ section.id | replace: '-', '' }} {{ scrolling_velocity_mobile }}s infinite linear;
    animation: ticker{{ section.id | replace: '-', '' }} {{ scrolling_velocity_mobile }}s infinite linear;
    flex-shrink: 0;
  }

  @media(min-width: 1024px) {
    .section-{{ section.id }} {
      margin-top: {{ margin_top }}px;
      margin-bottom: {{ margin_bottom }}px;      
      margin-left: {{ margin_horizontal }}rem;
      margin-right: {{ margin_horizontal }}rem;
      border-radius: {{ section_radius }}px;
    }

    .section-{{ section.id }}-settings {
      padding: 0 5rem;
      padding-top: {{ padding_top }}px;
      padding-bottom: {{ padding_bottom }}px;
    }

    .countdown-timer-content-{{ section.id }} {  
      flex-direction: row;
      align-items: center;
    }

    .timer-wrapper-{{ section.id }} {
      gap: {{ scrolling_gap }}px;
    }

    .timer-list-{{ section.id }} {
      gap: {{ scrolling_gap }}px;
      -webkit-animation: ticker{{ section.id | replace: '-', '' }} {{ scrolling_velocity }}s infinite linear;
      animation: ticker{{ section.id | replace: '-', '' }} {{ scrolling_velocity }}s infinite linear;
    }
  }
  
{%- endstyle -%}

{% if margin_horizontal_mobile > 0 %}
  <style>
    .section-{{ section.id }} {
      border-left: solid {{ border_color }} {{ border_thickness }}px;
      border-right: solid {{ border_color }} {{ border_thickness }}px;
    }
    
    @media(min-width: 1024px) {
      .section-{{ section.id }} {
        border-left: 0px;
        border-right: 0px;
      }
    }
  </style>
{% endif %}

{% if margin_horizontal > 0 %}
  <style>
    @media(min-width: 1024px) {
      .section-{{ section.id }} {
        border-left: solid {{ border_color }} {{ border_thickness }}px;
        border-right: solid {{ border_color }} {{ border_thickness }}px;
      }
    }
  </style>
{% endif %}

{% if width == 'custom' %}
  <style>
    .section-{{ section.id }}-settings {
      max-width: {{ content_width }}px;
    }
  </style>
{% elsif width == 'page' %}
  <style>
    .section-{{ section.id }}-settings {
      max-width: var(--page-width);
    }
  </style>
{% endif %}


{% if reverse_direction %}
  <style>
    @keyframes ticker{{ section.id | replace: '-', '' }} {
      0% {
        transform: translateX(-100%);
      }
      100% {
        transform: translateX(0%);
      }
    }
  </style>
{% else %}
  <style>
    @keyframes ticker{{ section.id | replace: '-', '' }} {
      0% {
        transform: translateX(0%);
      }
      100% {
        transform: translateX(-100%);
      }
    }
  </style>
{% endif %}

{% if pause_hover %}
	<style>
    @media(min-width: 1024px) {
      .timer-wrapper-{{ section.id }}:hover .timer-list-{{ section.id }} {
        animation-play-state: paused;
      }
    } 
	</style>
{% endif %}

{% if position == "fixed_bottom" %}
  <style>
    .countdown-timer-{{ section.id }} {
      position: fixed;
      left: 0;
      bottom: 0;
      z-index: 999;
      width: calc(100% - {{ margin_horizontal_mobile | times: 2 }}rem);
    }

    @media(min-width: 1024px) {
      .countdown-timer-{{ section.id }} {
        width: calc(100% - {{ margin_horizontal | times: 2 }}rem);
      }
    }
  </style>
{% endif %}

{% for block in section.blocks %}
  {% case block.type %}
    {% when 'text' %}
      <style>
        .countdown-text-{{ block.id }} {
          text-align: {{ content_align_mobile }};
          max-width: {{ block.settings.text_max_width_mobile }}%;
        }

        .countdown-text-{{ block.id }} * {          
          margin: 0;            
          font-size: {{ block.settings.text_size_mobile }}px;
          color: {{ block.settings.text_color }};
          line-height: {{ block.settings.text_height }}%;
          text-transform: unset;
          word-break: break-word;
        }  

        .countdown-text-{{ block.id }} strong {
          color: {{ block.settings.text_accent_color }};
          background-color: {{ block.settings.text_accent_bg_color }};
          padding: 5px;
          border-radius: {{ block.settings.text_accent_roundness }}px;
        }

        @media(min-width: 1024px) {
          .countdown-text-{{ block.id }} {
            text-align: {{ block.settings.text_align }};
            max-width: {{ block.settings.text_max_width }}%;
          }

          .countdown-text-{{ block.id }} * {                
            font-size: {{ block.settings.text_size }}px;
          }  
        }
      </style>

      {% if block.settings.text_custom %}
        <style>
          {{  block.settings.text_font | font_face: font_display: 'swap' }}
          .countdown-text-{{ block.id }} * {
            font-family: {{ block.settings.text_font.family }}, {{ block.settings.text_font.fallback_families }};
            font-weight: {{ block.settings.text_font.weight }};
            font-style: {{ block.settings.text_font.style }};
          }
        </style>
      {% endif %}

    {% when 'timer' %}      
      <style>
        .countdown-timer-wrapper-{{ block.id }} {
          width: 100%;
          justify-content: {{ content_horizontal_align_mobile }};
          display: flex;
          gap: 10px;
          align-items: center;
        }
        
        .countdown-timer-{{ block.id }} {
          display: flex;
          align-items: stretch;
          gap: {{ block.settings.timer_gap_mobile}}px;

        }

        .countdown-timer-{{ block.id }} .time-block {
          display: flex;
          flex-direction: column;
          align-items: stretch;
          justify-content: center;
          text-align: center; 
          width: {{ block.settings.item_width_mobile }}px;              
        }

        .countdown-timer-{{ block.id }} .time-block__num {
          margin: 0;          
          font-size: {{ block.settings.number_size_mobile }}px;
          color: {{ block.settings.number_color }};
          line-height: {{ block.settings.number_height }}%;
          text-transform: unset;
        }
        
        .countdown-timer-{{ block.id }} .time-block__unit {
          margin: 0;
          font-size: {{ block.settings.text_size_mobile }}px;
          color: {{ block.settings.text_color }};
          line-height: {{ block.settings.text_height }}%;
          text-transform: unset;
          word-break: break-word;
        }

        .countdown-completed-text-{{ block.id }} {
          display: none;
        }

        .countdown-completed-text-{{ block.id }} * {
          margin: 0;
          font-size: {{ block.settings.completed_text_size_mobile }}px;
          color: {{ block.settings.completed_text_color }};
          line-height: {{ block.settings.completed_text_height }}%;
          text-transform: unset;
          text-align: {{ content_align_mobile }};
        }

        .countdown-completed-text-{{ block.id }}.active {
          display: block;
        }

        
        .countdown-timer-text-{{ block.id }} * {
          margin: 0;
          font-size: {{ block.settings.number_size_mobile }}px;
          color: {{ block.settings.text_color }};
          line-height: {{ block.settings.number_height }}%;
          text-transform: unset;
        }

        .countdown-timer-{{ block.id }} .time-block__num.colons {
          font-size: {{ block.settings.number_size_mobile | times: 0.8 }}px;
        }

        @media(min-width: 1024px) {
          .countdown-timer-{{ block.id }} {
            gap: {{ block.settings.timer_gap }}px;
          }

          .countdown-timer-{{ block.id }} .time-block {
            width: {{ block.settings.item_width }}px;      
          }

          .countdown-timer-{{ block.id }} .time-block__num { 
            font-size: {{ block.settings.number_size }}px;
          }

          .countdown-timer-{{ block.id }} .time-block__unit {
            font-size: {{ block.settings.text_size }}px;
          }

          .countdown-completed-text-{{ block.id }} * {
            font-size: {{ block.settings.completed_text_size }}px;
          }

           .countdown-timer-text-{{ block.id }} * {
            font-size: {{ block.settings.number_size }}px;
          }

          .countdown-timer-{{ block.id }} .time-block__num.colons {
            font-size: {{ block.settings.number_size | times: 0.8 }}px;
          }
        }
      </style>

      {% if block.settings.number_custom %}
        <style>
          {{  block.settings.number_font | font_face: font_display: 'swap' }}

          .countdown-timer-{{ block.id }} .time-block__num,
          .countdown-timer-text-{{ block.id }} * {
            font-family: {{ block.settings.number_font.family }}, {{ block.settings.number_font.fallback_families }};
            font-weight: {{ block.settings.number_font.weight }};
            font-style: {{ block.settings.number_font.style }};
          }
        </style>
      {% endif %}

      {% if block.settings.text_custom %}
        <style>
          {{  block.settings.text_font | font_face: font_display: 'swap' }}

          .countdown-timer-{{ block.id }} .time-block__unit {
            font-family: {{ block.settings.text_font.family }}, {{ block.settings.text_font.fallback_families }};
            font-weight: {{ block.settings.text_font.weight }};
            font-style: {{ block.settings.text_font.style }};
          }
        </style>
      {% endif %}

      {% if block.settings.completed_text_custom %}
        <style>          
          {{  block.settings.completed_text_font | font_face: font_display: 'swap' }}
          
          .countdown-completed-text-{{ block.id }} * {
            font-family: {{ block.settings.completed_text_font.family }}, {{ block.settings.completed_text_font.fallback_families }};
            font-weight: {{ block.settings.completed_text_font.weight }};
            font-style: {{ block.settings.completed_text_font.style }};
          }
        </style>
      {% endif %}
    
    {% else %}
      
  {% endcase %}
{% endfor %}

{% capture list %}
  <div class="timer-list-{{ section.id }}">
    {% for i in (1..5) %}
      {% for block in section.blocks %}
        {% case block.type %}
            {% when 'timer' %}
             <div class="countdown-timer-wrapper-{{ block.id }}">
                  <div class="countdown-timer-text-{{ block.id }}">{{ block.settings.text }}</div>
                  <div class="countdown-timer-{{ block.id }}">        
                    <div class="time-block">
                      <span class="time-block__num js-timer-days">00</span>                          
                    </div>
                    <span class="time-block__num colons">:</span>
                    <div class="time-block">
                      <span class="time-block__num js-timer-hours">00</span>                              
                    </div>
                    <span class="time-block__num colons">:</span>
                    <div class="time-block">
                      <span class="time-block__num js-timer-minutes">00</span>                                    
                    </div>
                    <span class="time-block__num colons">:</span>
                    <div class="time-block">
                      <span class="time-block__num js-timer-seconds">00</span>                           
                    </div>
                  </div>
                  <div class="countdown-completed-text-{{ block.id }}">
                    {{ block.settings.completed_text }}
                  </div>
                </div> 
            
            {% when 'text' %}
            {% if block.settings.text != blank %}
                <div class="countdown-text-{{ block.id }}">{{ block.settings.text }}</div>
            {% endif %} 
            
            {% else %}
            
        {% endcase %}
      {% endfor %}
    {% endfor %}
  </div>
{% endcapture %}

{% if position == "class" %}
<template id="countdown-timer-template-{{ section.id }}">
{% endif %}
  <div class="section-{{ section.id }} countdown-timer-{{ section.id }}">
    <div class="section-{{ section.id }}-settings" {% if background_style == 'solid' %}style="background-color:{{ background_color }};"{% else %} style="background-image: {{ background_gradient }};"{% endif %}>  
      <div class="countdown-timer-content-{{ section.id }}">           

        <div class="timer-wrapper-{{ section.id }}">
          {{ list }}
          {{ list }}
        </div>
      </div>     
    </div>
  </div>
{% if position == "class" %}
</template>
{% endif %}

<div id="countdown-timer-local-target-{{ section.id }}"></div>

<script>
  function initCountdownTimerBar6{{ section.id | replace: '-', '' }}() {
  const sectionId = '{{ section.id }}';
  if (window[`timer_initialized_${sectionId}`]) return;
  window[`timer_initialized_${sectionId}`] = true;

  setTimeout(() => {
    {% for block in section.blocks %}
      {% case block.type %} 
      {% when 'timer' %}
        {% if position == "class" %}
            const cssTarget = '{{ section.settings.insert_css_class_target }}';
            const targetElement = cssTarget
                ? document.querySelector(cssTarget)
                : document.querySelector('#countdown-timer-local-target-{{ section.id }}');
        
            if (!targetElement) {
                console.warn('Target element not found for countdown timer');
                return;
            }
        
            const templateContent = document.querySelector('#countdown-timer-template-{{ section.id }}');
            if (!templateContent) return;
            
            if (document.querySelector('.countdown-timer-{{ section.id }}')) return;
            
            targetElement.insertAdjacentElement('beforebegin', templateContent.content.firstElementChild.cloneNode(true));
        {% endif %}

        const section = document.querySelector('.countdown-timer-{{ section.id }}');
        if (!section) return;

        function setFixedWidthForTimeBlocks() {
          const wrappers = document.querySelectorAll('.countdown-timer-{{ block.id }}');
          
          wrappers.forEach((wrapper) => {
            const timeBlocks = wrapper.querySelectorAll('.time-block');
            let maxWidth = 0;
            
            // –°–æ–∑–¥–∞–µ–º –≤—Ä–µ–º–µ–Ω–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç –¥–ª—è –∏–∑–º–µ—Ä–µ–Ω–∏—è —à–∏—Ä–∏–Ω—ã –≤—Å–µ—Ö —Ü–∏—Ñ—Ä
            const tempSpan = document.createElement('span');
            tempSpan.className = 'time-block__num';
            tempSpan.style.visibility = 'hidden';
            tempSpan.style.position = 'absolute';
            wrapper.appendChild(tempSpan);
            
            for (let i = 0; i <= 59; i++) {
              tempSpan.innerText = i.toString();
              const width = tempSpan.offsetWidth;
              if (width > maxWidth) {
                maxWidth = width;
              }
            }
            
            wrapper.removeChild(tempSpan);

            timeBlocks.forEach((block) => {
              const numSpan = block.querySelector('.time-block__num');
              if (numSpan) {
                numSpan.style.minWidth = maxWidth + 'px';
                numSpan.style.display = 'inline-block';
                numSpan.style.textAlign = 'center';
              }
            });
          });
        }

        function startTimer() {
          const second = 1000,
              minute = second * 60,
              hour = minute * 60,
              day = hour * 24;
              
          const wrappers = document.querySelectorAll('.countdown-timer-{{ block.id }}');
          
          // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—É—é —à–∏—Ä–∏–Ω—É –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ç–∞–π–º–µ—Ä–∞
          setFixedWidthForTimeBlocks();
          
          wrappers.forEach((wrapper) => {
            const countDown = new Date('{{ block.settings.year }}-{{ block.settings.month }}-{{ block.settings.day }}T{{ block.settings.hour }}:{{ block.settings.minute }}:00Z').getTime();

            const interval = setInterval(function () {
                const now = new Date().getTime();
                const distance = countDown - now;
                
                const days = Math.floor(distance / day);
                const hours = Math.floor((distance % day) / hour);
                const minutes = Math.floor((distance % hour) / minute);
                const seconds = Math.floor((distance % minute) / second);

                // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤
                const daysEl = wrapper.querySelector('.js-timer-days');
                const hoursEl = wrapper.querySelector('.js-timer-hours');
                const minutesEl = wrapper.querySelector('.js-timer-minutes');
                const secondsEl = wrapper.querySelector('.js-timer-seconds');

                if (daysEl) daysEl.innerText = days >= 0 ? days : '00';
                if (hoursEl) hoursEl.innerText = hours >= 0 ? hours : '00';
                if (minutesEl) minutesEl.innerText = minutes >= 0 ? minutes : '00';
                if (secondsEl) secondsEl.innerText = seconds >= 0 ? seconds : '00';

                if (distance < 0) {
                    {% if block.settings.hide_timer_on_completed %}
                        wrapper.style.display = 'none';
                        const completedText = document.querySelectorAll('.countdown-completed-text-{{ block.id }}');
                        if (completedText) {
                          completedText.forEach((text) => {
                            text.classList.add('active');
                          })
                        }
                    {% endif %}
                    clearInterval(interval);
                }
            }, second);
            
            document.addEventListener('shopify:section:unload', function (event) {
                if (event.detail.sectionId === '{{ section.id }}') {
                    clearInterval(interval);
                }
            });
          });               
        }
        
        startTimer();
      {% endcase %}
    {% endfor %}        
  }, 500);
  }

  document.addEventListener('DOMContentLoaded', initCountdownTimerBar6{{ section.id | replace: '-', '' }});  
</script>


{% schema %}
  {
    "name": "Countdown timer bar #6",
    "settings": [
      {
        "type": "paragraph",
        "content": "‚ö†Ô∏è Save settings to display this section and see updates."
      },
      {
        "type": "select",
        "id": "position",
        "label": "Position",
        "default": "static",
        "options": [
          {
            "value": "static",
            "label": "Static / drag"
          },
          {
            "value": "fixed_bottom",
            "label": "Fixed bottom"
          },
          {
            "value": "class",
            "label": "Target CSS class (old themes)"
          }
        ]
      },
      {
        "type": "text",
        "id": "insert_css_class_target",
        "label": "Target CSS class",
        "default": ".header, .pageheader, .section-header, #announcement, .toolbar, .header__wrapper",
        "placeholder": ".header",
        "visible_if": "{{ section.settings.position == 'class' }}"
      },  
      {
        "type": "header",
        "content": "Scrolling",
         "info": "The theme editor may display incorrect scrolling speed; please verify on the live site."
      },
      {
        "type": "range",
        "id": "scrolling_velocity",
        "min": 10,
        "max": 150,
        "step": 2,
        "label": "Speed",
        "info": "üêá ‚Äî‚Äî‚Äî‚óè‚Äî‚Äî‚Äî üê¢",
        "default": 40
      },
      {
        "type": "range",
        "id": "scrolling_velocity_mobile",
        "min": 10,
        "max": 150,
        "step": 2,
        "label": "Speed - mobile",
        "info": "üêá ‚Äî‚Äî‚Äî‚óè‚Äî‚Äî‚Äî üê¢",
        "default": 40
      },
      {
        "type": "range",
        "id": "scrolling_gap",
        "min": 0,
        "max": 100,
        "step": 2,
        "unit": "px",
        "label": "Gap",
        "default": 20
      },
      {
        "type": "range",
        "id": "scrolling_gap_mobile",
        "min": 0,
        "max": 100,
        "step": 2,
        "unit": "px",
        "label": "Gap - mobile",
        "default": 20
      }, 
      {
        "type": "checkbox",
        "id": "reverse_direction",
        "label": "Reverse scrolling direction"
      },
      {
        "type": "checkbox",
        "id": "pause_hover",
        "label": "Pause on hover",
        "default": true
      },   
      {
        "type": "header",
        "content": "Section colors"
      },          
      {
        "type": "select",
        "id": "background_style",
        "label": "Background style",
        "default": "solid",
        "options": [
          {
            "label": "Solid",
            "value": "solid"
          },
          {
            "label": "Gradient",
            "value": "gradient"
          }
        ]
      },
      {
        "type": "color",
        "label": "Background",
        "id": "background_color",
        "default": "#F3F3F3",
        "visible_if": "{{ section.settings.background_style == 'solid' }}"
      },
      {
        "type": "color_background",
        "id": "background_gradient",
        "label": "Gradient",
        "default": "linear-gradient(180deg, #FFFFFF 0%, #F2F2F2 100%)",
        "visible_if": "{{ section.settings.background_style == 'gradient' }}"
      },
      {
        "type": "color",
        "label": "Border",
        "id": "border_color",
        "default": "#121212"
      },
      {
        "type": "header",
        "content": "Section margin (outside)"
      },
      {
        "type": "range",
        "id": "margin_top",
        "min": 0,
        "max": 100,
        "step": 4,
        "unit": "px",
        "label": "Top",
        "default": 0
      },
      {
        "type": "range",
        "id": "margin_bottom",
        "min": 0,
        "max": 100,
        "step": 4,
        "unit": "px",
        "label": "Bottom",
        "default": 0
      },
         {
        "type": "range",
        "id": "margin_horizontal",
        "min": 0,
        "max": 30,
        "step": 1,
        "unit": "rem",
        "label": "Sides",
        "default": 0
      },
      {
        "type": "range",
        "id": "margin_horizontal_mobile",
        "min": 0,
        "max": 15,
        "step": 0.5,
        "unit": "rem",
        "label": "Sides - mobile",
        "default": 0
      },
      {
        "type": "header",
        "content": "Section padding (inside)"
      },
      {
        "type": "range",
        "id": "padding_top",
        "min": 0,
        "max": 100,
        "step": 2,
        "unit": "px",
        "label": "Top",
        "default": 20
      },
      {
        "type": "range",
        "id": "padding_bottom",
        "min": 0,
        "max": 100,
        "step": 2,
        "unit": "px",
        "label": "Bottom",
        "default": 20
      },
      {
        "type": "header",
        "content": "Section"
      },
       {
        "type": "select",
        "id": "width",
        "label": "Width",
        "default": "page",
        "options": [
          {
            "label": "Page",
            "value": "page"
          },
          {
            "label": "Full",
            "value": "full"
          },
          {
            "label": "Custom",
            "value": "custom"
          }
        ]
      },
      {
        "type": "range",
        "id": "content_width",
        "min": 800,
        "max": 2000,
        "step": 100,
        "unit": "px",
        "label": "Content width",
        "default": 1200,
        "visible_if": "{{ section.settings.width == 'custom' }}"
      },
      {
        "type": "range",
        "id": "border_thickness",
        "min": 0,
        "max": 50,
        "step": 1,
        "unit": "px",
        "label": "Border thickness",
        "default": 0
      },
      {
        "type": "range",
        "id": "section_radius",
        "min": 0,
        "max": 100,
        "step": 2,
        "unit": "px",
        "label": "Roundness",
        "default": 0
      }
    ],
    "blocks": [
      {
        "type": "text",
        "limit": 3,
        "name": "Text",
        "settings": [
          {
            "type": "richtext",
            "id": "text",
            "label": "Text",
            "default": "<p>Add text content about your brand that makes a statement.</p>"
          },
          {
            "type": "checkbox",
            "id": "text_custom",
            "label": "Use custom font",
            "default": false
          },
          {
            "type": "font_picker",
            "id": "text_font",
            "label": "Font family",
            "default": "josefin_sans_n4",
            "visible_if": "{{ block.settings.text_custom }}"
          },
          {
            "type": "range",
            "id": "text_size",
            "min": 0,
            "max": 40,
            "step": 1,
            "unit": "px",
            "label": "Font size",
            "default": 14
          },
          {
            "type": "range",
            "id": "text_size_mobile",
            "min": 0,
            "max": 40,
            "step": 1,
            "unit": "px",
            "label": "Font size - mobile",
            "default": 12
          },
          {
            "type": "range",
            "id": "text_height",
            "min": 50,
            "max": 200,
            "step": 10,
            "unit": "%",
            "label": "Line height",
            "default": 130
          },
          {
            "type": "color",
            "label": "Color",
            "id": "text_color",
            "default": "#121212"
          }
        ]
      },
      {
        "type": "timer",
        "name": "Timer",
        "limit": 1,
        "settings": [ 
          {
            "type": "header",
            "content": "Timer",
            "info": "Please use UTC time zone"
          },
          {
            "type": "select",
            "id": "year",
            "label": "Year",
            "default": "2026",
            "options": [
              {
                "value": "2025",
                "label": "2025"
              },
              {
                "value": "2026",
                "label": "2026"
              },
              {
                "value": "2027",
                "label": "2027"
              },
              {
                "value": "2028",
                "label": "2028"
              },
              {
                "value": "2029",
                "label": "2029"
              },
              {
                "value": "2030",
                "label": "2030"
              },
              {
                "value": "2031",
                "label": "2031"
              },
              {
                "value": "2032",
                "label": "2032"
              },
              {
                "value": "2033",
                "label": "2033"
              },
              {
                "value": "2034",
                "label": "2034"
              },
              {
                "value": "2035",
                "label": "2035"
              },
              {
                "value": "2036",
                "label": "2036"
              },
              {
                "value": "2037",
                "label": "2037"
              },
              {
                "value": "2038",
                "label": "2038"
              },
              {
                "value": "2039",
                "label": "2039"
              },
              {
                "value": "2040",
                "label": "2040"
              },
              {
                "value": "2041",
                "label": "2041"
              },
              {
                "value": "2042",
                "label": "2042"
              },
              {
                "value": "2043",
                "label": "2043"
              },
              {
                "value": "2044",
                "label": "2044"
              },
              {
                "value": "2045",
                "label": "2045"
              },
              {
                "value": "2046",
                "label": "2046"
              },
              {
                "value": "2047",
                "label": "2047"
              },
              {
                "value": "2048",
                "label": "2048"
              },
              {
                "value": "2049",
                "label": "2049"
              },
              {
                "value": "2050",
                "label": "2050"
              }
            ]
          },
          {
            "type": "select",
            "id": "month",
            "label": "Month",
            "default": "01",
            "options": [
              {
                "value": "01",
                "label": "January"
              },
              {
                "value": "02",
                "label": "February"
              },
              {
                "value": "03",
                "label": "March"
              },
              {
                "value": "04",
                "label": "April"
              },
              {
                "value": "05",
                "label": "May"
              },
              {
                "value": "06",
                "label": "June"
              },
              {
                "value": "07",
                "label": "July"
              },
              {
                "value": "08",
                "label": "August"
              },
              {
                "value": "09",
                "label": "September"
              },
              {
                "value": "10",
                "label": "October"
              },
              {
                "value": "11",
                "label": "November"
              },
              {
                "value": "12",
                "label": "December"
              }
            ]
          },
          {
            "type": "select",
            "id": "day",
            "label": "Day",
            "default": "01",
            "options": [
              {
                "value": "01",
                "label": "01"
              },
              {
                "value": "02",
                "label": "02"
              },
              {
                "value": "03",
                "label": "03"
              },
              {
                "value": "04",
                "label": "04"
              },
              {
                "value": "05",
                "label": "05"
              },
              {
                "value": "06",
                "label": "06"
              },
              {
                "value": "07",
                "label": "07"
              },
              {
                "value": "08",
                "label": "08"
              },
              {
                "value": "09",
                "label": "09"
              },
              {
                "value": "10",
                "label": "10"
              },
              {
                "value": "11",
                "label": "11"
              },
              {
                "value": "12",
                "label": "12"
              },
              {
                "value": "13",
                "label": "13"
              },
              {
                "value": "14",
                "label": "14"
              },
              {
                "value": "15",
                "label": "15"
              },
              {
                "value": "16",
                "label": "16"
              },
              {
                "value": "17",
                "label": "17"
              },
              {
                "value": "18",
                "label": "18"
              },
              {
                "value": "19",
                "label": "19"
              },
              {
                "value": "20",
                "label": "20"
              },
              {
                "value": "21",
                "label": "21"
              },
              {
                "value": "22",
                "label": "22"
              },
              {
                "value": "23",
                "label": "23"
              },
              {
                "value": "24",
                "label": "24"
              },
              {
                "value": "25",
                "label": "25"
              },
              {
                "value": "26",
                "label": "26"
              },
              {
                "value": "27",
                "label": "27"
              },
              {
                "value": "28",
                "label": "28"
              },
              {
                "value": "29",
                "label": "29"
              },
              {
                "value": "30",
                "label": "30"
              },
              {
                "value": "31",
                "label": "31"
              }
            ]
          },
          {
            "type": "select",
            "id": "hour",
            "label": "Hour",
            "default": "00",
            "options": [
              { "value": "00", "label": "12 AM" },
              { "value": "01", "label": "01 AM" },
              { "value": "02", "label": "02 AM" },
              { "value": "03", "label": "03 AM" },
              { "value": "04", "label": "04 AM" },
              { "value": "05", "label": "05 AM" },
              { "value": "06", "label": "06 AM" },
              { "value": "07", "label": "07 AM" },
              { "value": "08", "label": "08 AM" },
              { "value": "09", "label": "09 AM" },
              { "value": "10", "label": "10 AM" },
              { "value": "11", "label": "11 AM" },
              { "value": "12", "label": "12 PM" },
              { "value": "13", "label": "01 PM" },
              { "value": "14", "label": "02 PM" },
              { "value": "15", "label": "03 PM" },
              { "value": "16", "label": "04 PM" },
              { "value": "17", "label": "05 PM" },
              { "value": "18", "label": "06 PM" },
              { "value": "19", "label": "07 PM" },
              { "value": "20", "label": "08 PM" },
              { "value": "21", "label": "09 PM" },
              { "value": "22", "label": "10 PM" },
              { "value": "23", "label": "11 PM" }
            ]
          },         
          {
            "type": "select",
            "id": "minute",
            "label": "Minute",
            "default": "00",
            "options": [
              {
                "value": "00",
                "label": "00"
              },
              {
                "value": "01",
                "label": "01"
              },
              {
                "value": "02",
                "label": "02"
              },
              {
                "value": "03",
                "label": "03"
              },
              {
                "value": "04",
                "label": "04"
              },
              {
                "value": "05",
                "label": "05"
              },
              {
                "value": "06",
                "label": "06"
              },
              {
                "value": "07",
                "label": "07"
              },
              {
                "value": "08",
                "label": "08"
              },
              {
                "value": "09",
                "label": "09"
              },
              {
                "value": "10",
                "label": "10"
              },
              {
                "value": "11",
                "label": "11"
              },
              {
                "value": "12",
                "label": "12"
              },
              {
                "value": "13",
                "label": "13"
              },
              {
                "value": "14",
                "label": "14"
              },
              {
                "value": "15",
                "label": "15"
              },
              {
                "value": "16",
                "label": "16"
              },
              {
                "value": "17",
                "label": "17"
              },
              {
                "value": "18",
                "label": "18"
              },
              {
                "value": "19",
                "label": "19"
              },
              {
                "value": "20",
                "label": "20"
              },
              {
                "value": "21",
                "label": "21"
              },
              {
                "value": "22",
                "label": "22"
              },
              {
                "value": "23",
                "label": "23"
              },
              {
                "value": "24",
                "label": "24"
              },
              {
                "value": "25",
                "label": "25"
              },
              {
                "value": "26",
                "label": "26"
              },
              {
                "value": "27",
                "label": "27"
              },
              {
                "value": "28",
                "label": "28"
              },
              {
                "value": "29",
                "label": "29"
              },
              {
                "value": "30",
                "label": "30"
              },
              {
                "value": "31",
                "label": "31"
              },
              {
                "value": "32",
                "label": "32"
              },
              {
                "value": "33",
                "label": "33"
              },
              {
                "value": "34",
                "label": "34"
              },
              {
                "value": "35",
                "label": "35"
              },
              {
                "value": "36",
                "label": "36"
              },
              {
                "value": "37",
                "label": "37"
              },
              {
                "value": "38",
                "label": "38"
              },
              {
                "value": "39",
                "label": "39"
              },
              {
                "value": "40",
                "label": "40"
              },
              {
                "value": "41",
                "label": "41"
              },
              {
                "value": "42",
                "label": "42"
              },
              {
                "value": "43",
                "label": "43"
              },
              {
                "value": "44",
                "label": "44"
              },
              {
                "value": "45",
                "label": "45"
              },
              {
                "value": "46",
                "label": "46"
              },
              {
                "value": "47",
                "label": "47"
              },
              {
                "value": "48",
                "label": "48"
              },
              {
                "value": "49",
                "label": "49"
              },
              {
                "value": "50",
                "label": "50"
              },
              {
                "value": "51",
                "label": "51"
              },
              {
                "value": "52",
                "label": "52"
              },
              {
                "value": "53",
                "label": "53"
              },
              {
                "value": "54",
                "label": "54"
              },
              {
                "value": "55",
                "label": "55"
              },
              {
                "value": "56",
                "label": "56"
              },
              {
                "value": "57",
                "label": "57"
              },
              {
                "value": "58",
                "label": "58"
              },
              {
                "value": "59",
                "label": "59"
              }
            ]
          },
          {
            "type": "checkbox",
            "id": "hide_timer_on_completed",
            "label": "Hide timer on completed",
            "default": false
          },
          {
            "type": "checkbox",
            "id": "timer_advanced",
            "label": "Advanced settings"
          },
          {
            "type": "range",
            "id": "timer_gap",
            "min": 0,
            "max": 10,
            "step": 1,
            "unit": "px",
            "label": "Gap",
            "default": 3,
            "visible_if": "{{ block.settings.timer_advanced }}"
          },
          {
            "type": "range",
            "id": "timer_gap_mobile",
            "min": 0,
            "max": 10,
            "step": 1,
            "unit": "px",
            "label": "Gap - mobile",
            "default": 3,
            "visible_if": "{{ block.settings.timer_advanced }}"
          },
          {
            "type": "header",
            "content": "Text"
          },
          {
            "type": "richtext",
            "id": "text",
            "label": "Text",
            "default": "<p>Offer expires in:</p>"
          },
          {
            "type": "checkbox",
            "id": "number_custom",
            "label": "Use custom font",
            "default": false
          },
          {
            "type": "font_picker",
            "id": "number_font",
            "label": "Font family",
            "default": "josefin_sans_n4",
            "visible_if": "{{ block.settings.number_custom }}"
          },
          {
            "type": "range",
            "id": "number_size",
            "min": 0,
            "max": 40,
            "step": 1,
            "unit": "px",
            "label": "Font size",
            "default": 14
          },
          {
            "type": "range",
            "id": "number_size_mobile",
            "min": 0,
            "max": 40,
            "step": 1,
            "unit": "px",
            "label": "Font size - mobile",
            "default": 12
          },
          {
            "type": "range",
            "id": "number_height",
            "min": 50,
            "max": 200,
            "step": 10,
            "unit": "%",
            "label": "Line height",
            "default": 130
          },           
          {
            "type": "header",
            "content": "Completed text"
          },
          {
            "type": "richtext",
            "id": "completed_text",
            "label": "Text",
            "default": "<p>This offer has expired.</p>"
          },
          {
            "type": "checkbox",
            "id": "completed_text_custom",
            "label": "Use custom font",
            "default": false
          },
          {
            "type": "font_picker",
            "id": "completed_text_font",
            "label": "Font family",
            "default": "josefin_sans_n4",
            "visible_if": "{{ block.settings.completed_text_custom }}"
          },
          {
            "type": "range",
            "id": "completed_text_size",
            "min": 0,
            "max": 40,
            "step": 1,
            "unit": "px",
            "label": "Font size",
            "default": 14
          },
          {
            "type": "range",
            "id": "completed_text_size_mobile",
            "min": 0,
            "max": 40,
            "step": 1,
            "unit": "px",
            "label": "Font size - mobile",
            "default": 12
          },
          {
            "type": "range",
            "id": "completed_text_height",
            "min": 50,
            "max": 200,
            "step": 10,
            "unit": "%",
            "label": "Line height",
            "default": 130
          },  
          {
            "type": "header",
            "content": "Colors"
          },
          {
            "type": "color",
            "label": "Text",
            "id": "text_color",
            "default": "#121212"
          },
          {
            "type": "color",
            "label": "Numbers",
            "id": "number_color",
            "default": "#121212"
          },
          {
            "type": "color",
            "label": "Completed text",
            "id": "completed_text_color",
            "default": "#121212"
          } 
        ]
      },
    ],
    "presets": [
      {
        "name": "SS - Countdown timer bar #6",
        "blocks": [
          {
            "type": "text"
          },
          {
            "type": "timer"
          }
        ]
      }
    ]
  }
{% endschema %}