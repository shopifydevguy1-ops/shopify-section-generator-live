<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
/>

{%- liquid 
  assign padding_horizontal = section.settings.padding_horizontal
  assign padding_horizontal_mobile = section.settings.padding_horizontal_mobile
  assign padding_top = section.settings.padding_top
  assign padding_bottom = section.settings.padding_bottom
  assign border_color = section.settings.border_color
  assign border_thickness = section.settings.border_thickness
  assign margin_top = section.settings.margin_top
  assign margin_bottom = section.settings.margin_bottom
  assign margin_horizontal_mobile = section.settings.margin_horizontal_mobile
  assign margin_horizontal = section.settings.margin_horizontal
  assign background_color = section.settings.background_color
  assign background_gradient = section.settings.background_gradient
  assign full_width = section.settings.full_width
  assign content_width = section.settings.content_width
  assign lazy = section.settings.lazy
  assign section_radius = section.settings.section_radius

  assign slider_view = section.settings.slider_view
  assign slider_view_mobile = section.settings.slider_view_mobile
  assign slider_gap = section.settings.slider_gap
  assign slider_gap_mobile = section.settings.slider_gap_mobile  

  assign video_radius = section.settings.video_radius
  assign video_ratio = section.settings.video_ratio
  assign video_ratio_mobile = section.settings.video_ratio_mobile
  assign video_border_thickness = section.settings.video_border_thickness
  assign video_border_color = section.settings.video_border_color
  assign use_shadow = section.settings.use_shadow
  assign icon_use_hover = section.settings.icon_use_hover
  assign use_sound = section.settings.use_sound

  assign icon_size = section.settings.icon_size
  assign icon_size_mobile = section.settings.icon_size_mobile
  assign icon_color = section.settings.icon_color
  assign icon_hover_color = section.settings.icon_hover_color
  assign icon_bg_color = section.settings.icon_bg_color
  assign icon_bg_hover_color = section.settings.icon_bg_hover_color
  assign icon_border_thickness = section.settings.icon_border_thickness
  assign icon_border_color = section.settings.icon_border_color
  assign icon_border_hover_color = section.settings.icon_border_hover_color

  assign heading = section.settings.heading
  assign heading_custom = section.settings.heading_custom
  assign heading_font = section.settings.heading_font
  assign heading_size = section.settings.heading_size
  assign heading_size_mobile = section.settings.heading_size_mobile
  assign heading_height = section.settings.heading_height
  assign heading_color = section.settings.heading_color
  assign heading_mt = section.settings.heading_mt
  assign heading_mt_mobile = section.settings.heading_mt_mobile
  assign heading_align = section.settings.heading_align
  assign heading_align_mobile = section.settings.heading_align_mobile

  assign heading_tiktok_link = section.settings.heading_tiktok_link
  assign heading_instagram_link = section.settings.heading_instagram_link
  assign heading_facebook_link = section.settings.heading_facebook_link
  assign heading_youtube_link = section.settings.heading_youtube_link
  assign heading_pinterest_link = section.settings.heading_pinterest_link
  assign heading_icon_size = section.settings.heading_icon_size
  assign heading_icon_size_mobile = section.settings.heading_icon_size_mobile
  assign heading_icon_color = section.settings.heading_icon_color
  assign heading_icon_hover_color = section.settings.heading_icon_hover_color

  assign arrow_size = section.settings.arrow_size
  assign arrow_size_mobile = section.settings.arrow_size_mobile
  assign arrow_icon_size = section.settings.arrow_icon_size
  assign arrow_icon_size_mobile = section.settings.arrow_icon_size_mobile
  assign arrow_color = section.settings.arrow_color
  assign arrow_hover_color = section.settings.arrow_hover_color
  assign arrow_bg_color = section.settings.arrow_bg_color
  assign arrow_bg_hover_color = section.settings.arrow_bg_hover_color
  assign arrow_radius = section.settings.arrow_radius
  assign arrow_border_thickness = section.settings.arrow_border_thickness
  assign arrow_border_color = section.settings.arrow_border_color
  assign arrow_border_hover_color = section.settings.arrow_border_hover_color
  assign arrow_show_desktop = section.settings.arrow_show_desktop
  assign arrow_show_mobile = section.settings.arrow_show_mobile
  assign arrow_hover_effect = section.settings.arrow_hover_effect
  assign arrow_shadow = section.settings.arrow_shadow
-%}

{%- style -%}
  {{ heading_font | font_face: font_display: 'swap' }}

  .section-{{ section.id }} {
    border-top: solid {{ border_color }} {{ border_thickness }}px;
    border-bottom: solid {{ border_color }} {{ border_thickness }}px;
    margin-top: {{ margin_top | times: 0.75 | round: 0 }}px;
    margin-bottom: {{ margin_bottom | times: 0.75 | round: 0 }}px;
    margin-left: {{ margin_horizontal_mobile }}rem;
    margin-right: {{ margin_horizontal_mobile }}rem;
    border-radius: {{ section_radius | times: 0.6 | round: 0 }}px;
    overflow: hidden;
  }
  
  .section-{{ section.id }}-settings {
    margin: 0 auto;
    padding-top: {{ padding_top | times: 0.75 | round: 0 }}px;
    padding-bottom: {{ padding_bottom | times: 0.75 | round: 0 }}px;
    padding-left: {{ padding_horizontal_mobile }}rem;
    padding-right: {{ padding_horizontal_mobile }}rem;
  }

  .video-social-slider-{{ section.id }} {
    position: relative !important;
    margin-left: -{{ padding_horizontal_mobile }}rem !important;
    margin-right: -{{ padding_horizontal_mobile }}rem !important;
    padding-left: {{ padding_horizontal_mobile }}rem !important;
    padding-right: {{ padding_horizontal_mobile }}rem !important;
    padding-bottom: 40px !important;
  }

  .video-social-video-{{ section.id }} {
    position: relative !important;
    z-index: 2 !important;   
    transition: all 0.25s ease 0s;
    position: relative;
    border: {{ video_border_thickness }}px solid {{ video_border_color }};
    border-radius: {{ video_radius }}px;
    overflow: hidden;
    box-sizing: border-box !important;
  }

  .video-social-video-{{ section.id }}:nth-child(even) {
    transform: translateY(40px) !important;
  }

  .video-social-video-{{ section.id }} video,
  .video-social-video-{{ section.id }} iframe {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover;
    margin: 0;
    border: 0;
    box-shadow: 0;
  }

  .video-social-video-{{ section.id }}:after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }

  .video-social-actions-{{ section.id }} {
    display: flex;
    align-items: center;
    gap: 10px;
    position: absolute;
    bottom: 10px;
    right: 10px;
    z-index: 2;
  }
  
  .video-social-icon-{{ section.id }},
  .video-social-action-{{ section.id }} {
    width: {{ icon_size_mobile }}px;
    height: {{ icon_size_mobile }}px;  
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    background-color: {{ icon_bg_color }};
    border: {{ icon_border_thickness }}px solid {{ icon_border_color }};
    padding: {{ icon_size_mobile | times: 0.2 }}px;
    transition: all 0.25s ease 0s;
    box-sizing: border-box;
    cursor: pointer;
  }

  .video-social-icon-{{ section.id }} img,
  .video-social-icon-{{ section.id }} svg,
  .video-social-action-{{ section.id }} svg {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .video-social-icon-{{ section.id }} svg path {
    fill: {{ icon_color }};
    transition: all 0.25s ease 0s;
  } 

  .video-social-action-{{ section.id }} svg path:last-child {
    fill: {{ icon_color }};
    transition: all 0.25s ease 0s;
  }

  .video-social-action-{{ section.id }} .video-social-unmute-{{ section.id }} {
    display: none;
  }

  .video-social-action-{{ section.id }}.active .video-social-unmute-{{ section.id }} {
    display: block;
  }

  .video-social-action-{{ section.id }}.active .video-social-mute-{{ section.id }} {
    display: none;
  }

  .video-social-heading-{{ section.id }} {
    text-align: {{ heading_align_mobile }};
    margin-top: {{ heading_mt_mobile }}px;
  }

  .video-social-heading-{{ section.id }} > * {
    margin: 0px;
    display: inline-block;
    font-size: {{ heading_size_mobile }}px;
    color: {{ heading_color }};
    line-height: {{ heading_height }}%;
    text-transform: unset;
    text-decoration: none;
    word-break: break-word;
    font-weight: 700;
  }

  .video-social-heading-{{ section.id }} > *:not(:last-child) {
    margin-right: 16px;
  }
  
  .video-social-heading-icon-{{ section.id }} svg {
    width: {{ heading_icon_size_mobile }}px;
  }

  .video-social-heading-icon-{{ section.id }} svg path {
    fill: {{ heading_icon_color }};
    transition: all 0.25s ease 0s;
  }

  .video-social-slider-{{ section.id }}:hover .video-social-btn-prev-{{ section.id }},
  .video-social-slider-{{ section.id }}:hover .video-social-btn-next-{{ section.id }} {
    opacity: 1;
    transition: all 0.25s ease 0s;
  }

  .video-social-slider-{{ section.id }}:hover .video-social-btn-prev-{{ section.id }}.swiper-button-disabled,
  .video-social-slider-{{ section.id }}:hover .video-social-btn-next-{{ section.id }}.swiper-button-disabled {
    opacity: 0.5;
  }
  
  .video-social-btn-prev-{{ section.id }},
  .video-social-btn-next-{{ section.id }} {
    position: absolute;
    top: 50%;
    z-index: 2;
    transform: translateY(-50%);
    display: flex;
    flex-shrink: 0;
    padding: 0;
    width: {{ arrow_size_mobile }}px;
    height: {{ arrow_size_mobile }}px;
    border: 0px;
    border: {{ arrow_border_thickness }}px solid {{ arrow_border_color }};
    border-radius: {{ arrow_radius }}px;
    background: transparent;
    background: {{ arrow_bg_color }};
    align-items: center;
    justify-content: center;
    transition: all 0.25s ease 0s;
    cursor: pointer;
    -webkit-appearance: none;
    opacity: 0;
  }

  .video-social-btn-prev-{{ section.id }} {
    left: 15px;
  }

  .video-social-btn-next-{{ section.id }} {
    right: 15px;
  }

  .video-social-btn-prev-{{ section.id }} .animate-icon,
  .video-social-btn-next-{{ section.id }} .animate-icon {
    pointer-events: none;
    place-items: center;
    display: grid;
  }

  .video-social-btn-prev-{{ section.id }} .animate-icon:before,
  .video-social-btn-next-{{ section.id }} .animate-icon:before {
    content: "";
    grid-area: 1 / -1;
    transition: all .2s ease;
    width: {{ arrow_icon_size_mobile }}px;
    height: {{ arrow_icon_size_mobile }}px;
    transform: rotate(calc(1 * 45deg));
    box-sizing: border-box;
    border-style: solid;
    border: 0px;
    border-right: 2px solid currentColor;
    border-top: 2px solid currentColor;
    position: relative;
    left: -2px;
  }

  .video-social-btn-prev-{{ section.id }} .animate-icon:before {
    left: unset;
    right: -2px;
    border-right: 0px;
    border-top: 0px;
    border-bottom: 2px solid currentColor;
    border-left: 2px solid currentColor;
  }

  .video-social-btn-prev-{{ section.id }} .animate-icon:after,
  .video-social-btn-next-{{ section.id }} .animate-icon:after {
    content: "";
    grid-area: 1 / -1;
    transition: all .2s ease;
    width: {{ arrow_icon_size_mobile | minus: 0.3 }}px;
    height: 1.6px;
    transform-origin: center;
    opacity: 0;
    background: currentColor;
    transform: scaleX(.5);
  }

  .video-social-btn-prev-{{ section.id }} span,
  .video-social-btn-next-{{ section.id }} span {
    color: {{ arrow_color }};
  }

  .video-social-btn-prev-{{ section.id }}.swiper-button-disabled,
  .video-social-btn-next-{{ section.id }}.swiper-button-disabled {
    opacity: 0;
  }

  .video-social-btn-prev-{{ section.id }}.swiper-button-lock,
  .video-social-btn-next-{{ section.id }}.swiper-button-lock {
    opacity: 0;
    pointer-events: none;
  }

  @media(min-width: 1024px) {

    .section-{{ section.id }} {
      margin-top: {{ margin_top }}px;
      margin-bottom: {{ margin_bottom }}px;
      margin-left: {{ margin_horizontal }}rem;
      margin-right: {{ margin_horizontal }}rem;
      border-radius: {{ section_radius }}px;
    }
    
    .section-{{ section.id }}-settings {
      padding: 0 5rem;
      padding-top: {{ padding_top }}px;
      padding-bottom: {{ padding_bottom }}px;
      padding-left: {{ padding_horizontal }}rem;
      padding-right: {{ padding_horizontal }}rem;
    }

    .video-social-slider-{{ section.id }} {
      margin-left: -{{ padding_horizontal }}rem !important;
      margin-right: -{{ padding_horizontal }}rem !important;
      padding-left: {{ padding_horizontal }}rem !important;
      padding-right: {{ padding_horizontal }}rem !important;
    }

    .video-social-icon-{{ section.id }},
    .video-social-action-{{ section.id }} {
      width: {{ icon_size }}px;
      height: {{ icon_size }}px;  
      padding: {{ icon_size | times: 0.2 }}px;
    }

    .video-social-icon-{{ section.id }}:hover,
    .video-social-action-{{ section.id }}:hover {
      background-color: {{ icon_bg_hover_color }};
      border-color: {{ icon_border_hover_color }};
      transition: all 0.25s ease 0s;
    }

    .video-social-icon-{{ section.id }}:hover svg path {
      fill: {{ icon_hover_color }};
      transition: all 0.25s ease 0s;
    }

     .video-social-action-{{ section.id }}:hover svg path:last-child {
      fill: {{ icon_hover_color }};
      transition: all 0.25s ease 0s;
    }

    .video-social-heading-{{ section.id }} {
      text-align: {{ heading_align }};
      margin-top: {{ heading_mt }}px;
    }
  
    .video-social-heading-{{ section.id }} * {
      font-size: {{ heading_size }}px;
    }

    .video-social-heading-icon-{{ section.id }} svg {
      width: {{ heading_icon_size }}px;
    }
  
    .video-social-heading-icon-{{ section.id }}:hover svg path {
      fill: {{ heading_icon_hover_color }};
      transition: all 0.25s ease 0s;
    }

    .video-social-btn-prev-{{ section.id }},
    .video-social-btn-next-{{ section.id }} {
      width: {{ arrow_size }}px;
      height: {{ arrow_size }}px;
    }

    .video-social-btn-prev-{{ section.id }} .animate-icon:before,
    .video-social-btn-next-{{ section.id }} .animate-icon:before {
      width: {{ arrow_icon_size }}px;
      height: {{ arrow_icon_size }}px;
    }

    .video-social-btn-prev-{{ section.id }} .animate-icon:after,
    .video-social-btn-next-{{ section.id }} .animate-icon:after {
      width: {{ arrow_icon_size | minus: 0.3 }}px;
    }
  }
  
{%- endstyle -%}

{% unless full_width %}
  <style>
    .section-{{ section.id }}-settings {
      max-width: {{ content_width }}px;
    }
  </style>
{% endunless %}

{% if margin_horizontal_mobile > 0 %}
  <style>
    .section-{{ section.id }} {
      border-left: solid {{ border_color }} {{ border_thickness }}px;
      border-right: solid {{ border_color }} {{ border_thickness }}px;
    }
    
    @media(min-width: 1024px) {
      .section-{{ section.id }} {
        border-left: 0px;
        border-right: 0px;
      }
    }
  </style>
{% endif %}

{% if margin_horizontal > 0 %}
  <style>
    @media(min-width: 1024px) {
      .section-{{ section.id }} {
        border-left: solid {{ border_color }} {{ border_thickness }}px;
        border-right: solid {{ border_color }} {{ border_thickness }}px;
      }
    }
  </style>
{% endif %}

{% if heading_custom %}
  <style>
    .video-social-heading-{{ section.id }} * {
      font-family: {{ heading_font.family }}, {{ heading_font.fallback_families }};
      font-weight: {{ heading_font.weight }};
      font-style: {{ heading_font.style }};
    }
  </style>
{% endif %}

{% if video_ratio_mobile == "portrait" %}
  <style>
    .video-social-video-{{ section.id }} {
      aspect-ratio: 9.6/13;
    }
  </style>
{% elsif video_ratio_mobile == "landscape" %}
  <style>
  .video-social-video-{{ section.id }} {
    aspect-ratio: 12/8;
  }
  </style>
{% elsif video_ratio_mobile == "square" %}
  <style>
    .video-social-video-{{ section.id }} {
      aspect-ratio: 12/12;
    }
  </style>
{% else %}
  <style>
    .video-social-video-{{ section.id }} {
      aspect-ratio: auto;
    }
  </style>
{% endif %}

{% if video_ratio == "portrait" %}
  <style>
    @media (min-width: 1024px) {
      .video-social-video-{{ section.id }} {
        aspect-ratio: 9.6/13;
      }
    }
  </style>
{% elsif video_ratio == "landscape" %}
  <style>
    @media (min-width: 1024px) {
      .video-social-video-{{ section.id }} {
        aspect-ratio: 12/8;
      }
    }
  </style>
{% elsif video_ratio == "square" %}
  <style>
    @media (min-width: 1024px) {
      .video-social-video-{{ section.id }} {
        aspect-ratio: 12/12;
      }
    }
  </style>
{% else %}
  <style>
    @media (min-width: 1024px) {
      .video-social-video-{{ section.id }} {
        aspect-ratio: auto;
      }
    }
  </style>
{% endif %}

{% if use_shadow %} 
  <style>

    .video-social-slider-{{ section.id }} {
      padding-top: 10px !important;
      padding-bottom: 50px !important;
    }
    
    .video-social-video-{{ section.id }} {
      box-shadow: 0 0 #0000, 0 0 #0000, 0 0 8px #0000001a;
      box-shadow: 0 0 rgba(0, 0, 0, 0), 0 0 rgba(0, 0, 0, 0), 0 0 rgba(0, 0, 0, 0), 0 0 rgba(0, 0, 0, 0), 0px 0px 8px rgba(0, 0, 0, .1);
    }
  </style>
{% endif %}

{% if icon_use_hover %}
   <style>
    .video-social-icon-{{ section.id }},
    .video-social-action-{{ section.id }} {
      box-shadow: 2px 2px 0px 0px {{ icon_border_color }};
      transform: translateX(-2px) translateY(-2px);
    }

   @media(min-width: 1024px) {
     .video-social-icon-{{ section.id }}:hover,
     .video-social-action-{{ section.id }}:hover {
      box-shadow: none;
       transform: translateX(0px) translateY(0px);
    }
   }
  </style>
{% endif %}

{% if arrow_hover_effect == "color" %}
  <style>
    .video-social-btn-prev-{{ section.id }}:hover,
    .video-social-btn-next-{{ section.id }}:hover {
      transition: all 0.3s ease 0s;
      border: {{ arrow_border_thickness }}px solid {{ arrow_border_hover_color }};
      background: {{ arrow_bg_hover_color }};
    }
  
    .video-social-btn-prev-{{ section.id }}:hover .animate-icon,
    .video-social-btn-next-{{ section.id }}:hover .animate-icon {
      color: {{ arrow_hover_color }};
    }
  </style>
{% elsif arrow_hover_effect == "scale" %}
  <style>
    .video-social-btn-prev-{{ section.id }}:hover,
    .video-social-btn-next-{{ section.id }}:hover {
      transform: scale(0.9) translateY(-50%);
    }

    @media(min-width: 1024px) {
      .video-social-btn-prev-{{ section.id }}:hover,
      .video-social-btn-next-{{ section.id }}:hover {
        transform: scale(0.9) translateY(-50%);
      }
    }
  </style>
{% elsif arrow_hover_effect == "arrow" %}
  <style>
    .video-social-btn-next-{{ section.id }}:hover .animate-icon:before {
      transform: translate(calc(1 * 0.125rem)) rotate(calc(1 * 45deg));
    }
  
    .video-social-btn-prev-{{ section.id }}:hover .animate-icon:before {
      transform: translate(calc(-1 * 0.125rem)) rotate(calc(1 * 45deg));
    }
    
    .video-social-btn-prev-{{ section.id }}:hover .animate-icon:after,
    .video-social-btn-next-{{ section.id }}:hover .animate-icon:after {
      opacity: 1;
      transform: scaleX(1);
    }
  </style>
{% endif %}

{% if arrow_shadow %}
  <style>
    .video-social-btn-next-{{ section.id }},
    .video-social-btn-prev-{{ section.id }} {
      box-shadow: 0px 0px 8px rgba(0, 0, 0, .1); 
    }
  </style>
{% endif %}

{% if arrow_show_mobile %}
  <style>
    .video-social-btn-prev-{{ section.id }},
    .video-social-btn-next-{{ section.id }} {
      display: flex;
    }
  </style>
{% else %}
  <style>
    .video-social-btn-prev-{{ section.id }},
    .video-social-btn-next-{{ section.id }} {
      display: none;
    }
  </style>
{% endif %}

{% if arrow_show_desktop %}
  <style>
    @media(min-width: 1024px) {
      .video-social-btn-prev-{{ section.id }},
      .video-social-btn-next-{{ section.id }} {
        display: flex;
      }
    }
  </style>
{% else %}
  <style>
    @media(min-width: 1024px) {
      .video-social-btn-prev-{{ section.id }},
      .video-social-btn-next-{{ section.id }} {
        display: none;
      }
    }
  </style>
{% endif %}

{% comment %} PREVIEW {% endcomment %}
<style>
  .video-social-slider-{{ section.id }}.preview .swiper-wrapper {
    display: flex;
    align-items: center;
    justify-content: space-between;
    overflow: hidden;
    padding-bottom: 40px;
  }

  .video-social-slider-{{ section.id }}.preview .video-social-video-{{ section.id }} {
    width: 100%;
  }

  .video-social-slider-{{ section.id }}.preview .video-social-video-{{ section.id }}:not(:first-child) {
    margin-left: {{ slider_gap_mobile }}px;
  } 

  @media(min-width: 1024px) {
    .video-social-slider-{{ section.id }}.preview .video-social-video-{{ section.id }}:not(:first-child) {
      margin-left: {{ slider_gap }}px;
    } 

    .video-social-slider-{{ section.id }}.preview .video-social-video-{{ section.id }} {
      width: calc(100% / {{ slider_view }} - ({{ slider_gap }}px));
    }
  }
</style>

<div class="section-{{ section.id }} video-social-{{ section.id }}" style="background-color:{{ background_color }}; background-image: {{ background_gradient }};">
    <div class="section-{{ section.id }}-settings">      
      <div class="video-social-slider-{{ section.id }} preview swiper"
        data-gap="{{ slider_gap }}"
        data-gap-mobile="{{ slider_gap_mobile }}"
        data-view="{{ slider_view }}"
        data-view-mobile="{{ slider_view_mobile }}">
        <div class="swiper-wrapper">
          {% for item in (1..3) %}
            {% for block in section.blocks %}           
              <{% if block.settings.custom_icon == blank and block.settings.icon == "none" and block.settings.url != blank %}a href="{{ block.settings.url }}"{% else %}div{% endif %} class="video-social-video-{{ section.id }} swiper-slide">                
                {% assign video_id = block.settings.video_url.id %}
                {% assign loop = '&loop=1&playlist=' | append: video_id %}
                {%- if block.settings.video_url != null -%}                    
                  {%- if block.settings.video_url.type == 'youtube' -%}
                  <iframe
                    {% if lazy %}data-{% endif %}src="https://www.youtube.com/embed/{{ video_id }}?enablejsapi=1&mute=1&autoplay=1&controls=0&showinfo=0{{ loop }}"
                    data-src1="https://www.youtube.com/embed/{{ video_id }}?enablejsapi=1&mute=1&autoplay=1&controls=0&showinfo=0{{ loop }}"
                    data-src2="https://www.youtube.com/embed/{{ video_id }}?enablejsapi=1&mute=1&autoplay=0&controls=0&showinfo=0{{ loop }}"
                    allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
                    allowfullscreen
                    class="lazy"
                  ></iframe>
                  {%- else -%}
                  <iframe
                    {% if lazy %}data-{% endif %}src="https://player.vimeo.com/video/{{ video_id }}?enablejsapi=1&mute=1&muted=1&autoplay=1&controls=0&showinfo=0{{ loop }}"
                    data-src1="https://player.vimeo.com/video/{{ video_id }}?enablejsapi=1&mute=1&muted=1&autoplay=1&controls=0&showinfo=0{{ loop }}"
                    data-src2="https://player.vimeo.com/video/{{ video_id }}?enablejsapi=1&mute=1&muted=1&autoplay=0&controls=0&showinfo=0{{ loop }}"
                    allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
                    allowfullscreen
                    class="lazy"
                  ></iframe>
                {% endif %}     
                  
                {% else %}   
                  {% assign placeholder_video = 'https://cdn.shopify.com/videos/c/o/v/fbb140fd46e3429eba459e1549dbbe38.mp4' %}
                  
                  <video {% if lazy %}data-{% endif %}src="{% if block.settings.video != blank %}{{ block.settings.video.sources[1].url }}{% else %}{{ placeholder_video }}{% endif %}" autoplay muted playsinline preload="none" loop class="lazy" disablepictureinpicture></video>                              
                {% endif %}

                <div class="video-social-actions-{{ section.id }}">
                  {% if block.settings.custom_icon != blank or block.settings.icon != "none" %}
                    <{% if block.settings.url != blank %}a href="{{ block.settings.url }}"{% else %}div{% endif %} class="video-social-icon-{{ section.id }}">
                      {% if block.settings.custom_icon != blank %}
                        <img src="{{ block.settings.custom_icon | img_url: "150x150" }}" alt="{{ block.settings.custom_icon.alt }}" {% if lazy %}loading="lazy"{% endif %}>
                      {% else %}
                        {% if block.settings.icon == "instagram" %}
                          <svg viewBox="0 0 20 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M5.85848 0.383659C4.79447 0.433859 4.06786 0.603659 3.43265 0.85326C2.77524 1.10946 2.21804 1.45326 1.66363 2.00966C1.10923 2.56607 0.767824 3.12367 0.513421 3.78207C0.267219 4.41867 0.100417 5.14587 0.0534168 6.21048C0.00641628 7.27508 -0.00398383 7.61728 0.00121623 10.3329C0.00641628 13.0485 0.0184164 13.3889 0.0700169 14.4557C0.120817 15.5195 0.290019 16.2459 0.539622 16.8813C0.796224 17.5387 1.13963 18.0957 1.69623 18.6503C2.25284 19.2049 2.81004 19.5455 3.47005 19.8003C4.10606 20.0461 4.83347 20.2137 5.89788 20.2603C6.96229 20.3069 7.30489 20.3177 10.0197 20.3125C12.7345 20.3073 13.0763 20.2953 14.143 20.2447C15.2096 20.1941 15.9322 20.0237 16.5678 19.7753C17.2252 19.5181 17.7826 19.1753 18.3368 18.6185C18.891 18.0617 19.2322 17.5037 19.4864 16.8449C19.7328 16.2089 19.9002 15.4815 19.9464 14.4179C19.993 13.3505 20.004 13.0097 19.9988 10.2945C19.9936 7.57928 19.9814 7.23888 19.9308 6.17248C19.8802 5.10607 19.7108 4.38187 19.4614 3.74607C19.2044 3.08867 18.8614 2.53207 18.305 1.97706C17.7486 1.42206 17.1902 1.08106 16.5316 0.82746C15.8952 0.581259 15.1682 0.413459 14.1038 0.367458C13.0393 0.321458 12.6967 0.309658 9.98092 0.314858C7.26509 0.320058 6.92509 0.331658 5.85848 0.383659ZM5.97528 18.4613C5.00027 18.4189 4.47086 18.2569 4.11806 18.1213C3.65085 17.9413 3.31805 17.7237 2.96645 17.3755C2.61484 17.0273 2.39884 16.6933 2.21644 16.2271C2.07944 15.8743 1.91444 15.3455 1.86884 14.3705C1.81923 13.3167 1.80883 13.0003 1.80303 10.3305C1.79723 7.66068 1.80743 7.34468 1.85363 6.29048C1.89524 5.31628 2.05824 4.78627 2.19364 4.43367C2.37364 3.96587 2.59044 3.63367 2.93945 3.28227C3.28845 2.93087 3.62145 2.71447 4.08806 2.53207C4.44046 2.39447 4.96927 2.23086 5.94388 2.18446C6.99849 2.13446 7.31449 2.12446 9.98392 2.11866C12.6533 2.11286 12.9701 2.12286 14.0252 2.16926C14.9994 2.21166 15.5296 2.37307 15.8818 2.50927C16.3492 2.68927 16.6818 2.90547 17.0332 3.25507C17.3846 3.60467 17.6012 3.93647 17.7836 4.40407C17.9214 4.75547 18.085 5.28408 18.131 6.25928C18.1812 7.31388 18.1926 7.63008 18.1974 10.2993C18.2022 12.9685 18.1928 13.2855 18.1466 14.3393C18.104 15.3143 17.9424 15.8439 17.8066 16.1971C17.6266 16.6641 17.4096 16.9971 17.0604 17.3483C16.7112 17.6995 16.3786 17.9159 15.9118 18.0983C15.5598 18.2357 15.0304 18.3997 14.0566 18.4461C13.0019 18.4957 12.6859 18.5061 10.0155 18.5119C7.34509 18.5177 7.02989 18.5069 5.97528 18.4613ZM14.1276 4.96907C14.128 5.20643 14.1987 5.43834 14.3309 5.63546C14.4631 5.83259 14.6508 5.98609 14.8703 6.07653C15.0897 6.16698 15.3311 6.19032 15.5638 6.1436C15.7965 6.09687 16.0101 5.98219 16.1777 5.81405C16.3452 5.6459 16.4591 5.43186 16.505 5.19897C16.5508 4.96609 16.5266 4.72484 16.4354 4.50573C16.3441 4.28661 16.1899 4.09948 15.9923 3.968C15.7947 3.83652 15.5625 3.7666 15.3252 3.76707C15.007 3.76771 14.7021 3.89469 14.4775 4.1201C14.2529 4.34551 14.127 4.65088 14.1276 4.96907ZM4.86547 10.3237C4.87107 13.1597 7.17429 15.4535 10.0097 15.4481C12.8451 15.4427 15.1406 13.1397 15.1352 10.3037C15.1298 7.46768 12.8259 5.17327 9.99012 5.17887C7.15429 5.18447 4.86007 7.48808 4.86547 10.3237ZM6.66668 10.3201C6.66538 9.66081 6.85961 9.01594 7.2248 8.46704C7.59 7.91814 8.10976 7.48986 8.71837 7.23636C9.32697 6.98286 9.99708 6.91552 10.644 7.04286C11.2908 7.1702 11.8854 7.4865 12.3525 7.95176C12.8196 8.41702 13.1383 9.01035 13.2682 9.65671C13.3981 10.3031 13.3334 10.9734 13.0823 11.583C12.8312 12.1926 12.405 12.7141 11.8576 13.0815C11.3101 13.4488 10.666 13.6456 10.0067 13.6469C9.56895 13.6478 9.13529 13.5625 8.7305 13.3958C8.32572 13.2291 7.95773 12.9843 7.64757 12.6754C7.33741 12.3664 7.09115 11.9994 6.92284 11.5953C6.75454 11.1912 6.6675 10.7579 6.66668 10.3201Z" fill="currentColor"></path>
                          </svg>
                        {% elsif block.settings.icon == "tiktok" %}
                          <svg  viewBox="0 0 20 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M17.51 4.8045C17.3542 4.73119 17.2026 4.65083 17.0557 4.56372C16.6287 4.30682 16.2372 4.00414 15.8896 3.66221C15.0189 2.75602 14.6938 1.83678 14.5748 1.19377H14.5789C14.4795 0.659022 14.5205 0.313721 14.5277 0.313721H10.5639V14.2592C10.5639 14.4459 10.5639 14.6316 10.5557 14.8145C10.5557 14.8369 10.5526 14.8574 10.5516 14.8826C10.5516 14.892 10.5516 14.9032 10.5485 14.9134V14.9218C10.5069 15.4221 10.3308 15.9053 10.0358 16.3291C9.74068 16.7528 9.33568 17.1041 8.85639 17.352C8.35636 17.6109 7.7908 17.7466 7.21551 17.7458C5.36952 17.7458 3.87222 16.3758 3.87222 14.6838C3.87222 12.9909 5.36952 11.6209 7.21551 11.6209C7.56522 11.6209 7.91288 11.6713 8.24516 11.7702L8.25029 8.09699C7.24116 7.97852 6.21601 8.0517 5.23952 8.31191C4.26304 8.57213 3.35645 9.01373 2.57696 9.60885C1.89379 10.1488 1.31941 10.793 0.879674 11.5127C0.712509 11.7749 0.0807715 12.8304 0.00488093 14.542C-0.0433198 15.5126 0.277677 16.5205 0.430484 16.9358V16.9451C0.52586 17.1896 0.899159 18.0258 1.50628 18.7304C1.99588 19.2959 2.57434 19.7928 3.22305 20.2049V20.1956L3.23228 20.2049C5.15006 21.3901 7.27807 21.3127 7.27807 21.3127C7.64624 21.2987 8.87998 21.3127 10.2809 20.7089C11.8346 20.0388 12.7186 19.0412 12.7186 19.0412C13.2838 18.4449 13.7333 17.7655 14.0477 17.0319C14.4067 16.1733 14.5256 15.1449 14.5256 14.7342V7.33453C14.5738 7.36066 15.2148 7.74609 15.2148 7.74609C15.2148 7.74609 16.1378 8.28457 17.5766 8.63454C18.6083 8.88372 20 8.93691 20 8.93691V5.35605C19.5129 5.40458 18.5232 5.26459 17.5089 4.80543L17.51 4.8045Z" fill="currentColor"></path>
                          </svg>
                        {% elsif block.settings.icon == "youtube" %}
                          <svg enable-background="new 0 0 24 24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 21.3753C8.94622 21.3753 6.26624 21.1757 4.55571 21.0083C2.39029 20.7964 0.665086 19.1449 0.360247 16.9925C-0.120098 13.5832 -0.120098 10.4168 0.360247 7.00749C0.665086 4.85506 2.39029 3.20364 4.55571 2.99171C6.26619 2.82426 8.94622 2.62466 12 2.62466C15.0538 2.62466 17.7338 2.82426 19.4443 2.99171C21.6097 3.20364 23.3349 4.85506 23.6398 7.00754C24.1201 10.4168 24.1201 13.5832 23.6398 16.9925C23.3349 19.1449 21.6097 20.7964 19.4443 21.0083C17.7338 21.1757 15.0538 21.3753 12 21.3753ZM12 4.49973C9.02193 4.49973 6.40733 4.69446 4.73839 4.85791C3.43681 4.98533 2.39994 5.97738 2.21684 7.27042C1.98977 8.87379 1.87464 10.465 1.87464 12C1.87464 13.5351 1.98977 15.1262 2.21684 16.7296C2.39994 18.0227 3.43681 19.0148 4.73839 19.1422C6.40738 19.3056 9.02193 19.5004 12 19.5004C14.9781 19.5004 17.5927 19.3056 19.2616 19.1422C20.5632 19.0148 21.6001 18.0227 21.7832 16.7297C22.0102 15.1263 22.1254 13.5351 22.1254 12C22.1254 10.465 22.0102 8.87384 21.7832 7.27047C21.6001 5.97738 20.5632 4.98533 19.2616 4.85791C17.5927 4.69446 14.9781 4.49973 12 4.49973ZM10.7839 16.4437C9.5304 16.4608 8.40803 15.3738 8.43737 14.1055V9.87109C8.43737 9.02309 8.87909 8.26561 9.61899 7.84485C10.3647 7.42071 11.2501 7.42943 11.9872 7.86791L15.5458 9.98509C17.06 10.8539 17.0596 13.1229 15.5458 13.9914L11.9872 16.1086C11.6119 16.3319 11.198 16.4437 10.7839 16.4437ZM10.7861 9.4102C10.6767 9.4102 10.5897 9.44995 10.5459 9.47484C10.4587 9.52444 10.3125 9.64182 10.3125 9.87109V14.1055C10.3125 14.3348 10.4587 14.4522 10.5459 14.5017C10.6189 14.5432 10.812 14.626 11.0285 14.4971L14.5871 12.3799C14.89 12.1991 14.8905 11.7778 14.5871 11.5966L11.0285 9.47939C10.9419 9.42787 10.859 9.4102 10.7861 9.4102Z"/>
                          </svg>
                        {% elsif block.settings.icon == "facebook" %}
                          <svg enable-background="new 0 0 24 24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="m15.997 3.985h2.191v-3.816c-.378-.052-1.678-.169-3.192-.169-3.159 0-5.323 1.987-5.323 5.639v3.361h-3.486v4.266h3.486v10.734h4.274v-10.733h3.345l.531-4.266h-3.877v-2.939c.001-1.233.333-2.077 2.051-2.077z"></path>
                          </svg>
                        {% elsif block.settings.icon == "pinterest" %}
                          <svg enable-background="new 0 0 24 24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="m12.326 0c-6.579.001-10.076 4.216-10.076 8.812 0 2.131 1.191 4.79 3.098 5.633.544.245.472-.054.94-1.844.037-.149.018-.278-.102-.417-2.726-3.153-.532-9.635 5.751-9.635 9.093 0 7.394 12.582 1.582 12.582-1.498 0-2.614-1.176-2.261-2.631.428-1.733 1.266-3.596 1.266-4.845 0-3.148-4.69-2.681-4.69 1.49 0 1.289.456 2.159.456 2.159s-1.509 6.096-1.789 7.235c-.474 1.928.064 5.049.111 5.318.029.148.195.195.288.073.149-.195 1.973-2.797 2.484-4.678.186-.685.949-3.465.949-3.465.503.908 1.953 1.668 3.498 1.668 4.596 0 7.918-4.04 7.918-9.053-.016-4.806-4.129-8.402-9.423-8.402z"></path>
                          </svg>
                        {% endif %}
                      {% endif %}
                    </{% if block.settings.url != blank %}a{% else %}div{% endif %}>
                  {% endif %}
                  {% if use_sound and block.settings.video_url == null %}
                    <div class="video-social-action-{{ section.id }}">
                      <svg class="video-social-mute-{{ section.id }}" viewBox="0 0 24 24" width="24" height="24">
                        <path fill="none" d="M0 0h24v24H0z"></path><path d="M5.889 16H2a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h3.889l5.294-4.332a.5.5 0 0 1 .817.387v15.89a.5.5 0 0 1-.817.387L5.89 16zm14.525-4l3.536 3.536-1.414 1.414L19 13.414l-3.536 3.536-1.414-1.414L17.586 12 14.05 8.464l1.414-1.414L19 10.586l3.536-3.536 1.414 1.414L20.414 12z"></path>
                      </svg>
                      <svg class="video-social-unmute-{{ section.id }}" viewBox="0 0 24 24" width="24" height="24">
                        <path fill="none" d="M0 0h24v24H0z"></path><path d="M5.889 16H2a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h3.889l5.294-4.332a.5.5 0 0 1 .817.387v15.89a.5.5 0 0 1-.817.387L5.89 16zm13.517 4.134l-1.416-1.416A8.978 8.978 0 0 0 21 12a8.982 8.982 0 0 0-3.304-6.968l1.42-1.42A10.976 10.976 0 0 1 23 12c0 3.223-1.386 6.122-3.594 8.134zm-3.543-3.543l-1.422-1.422A3.993 3.993 0 0 0 16 12c0-1.43-.75-2.685-1.88-3.392l1.439-1.439A5.991 5.991 0 0 1 18 12c0 1.842-.83 3.49-2.137 4.591z"></path>
                      </svg>
                    </div>
                  {% endif %}
                </div>
              </{% if block.settings.custom_icon == blank and block.settings.icon == "none" and block.settings.url != blank %}a{% else %}div{% endif %}>          
            {% endfor %} 
          {% endfor %}
        </div>   
        <button class="video-social-btn-prev-{{ section.id }}">
          <span class="animate-icon"></span>
        </button>  
        <button class="video-social-btn-next-{{ section.id }}">
          <span class="animate-icon"></span>
        </button>            
      </div>    

      <div class="video-social-heading-{{ section.id }}">
        {% if heading != blank %}
          <p>{{ heading }}</p>
        {% endif %}   
        {% if heading_tiktok_link != blank %}
          <a href="{{ heading_tiktok_link }}" class="video-social-heading-icon-{{ section.id }}">
            <svg viewBox="0 0 20 22" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M17.51 4.8045C17.3542 4.73119 17.2026 4.65083 17.0557 4.56372C16.6287 4.30682 16.2372 4.00414 15.8896 3.66221C15.0189 2.75602 14.6938 1.83678 14.5748 1.19377H14.5789C14.4795 0.659022 14.5205 0.313721 14.5277 0.313721H10.5639V14.2592C10.5639 14.4459 10.5639 14.6316 10.5557 14.8145C10.5557 14.8369 10.5526 14.8574 10.5516 14.8826C10.5516 14.892 10.5516 14.9032 10.5485 14.9134V14.9218C10.5069 15.4221 10.3308 15.9053 10.0358 16.3291C9.74068 16.7528 9.33568 17.1041 8.85639 17.352C8.35636 17.6109 7.7908 17.7466 7.21551 17.7458C5.36952 17.7458 3.87222 16.3758 3.87222 14.6838C3.87222 12.9909 5.36952 11.6209 7.21551 11.6209C7.56522 11.6209 7.91288 11.6713 8.24516 11.7702L8.25029 8.09699C7.24116 7.97852 6.21601 8.0517 5.23952 8.31191C4.26304 8.57213 3.35645 9.01373 2.57696 9.60885C1.89379 10.1488 1.31941 10.793 0.879674 11.5127C0.712509 11.7749 0.0807715 12.8304 0.00488093 14.542C-0.0433198 15.5126 0.277677 16.5205 0.430484 16.9358V16.9451C0.52586 17.1896 0.899159 18.0258 1.50628 18.7304C1.99588 19.2959 2.57434 19.7928 3.22305 20.2049V20.1956L3.23228 20.2049C5.15006 21.3901 7.27807 21.3127 7.27807 21.3127C7.64624 21.2987 8.87998 21.3127 10.2809 20.7089C11.8346 20.0388 12.7186 19.0412 12.7186 19.0412C13.2838 18.4449 13.7333 17.7655 14.0477 17.0319C14.4067 16.1733 14.5256 15.1449 14.5256 14.7342V7.33453C14.5738 7.36066 15.2148 7.74609 15.2148 7.74609C15.2148 7.74609 16.1378 8.28457 17.5766 8.63454C18.6083 8.88372 20 8.93691 20 8.93691V5.35605C19.5129 5.40458 18.5232 5.26459 17.5089 4.80543L17.51 4.8045Z" fill="currentColor"></path>
            </svg>
          </a>
        {% endif %}
        {% if heading_instagram_link != blank %}
          <a href="{{ heading_instagram_link }}" class="video-social-heading-icon-{{ section.id }}">
            <svg viewBox="0 0 20 21" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M5.85848 0.383659C4.79447 0.433859 4.06786 0.603659 3.43265 0.85326C2.77524 1.10946 2.21804 1.45326 1.66363 2.00966C1.10923 2.56607 0.767824 3.12367 0.513421 3.78207C0.267219 4.41867 0.100417 5.14587 0.0534168 6.21048C0.00641628 7.27508 -0.00398383 7.61728 0.00121623 10.3329C0.00641628 13.0485 0.0184164 13.3889 0.0700169 14.4557C0.120817 15.5195 0.290019 16.2459 0.539622 16.8813C0.796224 17.5387 1.13963 18.0957 1.69623 18.6503C2.25284 19.2049 2.81004 19.5455 3.47005 19.8003C4.10606 20.0461 4.83347 20.2137 5.89788 20.2603C6.96229 20.3069 7.30489 20.3177 10.0197 20.3125C12.7345 20.3073 13.0763 20.2953 14.143 20.2447C15.2096 20.1941 15.9322 20.0237 16.5678 19.7753C17.2252 19.5181 17.7826 19.1753 18.3368 18.6185C18.891 18.0617 19.2322 17.5037 19.4864 16.8449C19.7328 16.2089 19.9002 15.4815 19.9464 14.4179C19.993 13.3505 20.004 13.0097 19.9988 10.2945C19.9936 7.57928 19.9814 7.23888 19.9308 6.17248C19.8802 5.10607 19.7108 4.38187 19.4614 3.74607C19.2044 3.08867 18.8614 2.53207 18.305 1.97706C17.7486 1.42206 17.1902 1.08106 16.5316 0.82746C15.8952 0.581259 15.1682 0.413459 14.1038 0.367458C13.0393 0.321458 12.6967 0.309658 9.98092 0.314858C7.26509 0.320058 6.92509 0.331658 5.85848 0.383659ZM5.97528 18.4613C5.00027 18.4189 4.47086 18.2569 4.11806 18.1213C3.65085 17.9413 3.31805 17.7237 2.96645 17.3755C2.61484 17.0273 2.39884 16.6933 2.21644 16.2271C2.07944 15.8743 1.91444 15.3455 1.86884 14.3705C1.81923 13.3167 1.80883 13.0003 1.80303 10.3305C1.79723 7.66068 1.80743 7.34468 1.85363 6.29048C1.89524 5.31628 2.05824 4.78627 2.19364 4.43367C2.37364 3.96587 2.59044 3.63367 2.93945 3.28227C3.28845 2.93087 3.62145 2.71447 4.08806 2.53207C4.44046 2.39447 4.96927 2.23086 5.94388 2.18446C6.99849 2.13446 7.31449 2.12446 9.98392 2.11866C12.6533 2.11286 12.9701 2.12286 14.0252 2.16926C14.9994 2.21166 15.5296 2.37307 15.8818 2.50927C16.3492 2.68927 16.6818 2.90547 17.0332 3.25507C17.3846 3.60467 17.6012 3.93647 17.7836 4.40407C17.9214 4.75547 18.085 5.28408 18.131 6.25928C18.1812 7.31388 18.1926 7.63008 18.1974 10.2993C18.2022 12.9685 18.1928 13.2855 18.1466 14.3393C18.104 15.3143 17.9424 15.8439 17.8066 16.1971C17.6266 16.6641 17.4096 16.9971 17.0604 17.3483C16.7112 17.6995 16.3786 17.9159 15.9118 18.0983C15.5598 18.2357 15.0304 18.3997 14.0566 18.4461C13.0019 18.4957 12.6859 18.5061 10.0155 18.5119C7.34509 18.5177 7.02989 18.5069 5.97528 18.4613ZM14.1276 4.96907C14.128 5.20643 14.1987 5.43834 14.3309 5.63546C14.4631 5.83259 14.6508 5.98609 14.8703 6.07653C15.0897 6.16698 15.3311 6.19032 15.5638 6.1436C15.7965 6.09687 16.0101 5.98219 16.1777 5.81405C16.3452 5.6459 16.4591 5.43186 16.505 5.19897C16.5508 4.96609 16.5266 4.72484 16.4354 4.50573C16.3441 4.28661 16.1899 4.09948 15.9923 3.968C15.7947 3.83652 15.5625 3.7666 15.3252 3.76707C15.007 3.76771 14.7021 3.89469 14.4775 4.1201C14.2529 4.34551 14.127 4.65088 14.1276 4.96907ZM4.86547 10.3237C4.87107 13.1597 7.17429 15.4535 10.0097 15.4481C12.8451 15.4427 15.1406 13.1397 15.1352 10.3037C15.1298 7.46768 12.8259 5.17327 9.99012 5.17887C7.15429 5.18447 4.86007 7.48808 4.86547 10.3237ZM6.66668 10.3201C6.66538 9.66081 6.85961 9.01594 7.2248 8.46704C7.59 7.91814 8.10976 7.48986 8.71837 7.23636C9.32697 6.98286 9.99708 6.91552 10.644 7.04286C11.2908 7.1702 11.8854 7.4865 12.3525 7.95176C12.8196 8.41702 13.1383 9.01035 13.2682 9.65671C13.3981 10.3031 13.3334 10.9734 13.0823 11.583C12.8312 12.1926 12.405 12.7141 11.8576 13.0815C11.3101 13.4488 10.666 13.6456 10.0067 13.6469C9.56895 13.6478 9.13529 13.5625 8.7305 13.3958C8.32572 13.2291 7.95773 12.9843 7.64757 12.6754C7.33741 12.3664 7.09115 11.9994 6.92284 11.5953C6.75454 11.1912 6.6675 10.7579 6.66668 10.3201Z" fill="currentColor"></path>
            </svg>
          </a>
        {% endif %}
        {% if heading_facebook_link != blank %}
          <a href="{{ heading_facebook_link }}" class="video-social-heading-icon-{{ section.id }}">
            <svg enable-background="new 0 0 24 24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path d="m15.997 3.985h2.191v-3.816c-.378-.052-1.678-.169-3.192-.169-3.159 0-5.323 1.987-5.323 5.639v3.361h-3.486v4.266h3.486v10.734h4.274v-10.733h3.345l.531-4.266h-3.877v-2.939c.001-1.233.333-2.077 2.051-2.077z"></path>
            </svg>
          </a>
        {% endif %}
        {% if heading_youtube_link != blank %}
          <a href="{{ heading_youtube_link }}" class="video-social-heading-icon-{{ section.id }}">
            <svg enable-background="new 0 0 24 24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path d="M12 21.3753C8.94622 21.3753 6.26624 21.1757 4.55571 21.0083C2.39029 20.7964 0.665086 19.1449 0.360247 16.9925C-0.120098 13.5832 -0.120098 10.4168 0.360247 7.00749C0.665086 4.85506 2.39029 3.20364 4.55571 2.99171C6.26619 2.82426 8.94622 2.62466 12 2.62466C15.0538 2.62466 17.7338 2.82426 19.4443 2.99171C21.6097 3.20364 23.3349 4.85506 23.6398 7.00754C24.1201 10.4168 24.1201 13.5832 23.6398 16.9925C23.3349 19.1449 21.6097 20.7964 19.4443 21.0083C17.7338 21.1757 15.0538 21.3753 12 21.3753ZM12 4.49973C9.02193 4.49973 6.40733 4.69446 4.73839 4.85791C3.43681 4.98533 2.39994 5.97738 2.21684 7.27042C1.98977 8.87379 1.87464 10.465 1.87464 12C1.87464 13.5351 1.98977 15.1262 2.21684 16.7296C2.39994 18.0227 3.43681 19.0148 4.73839 19.1422C6.40738 19.3056 9.02193 19.5004 12 19.5004C14.9781 19.5004 17.5927 19.3056 19.2616 19.1422C20.5632 19.0148 21.6001 18.0227 21.7832 16.7297C22.0102 15.1263 22.1254 13.5351 22.1254 12C22.1254 10.465 22.0102 8.87384 21.7832 7.27047C21.6001 5.97738 20.5632 4.98533 19.2616 4.85791C17.5927 4.69446 14.9781 4.49973 12 4.49973ZM10.7839 16.4437C9.5304 16.4608 8.40803 15.3738 8.43737 14.1055V9.87109C8.43737 9.02309 8.87909 8.26561 9.61899 7.84485C10.3647 7.42071 11.2501 7.42943 11.9872 7.86791L15.5458 9.98509C17.06 10.8539 17.0596 13.1229 15.5458 13.9914L11.9872 16.1086C11.6119 16.3319 11.198 16.4437 10.7839 16.4437ZM10.7861 9.4102C10.6767 9.4102 10.5897 9.44995 10.5459 9.47484C10.4587 9.52444 10.3125 9.64182 10.3125 9.87109V14.1055C10.3125 14.3348 10.4587 14.4522 10.5459 14.5017C10.6189 14.5432 10.812 14.626 11.0285 14.4971L14.5871 12.3799C14.89 12.1991 14.8905 11.7778 14.5871 11.5966L11.0285 9.47939C10.9419 9.42787 10.859 9.4102 10.7861 9.4102Z"/>
            </svg>
          </a>
        {% endif %}
        {% if heading_pinterest_link != blank %}
          <a href="{{ heading_pinterest_link }}" class="video-social-heading-icon-{{ section.id }}">
            <svg enable-background="new 0 0 24 24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path d="m12.326 0c-6.579.001-10.076 4.216-10.076 8.812 0 2.131 1.191 4.79 3.098 5.633.544.245.472-.054.94-1.844.037-.149.018-.278-.102-.417-2.726-3.153-.532-9.635 5.751-9.635 9.093 0 7.394 12.582 1.582 12.582-1.498 0-2.614-1.176-2.261-2.631.428-1.733 1.266-3.596 1.266-4.845 0-3.148-4.69-2.681-4.69 1.49 0 1.289.456 2.159.456 2.159s-1.509 6.096-1.789 7.235c-.474 1.928.064 5.049.111 5.318.029.148.195.195.288.073.149-.195 1.973-2.797 2.484-4.678.186-.685.949-3.465.949-3.465.503.908 1.953 1.668 3.498 1.668 4.596 0 7.918-4.04 7.918-9.053-.016-4.806-4.129-8.402-9.423-8.402z"></path>
            </svg>
          </a>
        {% endif %}
      </div>
    </div>
</div>

{% if lazy %}
<script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@19.1.3/dist/lazyload.min.js"></script>
{% endif %}
<script src="https://cdn.jsdelivr.net/npm/swiper@6.8.4/swiper-bundle.min.js"></script>

<script>
function initVideoFromSocial6() {
  {% if lazy %}
    let lazyLoadInstance = new LazyLoad();
  
    window.addEventListener(
      "LazyLoad::Initialized",
      function (event) {
        window.lazyLoadInstance = event.detail.instance;
      },
      false
    );
  {% endif %}

  document.querySelector(`.video-social-slider-{{ section.id }}`).classList.remove('preview');
  
  const slider = new Swiper(`.video-social-slider-{{ section.id }}`, {
    speed: 300,
    loop: true,
    navigation: {
      nextEl: `.video-social-btn-next-{{ section.id }}`,
      prevEl: `.video-social-btn-prev-{{ section.id }}`,
    },
    breakpoints: {
      320: {
        spaceBetween: parseInt(document.querySelector(`.video-social-slider-{{ section.id }}`).dataset.gapMobile || 0),
        slidesPerView: parseFloat(document.querySelector(`.video-social-slider-{{ section.id }}`).dataset.viewMobile || 1),
      },
      768: {
        spaceBetween: parseInt(document.querySelector(`.video-social-slider-{{ section.id }}`).dataset.gap || 0),
        slidesPerView: parseFloat(document.querySelector(`.video-social-slider-{{ section.id }}`).dataset.view || 3),
      },
      1024: {
        spaceBetween: parseInt(document.querySelector(`.video-social-slider-{{ section.id }}`).dataset.gap || 0),
        slidesPerView: parseFloat(document.querySelector(`.video-social-slider-{{ section.id }}`).dataset.view || 3),
      }
    },
    on: {
      slideChange: function () {
        document.querySelectorAll(`.video-social-video-{{ section.id }}`).forEach(el => {
          let soundBtn = el.querySelector(`.video-social-action-{{ section.id }}`);
          let frame = el.querySelector('iframe');
          let video = el.querySelector('video');

          if(soundBtn) {
            soundBtn.classList.remove('active');
          }

          if(frame) {
            let src = frame.getAttribute("src");
            var muteIndex = src.indexOf("mute=");
            var muteValue = src.charAt(muteIndex + 5);
            if (muteValue === "0") {
              frame.src = src.slice(0, muteIndex + 5) + "1" + src.slice(muteIndex + 6);
            }
          }
          if(video) {
            video.muted = true;
          }
        });
      }
    }
  });   

  document.querySelectorAll(`.video-social-video-{{ section.id }}`).forEach(el => {
    let soundBtn = el.querySelector(`.video-social-action-{{ section.id }}`);
    let frame = el.querySelector('iframe');
    let video = el.querySelector('video');

    if(soundBtn) {
      soundBtn.addEventListener('click', () => {
        soundBtn.classList.toggle('active');
        if(soundBtn.classList.contains('active')) {
          if(frame) {
            let src = frame.getAttribute("src");
            var muteIndex = src.indexOf("mute=");
            var muteValue = src.charAt(muteIndex + 5);
            if (muteValue === "1") {
              frame.src = src.slice(0, muteIndex + 5) + "0" + src.slice(muteIndex + 6);
            }
          }
          if(video) {
            video.muted = false;
          }
        } else {
          if(frame) {
            let src = frame.getAttribute("src");
            var muteIndex = src.indexOf("mute=");
            var muteValue = src.charAt(muteIndex + 5);
            if (muteValue === "0") {
              frame.src = src.slice(0, muteIndex + 5) + "1" + src.slice(muteIndex + 6);
            }
          }
          if(video) {
            video.muted = true;
          }
        }

        document.querySelectorAll(`.video-social-video-{{ section.id }}`).forEach(element => {
          let elementSoundBtn = element.querySelector(`.video-social-action-{{ section.id }}`);
          let elementFrame = element.querySelector('iframe');
          let elementVideo = element.querySelector('video');
          if(el != element) {
            if(elementVideo) {
              elementVideo.muted = true;
            }
            if(elementFrame) {
              let src = elementFrame.getAttribute("src");
              var muteIndex = src.indexOf("mute=");
              var muteValue = src.charAt(muteIndex + 5);
              if (muteValue === "0") {
                elementFrame.src = src.slice(0, muteIndex + 5) + "1" + src.slice(muteIndex + 6);
              }
            }

            if(elementSoundBtn) {
              elementSoundBtn.classList.remove('active'); 
            }
          }
        })
      });
    }
  });
}
  
document.addEventListener('DOMContentLoaded', initVideoFromSocial6);

if (Shopify.designMode) {
  document.addEventListener('shopify:section:unload', initVideoFromSocial6);
  document.addEventListener('shopify:section:load', initVideoFromSocial6);
}
</script>

{% schema %}
{
  "name": "SG-Video grid social #6",
  "settings": [
    {
      "type": "paragraph",
      "content": " Save settings to view updates"
    },
    {
      "type": "header",
      "content": "Slider"
    },
    {
      "type": "range",
      "id": "slider_view",
      "min": 1,
      "max": 5,
      "step": 0.5,
      "label": "Slides to show",
      "default": 3.5
    },
    {
      "type": "range",
      "id": "slider_view_mobile",
      "min": 1,
      "max": 2,
      "step": 0.1,
      "label": "Slides to show - mobile",
      "default": 1.1
    },
    {
      "type": "range",
      "id": "slider_gap",
      "min": 0,
      "max": 100,
      "step": 2,
      "unit": "px",
      "label": "Gap",
      "default": 32
    },
    {
      "type": "range",
      "id": "slider_gap_mobile",
      "min": 0,
      "max": 100,
      "step": 2,
      "unit": "px",
      "label": "Gap - mobile",
      "default": 18
    },
    {
      "type": "header",
      "content": "Video"
    },
    {
      "type": "range",
      "id": "video_radius",
      "min": 0,
      "max": 100,
      "step": 2,
      "unit": "px",
      "label": "Roundness",
      "default": 0
    },
    {
      "type": "range",
      "id": "video_border_thickness",
      "min": 0,
      "max": 10,
      "step": 1,
      "unit": "px",
      "label": "Border thickness",
      "default": 2
    },
    {
      "type": "select",
      "id": "video_ratio",
      "label": "Aspect ratio",
      "default": "portrait",
      "options": [
        {
          "label": "Portrait",
          "value": "portrait"
        },
        {
          "label": "Square",
          "value": "square"
        },
        {
          "label": "Landscape",
          "value": "landscape"
        },
        {
          "label": "Original",
          "value": "original"
        }
      ]
    },
    {
      "type": "select",
      "id": "video_ratio_mobile",
      "label": "Aspect ratio - mobile",
      "default": "portrait",
      "options": [
        {
          "label": "Portrait",
          "value": "portrait"
        },
        {
          "label": "Square",
          "value": "square"
        },
        {
          "label": "Landscape",
          "value": "landscape"
        },
        {
          "label": "Original",
          "value": "original"
        }
      ]
    },
    {
      "type": "checkbox",
      "id": "use_shadow",
      "label": "Use shadow",
      "default": false
    },
    {
      "type": "checkbox",
      "id": "use_sound",
      "label": "Use mute/unmute button",
      "default": true
    },
    {
      "type": "header",
      "content": "Slide icon"
    },
    {
      "type": "range",
      "id": "icon_size",
      "min": 10,
      "max": 100,
      "step": 2,
      "unit": "px",
      "label": "Size",
      "default": 44
    },
    {
      "type": "range",
      "id": "icon_size_mobile",
      "min": 10,
      "max": 100,
      "step": 2,
      "unit": "px",
      "label": "Size - mobile",
      "default": 44
    },
    {
      "type": "range",
      "id": "icon_border_thickness",
      "min": 1,
      "max": 10,
      "step": 1,
      "unit": "px",
      "label": "Border thickness",
      "default": 2
    },
    {
      "type": "checkbox",
      "id": "icon_use_hover",
      "label": "Use hover",
      "default": true
    },
    {
      "type": "header",
      "content": "Heading"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Text",
      "default": "Follow us on socials"
    },
    {
      "type": "checkbox",
      "id": "heading_custom",
      "label": "Use custom font",
      "default": false
    },
    {
      "type": "font_picker",
      "id": "heading_font",
      "label": "Font family",
      "default": "josefin_sans_n4"
    },
    {
      "type": "range",
      "id": "heading_size",
      "min": 0,
      "max": 72,
      "step": 2,
      "unit": "px",
      "label": "Font size",
      "default": 48
    },
    {
      "type": "range",
      "id": "heading_size_mobile",
      "min": 0,
      "max": 72,
      "step": 2,
      "unit": "px",
      "label": "Font size - mobile",
      "default": 18
    },
    {
      "type": "range",
      "id": "heading_height",
      "min": 50,
      "max": 200,
      "step": 10,
      "unit": "%",
      "label": "Line height",
      "default": 130
    },
    {
      "type": "range",
      "id": "heading_mt",
      "min": 0,
      "max": 100,
      "step": 2,
      "unit": "px",
      "label": "Margin top",
      "default": 16
    },
    {
      "type": "range",
      "id": "heading_mt_mobile",
      "min": 0,
      "max": 100,
      "step": 2,
      "unit": "px",
      "label": "Margin top - mobile",
      "default": 16
    },
    {
      "type": "text_alignment",
      "id": "heading_align",
      "label": "Alignment"
    },
    {
      "type": "text_alignment",
      "id": "heading_align_mobile",
      "label": "Alignment - mobile"
    },
    {
      "type": "header",
      "content": "Heading icon"
    },
    {
      "type": "text",
      "id": "heading_tiktok_link",
      "label": "TikTok link",
      "default": "#"
    },
    {
      "type": "text",
      "id": "heading_instagram_link",
      "label": "Instagram link",
      "default": "#"
    },
    {
      "type": "text",
      "id": "heading_facebook_link",
      "label": "Facebook link"
    },
    {
      "type": "text",
      "id": "heading_youtube_link",
      "label": "YouTube link"
    },
    {
      "type": "text",
      "id": "heading_pinterest_link",
      "label": "Pinterest link"
    },
    {
      "type": "range",
      "id": "heading_icon_size",
      "min": 10,
      "max": 100,
      "step": 2,
      "unit": "px",
      "label": "Size",
      "default": 30
    },
    {
      "type": "range",
      "id": "heading_icon_size_mobile",
      "min": 10,
      "max": 100,
      "step": 2,
      "unit": "px",
      "label": "Size - mobile",
      "default": 20
    },
    {
      "type": "header",
      "content": "Arrows"
    },
    {
      "type": "range",
      "id": "arrow_size",
      "min": 10,
      "max": 100,
      "step": 2,
      "unit": "px",
      "label": "Size",
      "default": 48
    },
    {
      "type": "range",
      "id": "arrow_size_mobile",
      "min": 10,
      "max": 100,
      "step": 2,
      "unit": "px",
      "label": "Size - mobile",
      "default": 48
    },
    {
      "type": "range",
      "id": "arrow_icon_size",
      "min": 5,
      "max": 15,
      "step": 1,
      "unit": "px",
      "label": "Icon size",
      "default": 10
    },
    {
      "type": "range",
      "id": "arrow_icon_size_mobile",
      "min": 5,
      "max": 15,
      "step": 1,
      "unit": "px",
      "label": "Icon size - mobile",
      "default": 10
    },
    {
      "type": "range",
      "id": "arrow_border_thickness",
      "min": 0,
      "max": 10,
      "step": 1,
      "unit": "px",
      "label": "Border thickness",
      "default": 0
    },
    {
      "type": "range",
      "id": "arrow_radius",
      "min": 0,
      "max": 100,
      "step": 2,
      "unit": "px",
      "label": "Roundness",
      "default": 100
    },
    {
      "type": "select",
      "id": "arrow_hover_effect",
      "label": "Hover effect",
      "default": "color",
      "options": [
        {
          "label": "Change color",
          "value": "color"
        },
        {
          "label": "Change size",
          "value": "scale"
        },
        {
          "label": "Change arrow",
          "value": "arrow"
        },
        {
          "label": "None",
          "value": "none"
        }
      ]
    },
    {
      "type": "checkbox",
      "id": "arrow_shadow",
      "label": "Use shadow",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "arrow_show_desktop",
      "label": "Show on desktop",
      "default": false
    },
    {
      "type": "checkbox",
      "id": "arrow_show_mobile",
      "label": "Show on mobile",
      "default": false
    },
    {
      "type": "header",
      "content": "Video colors"
    },
    {
      "type": "color",
      "label": "Border",
      "id": "video_border_color",
      "default": "#121212"
    },
    {
      "type": "header",
      "content": "Slide icon colors"
    },
    {
      "type": "color",
      "label": "Icon",
      "id": "icon_color",
      "default": "#FFFFFF"
    },
    {
      "type": "color",
      "label": "Icon hover",
      "id": "icon_hover_color",
      "default": "#FFFFFF"
    },
    {
      "type": "color",
      "label": "Background",
      "id": "icon_bg_color",
      "default": "#121212"
    },
    {
      "type": "color",
      "label": "Background hover",
      "id": "icon_bg_hover_color",
      "default": "#121212"
    },
    {
      "type": "color",
      "label": "Border",
      "id": "icon_border_color",
      "default": "#FFFFFF"
    },
    {
      "type": "color",
      "label": "Border hover",
      "id": "icon_border_hover_color",
      "default": "#FFFFFF"
    },
    {
      "type": "header",
      "content": "Heading colors"
    },
    {
      "type": "color",
      "label": "Text",
      "id": "heading_color",
      "default": "#121212"
    },
    {
      "type": "color",
      "label": "Icon",
      "id": "heading_icon_color",
      "default": "#121212"
    },
    {
      "type": "color",
      "label": "Icon hover",
      "id": "heading_icon_hover_color",
      "default": "#121212"
    },
    {
      "type": "header",
      "content": "Arrow colors"
    },
    {
      "type": "color",
      "label": "Icon",
      "id": "arrow_color",
      "default": "#FFFFFF"
    },
    {
      "type": "color",
      "label": "Icon hover",
      "id": "arrow_hover_color",
      "default": "#121212"
    },
    {
      "type": "color",
      "label": "Background",
      "id": "arrow_bg_color",
      "default": "#121212"
    },
    {
      "type": "color",
      "label": "Background hover",
      "id": "arrow_bg_hover_color",
      "default": "#FFFFFF"
    },
    {
      "type": "color",
      "label": "Border",
      "id": "arrow_border_color",
      "default": "#121212"
    },
    {
      "type": "color",
      "label": "Border hover",
      "id": "arrow_border_hover_color",
      "default": "#121212"
    },
    {
      "type": "header",
      "content": "Section colors"
    },
    {
      "type": "color",
      "label": "Section background",
      "id": "background_color",
      "default": "#FFFFFF"
    },
    {
      "type": "color_background",
      "id": "background_gradient",
      "label": "Section background gradient",
      "info": "Remove gradient to replace with solid colors"
    },
    {
      "type": "color",
      "label": "Border",
      "id": "border_color",
      "default": "#121212"
    },
    {
      "type": "header",
      "content": "Section margin (outside)"
    },
    {
      "type": "range",
      "id": "margin_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Margin top",
      "default": 0
    },
    {
      "type": "range",
      "id": "margin_bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Margin bottom",
      "default": 0
    },
    {
      "type": "range",
      "id": "margin_horizontal",
      "min": 0,
      "max": 30,
      "step": 1,
      "unit": "rem",
      "label": "Margin sides",
      "default": 0
    },
    {
      "type": "range",
      "id": "margin_horizontal_mobile",
      "min": 0,
      "max": 15,
      "step": 0.5,
      "unit": "rem",
      "label": "Margin sides mobile",
      "default": 0
    },
    {
      "type": "header",
      "content": "Section padding (inside)"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Padding top",
      "default": 36
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Padding bottom",
      "default": 36
    },
    {
      "type": "range",
      "id": "padding_horizontal",
      "min": 0,
      "max": 30,
      "step": 1,
      "unit": "rem",
      "label": "Padding sides",
      "default": 2
    },
    {
      "type": "range",
      "id": "padding_horizontal_mobile",
      "min": 0,
      "max": 15,
      "step": 0.5,
      "unit": "rem",
      "label": "Padding sides mobile",
      "default": 1.5
    },
    {
      "type": "header",
      "content": "Section"
    },
    {
      "type": "checkbox",
      "id": "full_width",
      "label": "Full width",
      "default": true
    },
    {
      "type": "range",
      "id": "content_width",
      "min": 800,
      "max": 2000,
      "step": 100,
      "unit": "px",
      "label": "Section content width",
      "default": 1200
    },
    {
      "type": "range",
      "id": "border_thickness",
      "min": 0,
      "max": 50,
      "step": 1,
      "unit": "px",
      "label": "Border thickness",
      "default": 0
    },
    {
      "type": "range",
      "id": "section_radius",
      "min": 0,
      "max": 100,
      "step": 2,
      "unit": "px",
      "label": "Section roundness",
      "default": 0
    },
    {
      "type": "checkbox",
      "id": "lazy",
      "label": "Lazy load",
      "info": "Lazy load media for speed optimisation",
      "default": true
    }
  ],
  "blocks": [
    {
      "type": "slide",
      "name": "Video",
      "settings": [
        {
          "type": "video",
          "id": "video",
          "label": "Video from Shopify"
        },
        {
          "type": "video_url",
          "id": "video_url",
          "label": "Video embed from URL",
          "accept": [
            "youtube",
            "vimeo"
          ],
          "info": "Youtube or Vimeo. Shows when no Shopify-hosted video is selected."
        },
        {
          "type": "select",
          "id": "icon",
          "label": "Icon",
          "default": "instagram",
          "options": [
            {
              "value": "instagram",
              "label": "Instagram"
            },
            {
              "value": "tiktok",
              "label": "TikTok"
            },
            {
              "value": "youtube",
              "label": "YouTube"
            },
            {
              "value": "facebook",
              "label": "Facebook"
            },
            {
              "value": "pinterest",
              "label": "Pinterest"
            },
            {
              "value": "none",
              "label": "None"
            }
          ]
        },
        {
          "type": "image_picker",
          "label": "Custom icon",
          "id": "custom_icon"
        },
        {
          "type": "url",
          "id": "url",
          "label": "Link"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "SG-Video grid from social #6",
      "blocks": [
        {
          "type": "slide"
        },
        {
          "type": "slide"
        },
        {
          "type": "slide",
          "settings": {
            "icon": "tiktok"
          }
        },
        {
          "type": "slide",
          "settings": {
            "icon": "tiktok"
          }
        }
      ]
    }
  ]
}
{% endschema %}