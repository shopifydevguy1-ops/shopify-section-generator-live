{% comment %}
---------------------------------------------------------
Copyright © 2023 Section Store. All rights reserved.
Unauthorized copying, modification, distribution, or use
of this code or any portion of it, is strictly prohibited.
Violators will be prosecuted to the fullest extent of the law.
For inquiries or permissions, contact daniel@section.store
---------------------------------------------------------
{% endcomment %}

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"/>

{%- liquid 
  assign padding_horizontal = section.settings.padding_horizontal
  assign padding_horizontal_mobile = section.settings.padding_horizontal_mobile
  assign padding_top = section.settings.padding_top
  assign padding_bottom = section.settings.padding_bottom
  assign border_color = section.settings.border_color
  assign border_thickness = section.settings.border_thickness
  assign margin_top = section.settings.margin_top
  assign margin_bottom = section.settings.margin_bottom
  assign background_color = section.settings.background_color
  assign background_gradient = section.settings.background_gradient
  assign lazy = section.settings.lazy

  assign reviews_position = section.settings.reviews_position
  assign reviews_meta = section.settings.reviews_meta
  assign reviews_radius = section.settings.reviews_radius
  assign reviews_bg_color = section.settings.reviews_bg_color

  assign review_padding_vertical = section.settings.review_padding_vertical
  assign review_padding_horizontal = section.settings.review_padding_horizontal
  assign review_radius = section.settings.review_radius
  assign review_border_thickness = section.settings.review_border_thickness
  assign review_border_color = section.settings.review_border_color
  assign review_bg_color = section.settings.review_bg_color

  assign image_width = section.settings.image_width
  assign image_radius = section.settings.image_radius
  assign image_border_thickness = section.settings.image_border_thickness
  assign image_border_color = section.settings.image_border_color
  assign image_ratio = section.settings.image_ratio

  assign stars_icon = section.settings.stars_icon
  assign stars_color = section.settings.stars_color
  assign stars_size = section.settings.stars_size

  assign author_size = section.settings.author_size
  assign author_size_mobile = section.settings.author_size_mobile
  assign author_color = section.settings.author_color
  assign author_custom = section.settings.author_custom
  assign author_font = section.settings.author_font
  assign author_height = section.settings.author_height

  assign text_size = section.settings.text_size
  assign text_size_mobile = section.settings.text_size_mobile
  assign text_color = section.settings.text_color
  assign text_custom = section.settings.text_custom
  assign text_font = section.settings.text_font
  assign text_height = section.settings.text_height
  assign text_mt = section.settings.text_mt

  assign arrow_size = section.settings.arrow_size
  assign arrow_size_mobile = section.settings.arrow_size_mobile
  assign arrow_icon_size = section.settings.arrow_icon_size
  assign arrow_icon_size_mobile = section.settings.arrow_icon_size_mobile
  assign arrow_color = section.settings.arrow_color
  assign arrow_hover_color = section.settings.arrow_hover_color
  assign arrow_bg_color = section.settings.arrow_bg_color
  assign arrow_bg_hover_color = section.settings.arrow_bg_hover_color
  assign arrow_border_thickness = section.settings.arrow_border_thickness
  assign arrow_border_color = section.settings.arrow_border_color
  assign arrow_border_hover_color = section.settings.arrow_border_hover_color
  assign arrow_show_desktop = section.settings.arrow_show_desktop
  assign arrow_show_mobile = section.settings.arrow_show_mobile

  assign loading_attribute = 'eager'
  if lazy
    assign loading_attribute = 'lazy'
  endif  
-%}

{%- style -%}

  {{  author_font | font_face: font_display: 'swap' }}
  {{  text_font | font_face: font_display: 'swap' }}
  
  .section-{{ section.id }}-settings {
    border: solid {{ border_color }} {{ border_thickness }}px;
    margin-top: {{ margin_top | times: 0.75 | round: 0 }}px !important;
    margin-bottom: {{ margin_bottom | times: 0.75 | round: 0 }}px !important;
    padding-top: {{ padding_top | times: 0.75 | round: 0 }}px;
    padding-bottom: {{ padding_bottom | times: 0.75 | round: 0 }}px;
    padding-left: {{ padding_horizontal_mobile }}rem;
    padding-right: {{ padding_horizontal_mobile }}rem;
    border-radius: {{ reviews_radius }}px;
  }

  .reviews-items-{{ section.id }} {
    position: relative;
    background-color: {{ reviews_bg_color }};
  }

  .reviews-slider-{{ section.id }} * {
    box-sizing: border-box;
  }

  .reviews-slider-{{ section.id }} .swiper-wrapper {
    align-items: stretch;
  }

  .reviews-slider-{{ section.id }} .swiper-slide {
    height: auto;
  }

  .reviews-item-{{ section.id }} {
    height: 100%;
    display: flex;
    align-items: center;
    gap: 20px;
    padding: {{ review_padding_vertical | times: 0.75 | round: 0 }}px {{ review_padding_horizontal | times: 0.75 | round: 0 }}px;
    border: {{ review_border_thickness }}px solid {{ review_border_color }};
    background-color: {{ review_bg_color }};
    border-radius: {{ review_radius }}px;
  }

  .reviews-content-{{ section.id }} {
    flex: 1 1 auto;
    display: flex;
    flex-direction: column;
    justify-content: center;
    height: 100%;
  }

  .reviews-image-{{ section.id }} {
    flex: 0 0 {{ image_width }}px;
    border: {{ image_border_thickness }}px solid {{ image_border_color }};
    border-radius: {{ image_radius }}px;
  }

  .reviews-image-{{ section.id }} img,
  .reviews-image-{{ section.id }} svg {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: {{ image_radius }}px;
  }

  .reviews-image-{{ section.id }} svg {
    background-color: #DDDDDD;
  }

  .reviews-top-{{ section.id }} {
    display: flex;
    align-items: center;
    gap: 5px;
  }

  .testimonials-stars-{{ section.id }} {
    display: flex;
    align-items: center;
    gap: 5px;
  }

  .testimonials-stars-{{ section.id }} svg path {
    fill: {{ stars_color }};
  }

  .testimonials-stars-{{ section.id }} svg,
  .testimonials-stars-{{ section.id }} img {
    display: block;
    width: {{ stars_size }}px;
    height: {{ stars_size }}px;
    object-fit: cover;
  }

  .reviews-author-{{ section.id }} {
    margin: 0px;
    font-size: {{ author_size_mobile }}px;
    color: {{ author_color }};
    line-height: {{ author_height }}%;
    text-transform: unset;
    font-weight: 700;
  }

  .reviews-text-{{ section.id }} {
    margin: 0px;
    margin-top: {{ text_mt | times: 0.75 | round: 0 }}px;
    font-size: {{ text_size_mobile }}px;
    color: {{ text_color }};
    line-height: {{ text_height }}%;
    text-transform: unset;
  }

  .reviews-btn-prev-{{ section.id }},
  .reviews-btn-next-{{ section.id }} {
    display: flex;
    position: absolute;
    z-index: 2;
    top: 50%;
    transform: translateY(-50%);
    width: {{ arrow_size_mobile }}px;
    height: {{ arrow_size_mobile }}px;
    border: {{ arrow_border_thickness }}px solid {{ arrow_border_color }};
    border-radius: 50%;
    background: {{ arrow_bg_color }};
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease 0s;
    cursor: pointer;
    -webkit-appearance: none;
    box-shadow: 0px -2px 12px rgba(0, 0, 0, .08);
  }

  .reviews-btn-prev-{{ section.id }} {
    left: -{{ arrow_size_mobile | times: 0.5 }}px !important;
  }

  .reviews-btn-next-{{ section.id }} {
    right: -{{ arrow_size_mobile | times: 0.5 }}px !important;
  }

  .reviews-btn-prev-{{ section.id }} svg,
  .reviews-btn-next-{{ section.id }} svg {
    height: {{ arrow_icon_size_mobile }}px;
    width: {{ arrow_icon_size_mobile }}px;
  }

  .reviews-btn-prev-{{ section.id }} svg {
    transform: rotate(180deg);
  }

  .reviews-btn-prev-{{ section.id }} svg path,
  .reviews-btn-next-{{ section.id }} svg path {
    fill: {{ arrow_color }};
    transition: all 0.3s ease 0s;
  }

  .reviews-btn-prev-{{ section.id }}:hover ,
  .reviews-btn-next-{{ section.id }}:hover {
    transition: all 0.3s ease 0s;
    border: {{ arrow_border_thickness }}px solid {{ arrow_border_hover_color }};
    background: {{ arrow_bg_hover_color }};
  }

  .reviews-btn-prev-{{ section.id }}:hover svg path,
  .reviews-btn-next-{{ section.id }}:hover svg path {
    fill: {{ arrow_hover_color }};
    transition: all 0.3s ease 0s;
  }

  .reviews-btn-prev-{{ section.id }}.swiper-button-disabled,
  .reviews-btn-next-{{ section.id }}.swiper-button-disabled {
    opacity: 0;
  }
  
  @media(min-width: 1024px) {
    
    .section-{{ section.id }}-settings {
      margin-top: {{ margin_top }}px !important;
      margin-bottom: {{ margin_bottom }}px !important;
      padding-top: {{ padding_top }}px;
      padding-bottom: {{ padding_bottom }}px;
      padding-left: {{ padding_horizontal }}rem;
      padding-right: {{ padding_horizontal }}rem;
    }

    .reviews-item-{{ section.id }} {
      padding: {{ review_padding_vertical }}px {{ review_padding_horizontal }}px;
    }

    .reviews-author-{{ section.id }} {
      font-size: {{ author_size }}px;
    }

    .reviews-text-{{ section.id }} {
      margin-top: {{ text_mt }}px;
      font-size: {{ text_size }}px;
    }

    .reviews-btn-prev-{{ section.id }},
    .reviews-btn-next-{{ section.id }} {
      width: {{ arrow_size }}px;
      height: {{ arrow_size }}px;
    }

    .reviews-btn-prev-{{ section.id }} {
      left: -{{ arrow_size | times: 0.5 }}px !important;
    }
  
    .reviews-btn-next-{{ section.id }} {
      right: -{{ arrow_size | times: 0.5 }}px !important;
    }

    .reviews-btn-prev-{{ section.id }} svg,
    .reviews-btn-next-{{ section.id }} svg {
      height: {{ arrow_icon_size }}px;
      width: {{ arrow_icon_size }}px;
    }
  }
  
{%- endstyle -%}

{% if author_custom %}
  <style>
    .reviews-author-{{ section.id }} {
      font-family: {{ author_font.family }}, {{ author_font.fallback_families }};
      font-weight: {{ author_font.weight }};
      font-style: {{ author_font.style }};
    }
  </style>
{% endif %}

{% if text_custom %}
  <style>
    .reviews-text-{{ section.id }} {
      font-family: {{ text_font.family }}, {{ text_font.fallback_families }};
      font-weight: {{ text_font.weight }};
      font-style: {{ text_font.style }};
    }
  </style>
{% endif %}

{% if image_ratio == "portrait" %}
  <style>
    .reviews-image-{{ section.id }} {
     aspect-ratio: 9.6/12; 
    }
  </style>
{% elsif image_ratio == "landscape" %}
  <style>
    .reviews-image-{{ section.id }} {
     aspect-ratio: 12/8; 
    }
  </style>
{% elsif image_ratio == "square" %}
  <style>
    .reviews-image-{{ section.id }} {
     aspect-ratio: 12/12; 
    }
  </style>
{% endif %}

{% if arrow_show_mobile %}
  <style>
    .reviews-btn-prev-{{ section.id }},
    .reviews-btn-next-{{ section.id }} {
      display: flex;
    }
  </style>
{% else %}
  <style>
    .reviews-btn-prev-{{ section.id }},
    .reviews-btn-next-{{ section.id }} {
      display: none;
    }
  </style>
{% endif %}

{% if arrow_show_desktop %}
  <style>
    @media(min-width: 1024px) {
      .reviews-btn-prev-{{ section.id }},
      .reviews-btn-next-{{ section.id }} {
        display: flex;
      }
    }
  </style>
{% else %}
  <style>
    @media(min-width: 1024px) {
      .reviews-btn-prev-{{ section.id }},
      .reviews-btn-next-{{ section.id }} {
        display: none;
      }
    }
  </style>
{% endif %}

<script>
  (function () {
    function moreLoadProductForm() {
      var productForm = document.querySelector('#ss-reviews');
      if (!productForm){
        var productForm = document.querySelector('{% if reviews_position == "below_title" or reviews_position == "above_title" %}.product__title{% elsif reviews_position == "below_description" %}.product__description{% else %}.button--add-to-cart, .product .product-form, .product-single__add-to-cart, .shopify-payment-button, .shopify-payment-button__button, .ProductForm__BuyButtons, .add-to-cart{% endif %}');
        if (!productForm) return;
        }
        const templateContent = document.querySelector(
          '#ss-reviews-{{ section.id }}'
        ).content;

        productForm.insertAdjacentElement(
          '{% if reviews_position == "below_buy" or reviews_position == "below_title" or reviews_position == "below_description" %}afterend{% else %}beforebegin{% endif %}',
          templateContent.firstElementChild
        );
    }
    function moreUnloadProductForm() {
      const productForm = document.querySelector('.button--add-to-cart, .product .product-form, .product-single__add-to-cart, .shopify-payment-button, .shopify-payment-button__button, .ProductForm__BuyButtons');

      if (!productForm) return;

      const contentTemplateBuyWith = document.querySelector(
        '#reviews-body-{{ section.id }}'
      );

      if (contentTemplateBuyWith) contentTemplateBuyWith.remove();

    }
    window.addEventListener('DOMContentLoaded', moreLoadProductForm);

    // load and unload product form when in Shopify editor:
    if (window.Shopify && Shopify.designMode) {
      window.addEventListener('shopify:section:load', moreLoadProductForm);
      window.addEventListener('shopify:section:unload', moreUnloadProductForm);
    }
  })();
</script>

<template class="section-{{ section.id }} reviews-{{ section.id }}"  id="ss-reviews-{{ section.id }}">
    <div class="section-{{ section.id }}-settings" id="reviews-body-{{ section.id }}" style="background-color:{{ background_color }}; background-image: {{ background_gradient }};">
      <div class="reviews-items-{{ section.id }}">
        <div class="reviews-slider-{{ section.id }} swiper">
          <div class="swiper-wrapper">
            {% assign reviews_title = reviews_meta | handleize %}
            {% assign reviews = product.metafields.custom[reviews_title].value %}
            {% if reviews_meta != blank and reviews != blank %}
              {% for review in reviews %}
                <div class="swiper-slide">
                  <div class="reviews-item-{{ section.id }}">
                    {% unless review.hide_image %}
                    <div class="reviews-image-{{ section.id }}">
                      {% if review.image != blank %}
                        {%- liquid assign img_alt = review.image.alt | escape -%}
                        {%- capture sizes -%}, (min-width: 750px) calc((100vw - 130px) / 2), calc((100vw - 50px) / 2){%- endcapture -%}
                          {{ review.image | image_url: width: 1000 | image_tag:
                            loading: loading_attribute,
                            width: review.image.width,
                            height: review.image.height,
                            sizes: sizes,
                            widths: '450, 535, 750, 1070, 1500',
                            alt: img_alt
                          }}
                      {% else %}
                        {{ 'image' | placeholder_svg_tag }}
                      {% endif %}  
                    </div>
                    {% endunless %}
                    <div class="reviews-content-{{ section.id }}">
                      <div class="reviews-top-{{ section.id }}">
                        {% if review.author != blank %}
                        <p class="reviews-author-{{ section.id }}">{{ review.author }}</p>
                        {% endif %}
                        {% if review.rating != 0 %}
                          <div class="testimonials-stars-{{ section.id }}">
                              {% if stars_icon != blank %}
                                {% for item in (1..review.rating) %}
                                  {%- liquid assign img_alt = stars_icon.alt | escape -%}
                                  {%- capture sizes -%}, (min-width: 750px) calc((100vw - 130px) / 2), calc((100vw - 50px) / 2){%- endcapture -%}
                                    {{ stars_icon | image_url: width: 1000 | image_tag:
                                      loading: loading_attribute,
                                      width: stars_icon.width,
                                      height: stars_icon.height,
                                      sizes: sizes,
                                      widths: '450, 535, 750, 1070, 1500',
                                      alt: img_alt
                                    }}    
                                {% endfor %}
                              {% else %}
                                {% for item in (1..review.rating) %}
                                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="19" viewBox="0 0 20 19" fill="none">
                                    <path d="M10 0L12.9389 5.95492L19.5106 6.90983L14.7553 11.5451L15.8779 18.0902L10 15L4.12215 18.0902L5.24472 11.5451L0.489435 6.90983L7.06107 5.95492L10 0Z" fill="#1F448C"></path>
                                  </svg>
                                {% endfor %}
                              {% endif %}
                          </div>
                        {% endif %}
                      </div>
                      {% if review.text != blank %}
                        <p class="reviews-text-{{ section.id }}">{{ review.text }}</p>
                      {% endif %}
                    </div>
                  </div>
                </div>
              {% endfor %}
            {% else %}
            {% for block in section.blocks %}
              <div class="swiper-slide">
                <div class="reviews-item-{{ section.id }}">
                  {% unless block.settings.hide_image %}
                  <div class="reviews-image-{{ section.id }}">
                      {% if block.settings.image != blank %}
                        {%- liquid assign img_alt = block.settings.image.alt | escape -%}
                        {%- capture sizes -%}, (min-width: 750px) calc((100vw - 130px) / 2), calc((100vw - 50px) / 2){%- endcapture -%}
                          {{ block.settings.image | image_url: width: 1000 | image_tag:
                            loading: loading_attribute,
                            width: block.settings.image.width,
                            height: block.settings.image.height,
                            sizes: sizes,
                            widths: '450, 535, 750, 1070, 1500',
                            alt: img_alt
                          }}
                      {% else %}
                        {{ 'image' | placeholder_svg_tag }}
                      {% endif %} 
                  </div>
                  {% endunless %}
                  <div class="reviews-content-{{ section.id }}">
                    <div class="reviews-top-{{ section.id }}">
                      {% if block.settings.author != blank %}
                      <p class="reviews-author-{{ section.id }}">{{ block.settings.author }}</p>
                      {% endif %}
                      {% if block.settings.stars_count != 0 %}
                        <div class="testimonials-stars-{{ section.id }}">
                            {% if stars_icon != blank %}
                              {% for item in (1..block.settings.stars_count) %}                           
                                {%- liquid assign img_alt = stars_icon.alt | escape -%}
                                {%- capture sizes -%}, (min-width: 750px) calc((100vw - 130px) / 2), calc((100vw - 50px) / 2){%- endcapture -%}
                                  {{ stars_icon | image_url: width: 1000 | image_tag:
                                    loading: loading_attribute,
                                    width: stars_icon.width,
                                    height: stars_icon.height,
                                    sizes: sizes,
                                    widths: '450, 535, 750, 1070, 1500',
                                    alt: img_alt
                                  }}           
                              {% endfor %}
                            {% else %}
                              {% for item in (1..block.settings.stars_count) %}
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="19" viewBox="0 0 20 19" fill="none">
                                  <path d="M10 0L12.9389 5.95492L19.5106 6.90983L14.7553 11.5451L15.8779 18.0902L10 15L4.12215 18.0902L5.24472 11.5451L0.489435 6.90983L7.06107 5.95492L10 0Z" fill="#1F448C"></path>
                                </svg>
                              {% endfor %}
                            {% endif %}
                        </div>
                      {% endif %}
                    </div>
                    {% if block.settings.text != blank %}
                      <p class="reviews-text-{{ section.id }}">{{ block.settings.text }}</p>
                    {% endif %}
                  </div>
                </div>
              </div>
            {% endfor %}
            {% endif %}
          </div>
        </div>
        <div class="reviews-btn-prev-{{ section.id }}">
          <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24">
            <path d="m13.172 12-4.95-4.95 1.414-1.414L16 12l-6.364 6.364-1.414-1.414 4.95-4.95Z"></path>
          </svg>
        </div>
        <div class="reviews-btn-next-{{ section.id }}">
          <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24">
            <path d="m13.172 12-4.95-4.95 1.414-1.414L16 12l-6.364 6.364-1.414-1.414 4.95-4.95Z"></path>
          </svg>
        </div>
      </div>
    </div>
</template>

<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

<script>
  function initProductReviews() {
    setTimeout(() => {
      const slider = new Swiper('.reviews-slider-{{ section.id }}', {
        speed: 200,
        slidesPerView: 'auto',
        navigation: {
        nextEl: '.reviews-btn-next-{{ section.id }}',
        prevEl: '.reviews-btn-prev-{{ section.id }}'
      },
      })
    },200)
  }

  document.addEventListener('DOMContentLoaded', initProductReviews);
  
  if (Shopify.designMode) {
     document.addEventListener('shopify:section:unload', initProductReviews);
     document.addEventListener('shopify:section:load', initProductReviews);
  }
  
</script>

{% schema %}
  {
    "name": "SS - Product reviews",
    "settings": [
      {
        "type": "header",
        "content": "⚠️ Save settings to view updates",
        "info":"Learn how to add snippet sections with [this tutorial](https://section-store.helpscoutdocs.com/article/10-adding-product-page-snippets)"
      },
      {
        "type": "header",
        "content":"Custom placement",
        "info": "Copy this code: <div id='ss-reviews'></div> - Click 'Add block' -> Custom Liquid/HTML -> Paste."
      },
      {
        "type": "select",
        "id": "reviews_position",
        "label": "Position",
        "default": "above_buy",
        "options": [
          {
            "label": "Above buy buttons",
            "value": "above_buy"
          },
          {
            "label": "Below buy buttons",
            "value": "below_buy"
          },
          {
            "label": "Above product title",
            "value": "above_title"
          },
          {
            "label": "Below product title",
            "value": "below_title"
          },
          {
            "label": "Below product description",
            "value": "below_description"
          }
        ]
      },
      {
        "type": "header",
        "content": "Reviews"
      },
      {
        "type": "text",
        "id": "reviews_meta",
        "label": "Reviews metafield",
        "info": "If you want to display reviews using a metafield, then enter the key of the metafield [Watch tutorial on setup](https://www.loom.com/share/63996d1ae32744cc9e33576ab2c6e141?sid=fc4405b5-3128-4f13-bd01-50526d7e5160)"
      },
      {
         "type": "range",
         "id": "reviews_radius",
         "min": 0,
         "max": 100,
         "step": 2,
         "unit": "px",
         "label": "Roundness",
         "default": 0
      },
      {
        "type": "header",
        "content": "Review"
      },
      {
        "type": "range",
        "id": "review_padding_vertical",
        "min": 0,
        "max": 100,
        "step": 2,
        "unit": "px",
        "label": "Padding vertical",
        "default": 8
      },
      {
         "type": "range",
         "id": "review_padding_horizontal",
         "min": 0,
         "max": 100,
         "step": 2,
         "unit": "px",
         "label": "Padding horizontal",
         "default": 8
      },
      {
         "type": "range",
         "id": "review_radius",
         "min": 0,
         "max": 100,
         "step": 2,
         "unit": "px",
         "label": "Roundness",
         "default": 8
      },
      {
         "type": "range",
         "id": "review_border_thickness",
         "min": 0,
         "max": 10,
         "step": 1,
         "unit": "px",
         "label": "Border thickness",
         "default": 0
      },
      {
        "type": "header",
        "content": "Review image"
      },
      {
         "type": "range",
         "id": "image_width",
         "min": 40,
         "max": 200,
         "step": 5,
         "unit": "px",
         "label": "Width",
         "default": 60
      },
      {
         "type": "range",
         "id": "image_radius",
         "min": 0,
         "max": 100,
         "step": 2,
         "unit": "px",
         "label": "Roundness",
         "default": 8
      },
      {
         "type": "range",
         "id": "image_border_thickness",
         "min": 0,
         "max": 10,
         "step": 1,
         "unit": "px",
         "label": "Border thickness",
         "default": 0
      },
      {
        "type": "select",
        "id": "image_ratio",
        "label": "Aspect ratio",
        "default": "square",
        "options": [
          {
            "label": "Original",
            "value": "original"
          },
          {
            "label": "Portrait",
            "value": "portrait"
          },
          {
            "label": "Square",
            "value": "square"
          },
          {
            "label": "Landscape",
            "value": "landscape"
          }
        ]
      },
      {
        "type": "header",
        "content": "Stars"
      },
      {
        "type": "image_picker",
        "label": "Icon",
        "id": "stars_icon",
        "info": "Replaces the default stars icon"
      },
      {
        "type": "range",
        "id": "stars_size",
        "min": 10,
        "max": 100,
        "step": 2,
        "unit": "px",
        "label": "Size",
        "default": 14
      },
      {
        "type": "header",
        "content": "Review author"
      },
      {
        "type": "checkbox",
        "id": "author_custom",
        "label": "Use custom font",
        "default": false
      },
      {
        "type": "font_picker",
        "id": "author_font",
        "label": "Font family",
        "default": "josefin_sans_n4",
        "visible_if": "{{ section.settings.author_custom }}"
      },
      {
        "type": "range",
        "id": "author_size",
        "min": 0,
        "max": 72,
        "step": 2,
        "unit": "px",
        "label": "Font size",
        "default": 14
      },
      {
        "type": "range",
        "id": "author_size_mobile",
        "min": 0,
        "max": 72,
        "step": 2,
        "unit": "px",
        "label": "Font size - mobile",
        "default": 14
      },
      {
        "type": "checkbox",
        "id": "author_advanced",
        "label": "Advanced settings",
        "default": false
      },
      {
        "type": "range",
        "id": "author_height",
        "min": 50,
        "max": 200,
        "step": 10,
        "unit": "%",
        "label": "Line height",
        "default": 130,
        "visible_if": "{{ section.settings.author_advanced }}"
      },
      {
        "type": "header",
        "content": "Review text"
      },
      {
        "type": "checkbox",
        "id": "text_custom",
        "label": "Use custom font",
        "default": false
      },
      {
        "type": "font_picker",
        "id": "text_font",
        "label": "Font family",
        "default": "josefin_sans_n4",
        "visible_if": "{{ section.settings.text_custom }}"
      },
      {
        "type": "range",
        "id": "text_size",
        "min": 0,
        "max": 72,
        "step": 2,
        "unit": "px",
        "label": "Font size",
        "default": 12
      },
      {
        "type": "range",
        "id": "text_size_mobile",
        "min": 0,
        "max": 72,
        "step": 2,
        "unit": "px",
        "label": "Font size - mobile",
        "default": 12
      },
      {
        "type": "checkbox",
        "id": "text_advanced",
        "label": "Advanced settings",
        "default": false
      },
      {
        "type": "range",
        "id": "text_height",
        "min": 50,
        "max": 200,
        "step": 10,
        "unit": "%",
        "label": "Line height",
        "default": 130,
        "visible_if": "{{ section.settings.text_advanced }}"
      },
      {
        "type": "range",
        "id": "text_mt",
        "min": 0,
        "max": 100,
        "step": 4,
        "unit": "px",
        "label": "Margin top",
        "default": 4,
        "visible_if": "{{ section.settings.text_advanced }}"
      },
      {
        "type": "header",
        "content": "Arrow"
      },
      {
        "type": "range",
        "id": "arrow_size",
        "min": 10,
        "max": 100,
        "step": 2,
        "unit": "px",
        "label": "Size",
        "default": 24
      },
      {
        "type": "range",
        "id": "arrow_size_mobile",
        "min": 10,
        "max": 100,
        "step": 2,
        "unit": "px",
        "label": "Size - mobile",
        "default": 24
      },
      {
        "type": "header",
        "content": "Arrow icon"
      },
      {
        "type": "range",
        "id": "arrow_icon_size",
        "min": 10,
        "max": 50,
        "step": 2,
        "unit": "px",
        "label": "Size",
        "default": 16
      },
      {
        "type": "range",
        "id": "arrow_icon_size_mobile",
        "min": 10,
        "max": 50,
        "step": 2,
        "unit": "px",
        "label": "Size - mobile",
        "default": 16
      },
      {
        "type": "header",
        "content": "Arrow view"
      },
      {
        "type": "range",
        "id": "arrow_border_thickness",
        "min": 0,
        "max": 10,
        "step": 1,
        "unit": "px",
        "label": "Border thickness",
        "default": 0
      },
      {
        "type": "checkbox",
        "id": "arrow_show_desktop",
        "label": "Show on desktop",
        "default": true
      },
      {
        "type": "checkbox",
        "id": "arrow_show_mobile",
        "label": "Show on mobile",
        "default": true
      },
      {
        "type": "header",
        "content": "Reviews colors"
      },
      {
        "type": "color",
        "label": "Background",
        "id": "review_bg_color",
        "default": "#F3F3F3"
      },
      {
        "type": "color",
        "label": "Border",
        "id": "review_border_color",
        "default": "#000000"
      },
      {
        "type": "color",
        "label": "Image border",
        "id": "image_border_color",
        "default": "#000000"
      },
      {
        "type": "color",
        "label": "Author",
        "id": "author_color",
        "default": "#000000"
      },
      {
        "type": "color",
        "label": "Text",
        "id": "text_color",
        "default": "#000000"
      },
      {
        "type": "color",
        "label": "Default stars",
        "id": "stars_color",
        "default": "#000000"
      },
      {
        "type": "header",
        "content": "Arrow colors"
      },
      {
        "type": "color",
        "label": "Arrow",
        "id": "arrow_color",
        "default": "#000000"
      },
      {
        "type": "color",
        "label": "Arrow hover",
        "id": "arrow_hover_color",
        "default": "#000000"
      },
      {
        "type": "color",
        "label": "Background",
        "id": "arrow_bg_color",
        "default": "#F3F3F3"
      },
      {
        "type": "color",
        "label": "Background hover",
        "id": "arrow_bg_hover_color",
        "default": "#DDDDDD"
      },
      {
        "type": "color",
        "label": "Border",
        "id": "arrow_border_color",
        "default": "#F3F3F3"
      },
      {
        "type": "color",
        "label": "Border hover",
        "id": "arrow_border_hover_color",
        "default": "#DDDDDD"
      },
      {
        "type": "header",
        "content": "Section colors"
      },
      {
        "type": "color",
        "label": "Section background",
        "id": "background_color",
        "default": "#F3F3F3"
      },
      {
        "type": "color_background",
        "id": "background_gradient",
        "label": "Section background gradient",
        "info": "Remove gradient to replace with solid colors"
      },
      {
        "type": "color",
        "label": "Border",
        "id": "border_color",
        "default": "#000000"
      },
      {
        "type": "header",
        "content": "Section margin (outside)"
      },
      {
        "type": "range",
        "id": "margin_top",
        "min": 0,
        "max": 100,
        "step": 2,
        "unit": "px",
        "label": "Top",
        "default": 10
      },
      {
        "type": "range",
        "id": "margin_bottom",
        "min": 0,
        "max": 100,
        "step": 2,
        "unit": "px",
        "label": "Bottom",
        "default": 10
      },
      {
        "type": "header",
        "content": "Section padding (inside)"
      },
      {
        "type": "range",
        "id": "padding_top",
        "min": 0,
        "max": 100,
        "step": 2,
        "unit": "px",
        "label": "Top",
        "default": 0
      },
      {
         "type": "range",
         "id": "padding_bottom",
         "min": 0,
         "max": 100,
         "step": 2,
         "unit": "px",
         "label": "Bottom",
         "default": 0
      },
      {
        "type": "range",
        "id": "padding_horizontal",
        "min": 0,
        "max": 30,
        "step": 1,
        "unit": "rem",
        "label": "Sides",
        "default": 0
      },
      {
        "type": "range",
        "id": "padding_horizontal_mobile",
        "min": 0,
        "max": 15,
        "step": 0.5,
        "unit": "rem",
        "label": "Sides - mobile",
        "default": 0
      },
      {
        "type": "header",
        "content": "Section"
      },
      {
        "type": "range",
        "id": "border_thickness",
        "min": 0,
        "max": 50,
        "step": 1,
        "unit": "px",
        "label": "Border thickness",
        "default": 0
      },
      {
        "type": "checkbox",
        "id": "lazy",
        "label": "Lazy load",
        "info": "Lazy load images for speed optimisation",
        "default": true
      }
    ],
    "blocks": [
      {
        "type": "review",
        "name": "Review",
        "settings": [
          {
            "type": "image_picker",
            "id": "image",
            "label": "Image"
          },
          {
            "type": "checkbox",
            "id": "hide_image",
            "label": "Hide image",
            "default": false
          },
          {
            "type": "text",
            "id": "author",
            "label": "Author",
            "default": "Author"
          },
          {
            "type": "range",
            "id": "stars_count",
            "min": 0,
            "max": 5,
            "step": 1,
            "label": "Stars count",
            "default": 5
          },
          {
            "type": "text",
            "id": "text",
            "label": "Text",
            "default": "Text"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "SS - Product reviews",
        "blocks": [
          {
            "type": "review",
            "settings": {
              "author": "Lori",
              "text": "Very pleased with this purchase! It's high-quality, easy to use, and reliable. Highly recommend for its efficiency and convenience."
            }
          },
          {
            "type": "review",
            "settings": {
              "author": "Jillian",
              "text": "Extremely satisfied with this product! It offers excellent quality and simplicity. I recommend for its effectiveness and user-friendliness"
            }
          }
        ]
      }
    ]
  }
{% endschema %}