<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
/>

{%- liquid 
  assign padding_horizontal = section.settings.padding_horizontal
  assign padding_horizontal_mobile = section.settings.padding_horizontal_mobile
  assign padding_top = section.settings.padding_top
  assign padding_bottom = section.settings.padding_bottom
  assign border_color = section.settings.border_color
  assign border_thickness = section.settings.border_thickness
  assign margin_top = section.settings.margin_top
  assign margin_bottom = section.settings.margin_bottom
  assign margin_horizontal_mobile = section.settings.margin_horizontal_mobile
  assign margin_horizontal = section.settings.margin_horizontal
  assign background_color = section.settings.background_color
  assign background_gradient = section.settings.background_gradient
  assign width = section.settings.width
  assign content_width = section.settings.content_width
  assign lazy = section.settings.lazy
  assign section_radius = section.settings.section_radius
  assign background_style = section.settings.background_style

  assign arrow_size = section.settings.arrow_size
  assign arrow_size_mobile = section.settings.arrow_size_mobile
  assign arrow_icon_size = section.settings.arrow_icon_size
  assign arrow_icon_size_mobile = section.settings.arrow_icon_size_mobile
  assign arrow_color = section.settings.arrow_color
  assign arrow_hover_color = section.settings.arrow_hover_color
  assign arrow_bg_color = section.settings.arrow_bg_color
  assign arrow_bg_hover_color = section.settings.arrow_bg_hover_color
  assign arrow_radius = section.settings.arrow_radius
  assign arrow_border_thickness = section.settings.arrow_border_thickness
  assign arrow_border_color = section.settings.arrow_border_color
  assign arrow_border_hover_color = section.settings.arrow_border_hover_color
  assign arrow_show_desktop = section.settings.arrow_show_desktop
  assign arrow_show_mobile = section.settings.arrow_show_mobile
  assign arrow_hover_effect = section.settings.arrow_hover_effect
  assign arrow_shadow = section.settings.arrow_shadow

  assign content_align = section.settings.content_align
  assign content_align_mobile = section.settings.content_align_mobile
  assign content_max_width = section.settings.content_max_width

  assign slider_view_mobile = section.settings.slider_view_mobile
  assign slider_view = section.settings.slider_view
  assign slider_mt = section.settings.slider_mt
  assign slider_mt_mobile = section.settings.slider_mt_mobile  
  assign slide_round = section.settings.slide_round

  assign slide_border_thickness = section.settings.slide_border_thickness
  assign slide_border_color = section.settings.slide_border_color
  assign slide_radius = section.settings.slide_radius

  assign video_loop = section.settings.video_loop
  assign video_ratio = section.settings.video_ratio
  assign video_ratio_mobile = section.settings.video_ratio_mobile
  assign use_video_shadow = section.settings.use_video_shadow

  assign content_padding_horizontal = section.settings.content_padding_horizontal
  assign content_padding_horizontal_mobile = section.settings.content_padding_horizontal_mobile
  assign content_padding_vertical = section.settings.content_padding_vertical
  assign content_padding_vertical_mobile = section.settings.content_padding_vertical_mobile
  assign profile_content_align = section.settings.profile_content_align
  assign profile_content_align_mobile = section.settings.profile_content_align_mobile

  assign profile_content_horizontal_align = ""
  if profile_content_align == "center"
    assign profile_content_horizontal_align = "center"
  elsif profile_content_align == "right"
    assign profile_content_horizontal_align = "end"
  else
    assign profile_content_horizontal_align = "start"
  endif

  assign profile_content_horizontal_align_mobile = ""
  if profile_content_align_mobile == "center"
    assign profile_content_horizontal_align_mobile = "center"
  elsif profile_content_align_mobile == "right"
    assign profile_content_horizontal_align_mobile = "end"
  else
    assign profile_content_horizontal_align_mobile = "start"
  endif

  assign verify_icon_width = section.settings.verify_icon_width
  assign verify_icon_width_mobile = section.settings.verify_icon_width_mobile
  assign verify_icon_bg = section.settings.verify_icon_bg
  assign verify_icon_color = section.settings.verify_icon_color

  assign name_custom = section.settings.name_custom
  assign name_font = section.settings.name_font
  assign name_size = section.settings.name_size
  assign name_size_mobile = section.settings.name_size_mobile
  assign name_height = section.settings.name_height
  assign name_color = section.settings.name_color
  assign name_gap = section.settings.name_gap
  assign name_gap_mobile = section.settings.name_gap_mobile

  assign text_custom = section.settings.text_custom
  assign text_font = section.settings.text_font
  assign text_size = section.settings.text_size
  assign text_size_mobile = section.settings.text_size_mobile
  assign text_height = section.settings.text_height
  assign text_color = section.settings.text_color
  assign text_mt = section.settings.text_mt
  assign text_mt_mobile = section.settings.text_mt_mobile
  assign text_max_length = section.settings.text_max_length

  assign stars_icon = section.settings.stars_icon
  assign stars_color = section.settings.stars_color
  assign stars_size = section.settings.stars_size
  assign stars_size_mobile = section.settings.stars_size_mobile
  assign stars_mt = section.settings.stars_mt
  assign stars_mt_mobile = section.settings.stars_mt_mobile

  assign control_size = section.settings.control_size
  assign control_size_mobile = section.settings.control_size_mobile
  assign control_radius = section.settings.control_radius
  assign control_color = section.settings.control_color

  assign lazy_load_setting = 'lazy'
  unless lazy
    assign lazy_load_setting = 'eager'
  endunless
-%}

{%- style -%}

  .section-{{ section.id }} {
    border-top: solid {{ border_color }} {{ border_thickness }}px;
    border-bottom: solid {{ border_color }} {{ border_thickness }}px;
    margin-top: {{ margin_top | times: 0.75 | round: 0 }}px;
    margin-bottom: {{ margin_bottom | times: 0.75 | round: 0 }}px;
    margin-left: {{ margin_horizontal_mobile }}rem;
    margin-right: {{ margin_horizontal_mobile }}rem;
    border-radius: {{ section_radius | times: 0.6 | round: 0 }}px;
    overflow: hidden;
    position: relative;
  }
  
  .section-{{ section.id }}-settings {
    margin: 0 auto;
    padding-top: {{ padding_top | times: 0.75 | round: 0 }}px;
    padding-bottom: {{ padding_bottom | times: 0.75 | round: 0 }}px;
    padding-left: {{ padding_horizontal_mobile }}rem;
    padding-right: {{ padding_horizontal_mobile }}rem;
  }

  .video-slider-btn-prev-{{ section.id }},
  .video-slider-btn-next-{{ section.id }} {
    display: flex;
    top: 50%;
    transform: translateY(-50%);
    width: {{ arrow_size_mobile }}px;
    height: {{ arrow_size_mobile }}px;
    border: 0px;
    border: {{ arrow_border_thickness }}px solid {{ arrow_border_color }};
    border-radius: {{ arrow_radius }}px;
    background: transparent;
    background: {{ arrow_bg_color }};
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease 0s;
    cursor: pointer;
    -webkit-appearance: none;
  }

  .video-slider-btn-prev-{{ section.id }} {
    left: 5%;
  }

  .video-slider-btn-next-{{ section.id }} {
    right: 5%;
  }

  .video-slider-btn-prev-{{ section.id }} .animate-icon,
  .video-slider-btn-next-{{ section.id }} .animate-icon {
    pointer-events: none;
    place-items: center;
    display: grid;
  }

  .video-slider-btn-prev-{{ section.id }} .animate-icon:before,
  .video-slider-btn-next-{{ section.id }} .animate-icon:before {
    content: "";
    grid-area: 1 / -1;
    transition: all .2s ease;
    width: {{ arrow_icon_size_mobile }}px;
    height: {{ arrow_icon_size_mobile }}px;
    transform: rotate(calc(1 * 45deg));
    box-sizing: border-box;
    border-style: solid;
    border: 0px;
    border-right: 2px solid currentColor;
    border-top: 2px solid currentColor;
    position: relative;
    left: -1px;
  }

  .video-slider-btn-prev-{{ section.id }} .animate-icon:before {
    left: unset;
    right: -1px;
    border-right: 0px;
    border-top: 0px;
    border-bottom: 2px solid currentColor;
    border-left: 2px solid currentColor;
  }

  .video-slider-btn-prev-{{ section.id }} .animate-icon:after,
  .video-slider-btn-next-{{ section.id }} .animate-icon:after {
    content: "";
    grid-area: 1 / -1;
    transition: all .2s ease;
    width: {{ arrow_icon_size_mobile | minus: 0.3 }}px;
    height: 1.6px;
    transform-origin: center;
    opacity: 0;
    background: currentColor;
    transform: scaleX(.5);
  }

  .video-slider-btn-prev-{{ section.id }} span,
  .video-slider-btn-next-{{ section.id }} span {
    color: {{ arrow_color }};
  }

  .video-slider-btn-prev-{{ section.id }}.swiper-button-disabled,
  .video-slider-btn-next-{{ section.id }}.swiper-button-disabled {
    opacity: 0.5;
  }

  .video-slider-wrapper-{{ section.id }} {
    position: relative;
  }

  .video-slider-wrapper-{{ section.id }} .swiper-wrapper {
    z-index: 0;
    align-items: stretch !important;    
    pointer-events: none !important;
  }

  .video-slider-{{ section.id }} {
    position: relative !important;
    margin-top: {{ slider_mt_mobile }}px;
    margin-left: -{{ padding_horizontal_mobile }}rem !important;
    margin-right: -{{ padding_horizontal_mobile }}rem !important;
    padding-left: {{ padding_horizontal_mobile }}rem !important;
    padding-right: {{ padding_horizontal_mobile }}rem !important;
    pointer-events: all !important;
  }

  .video-slider-slide-{{ section.id }} {
    position: relative !important;
    z-index: 3 !important;
    height: auto !important;
    box-sizing: border-box !important;
    border: {{ slide_border_thickness }}px solid {{ slide_border_color }} !important;
    border-radius: {{ slide_radius }}px !important;
    overflow: hidden !important;
    pointer-events: all !important;
    cursor: pointer;
  }

  .video-slider-video-{{ section.id }} {
    position: relative;
    overflow: hidden;
    background: #000000;
  }

  .video-slider-video-{{ section.id }} video,
  .video-slider-video-{{ section.id }} iframe {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover;
    border: 0px;
  }

  {% if use_video_shadow %}
    .video-slider-video-{{ section.id }}:after {
      content: "";
      position: absolute;
      bottom: 0;
      left: 0;
      z-index: 1;
      width: 100%;
      height: 50%;
      background: linear-gradient(180deg, rgba(0, 0, 0, 0) -0.46%, #000000 99.58%);
    }
  {% endif %}

  .video-slider-content-inner-{{ section.id }} {
    padding: {{ content_padding_vertical_mobile }}px {{ content_padding_horizontal_mobile }}px;
    position: absolute;
    left: 0;
    right: 0;
    z-index: 2;
    bottom: 0;
  }
  
  .video-slider-name-{{ section.id }} {
    margin: 0;    
    text-align: {{ profile_content_align_mobile }};
    text-transform: unset;
    font-size: {{ name_size_mobile }}px;
    line-height: {{ name_height }}%;
    color: {{ name_color }};  
    word-break: break-word;
    text-decoration: none;
    font-weight: 700;
    display: flex;
    align-items: center;
    justify-content: {{ profile_content_horizontal_align_mobile }};
    gap: {{ name_gap_mobile }}px;
  }

  .video-slider-name-{{ section.id }} svg {
    width: {{ verify_icon_width_mobile }}px;
  }

  .video-slider-details-{{ section.id }} {
    text-align: {{ profile_content_align_mobile }};
    margin-top: {{ text_mt_mobile }}px;    
  }

  .video-slider-details-{{ section.id }} * {
    margin: 0;    
    text-transform: unset;  
    font-size: {{ text_size_mobile }}px;
    line-height: {{ text_height }}%;
    color: {{ text_color }};  
    word-break: break-word;
    text-decoration: none;
  }

  .video-slider-control-{{ section.id }} {
    cursor: pointer;
    position: absolute;
    top: 50%;
    left: 50%;
    aspect-ratio: 1/1;
    transform: translate(-50%, -50%);
    z-index: 2;
  }

  .video-slider-control-{{ section.id }} svg path {
    /* fill: {{ control_color }}; */
    stroke: {{ control_color }};
  }

  .video-slider-control-{{ section.id }} svg path:first-child {
    fill: transparent;
    stroke: transparent !important;
  }

  .video-play-label-{{ section.id }} svg {
    
    width: {{ control_size_mobile }}px;
    height: {{ control_size_mobile }}px;
  }

  .video-play-label-{{ section.id }} {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: none;
    aspect-ratio: 1/1;
    border: none;
    cursor: pointer;
    border: 1px solid {{ control_color }};
    border-radius: {{ control_radius }}px;
    background-color: {{ control_color | hex_to_rgba: 0.2 }};
    overflow: hidden;
    z-index: 10;
    padding: 0;
    transition: opacity 0.3s;
  }

  .video-slider-control-{{ section.id }}.active .video-play-label-{{ section.id }} {
    opacity: 0;
  }
  
  .video-slider-stars-{{ section.id }} {
    display: flex;
    align-items: end;
    justify-content: {{ profile_content_horizontal_align_mobile }};
    gap: 4px;    
    margin-top: {{ stars_mt_mobile }}px;
  }

  .video-slider-stars-{{ section.id }} svg {
    background: transparent;
  }

  .video-slider-stars-{{ section.id }} svg,
  .video-slider-stars-{{ section.id }} img {
    display: block;
    width: {{ stars_size_mobile }}px;
    height: {{ stars_size_mobile }}px;
    object-fit: cover;
  }

  @media(min-width: 1024px) {

    .section-{{ section.id }} {
      margin-top: {{ margin_top }}px;
      margin-bottom: {{ margin_bottom }}px;
      margin-left: {{ margin_horizontal }}rem;
      margin-right: {{ margin_horizontal }}rem;
      border-radius: {{ section_radius }}px;
    }
    
    .section-{{ section.id }}-settings {
      padding: 0 5rem;
      padding-top: {{ padding_top }}px;
      padding-bottom: {{ padding_bottom }}px;
      padding-left: {{ padding_horizontal }}rem;
      padding-right: {{ padding_horizontal }}rem;
    }

    .video-slider-btn-prev-{{ section.id }},
    .video-slider-btn-next-{{ section.id }} {
      width: {{ arrow_size }}px;
      height: {{ arrow_size }}px;
      flex: none;
    }    

    .video-slider-btn-prev-{{ section.id }} .animate-icon:before,
    .video-slider-btn-next-{{ section.id }} .animate-icon:before {
      width: {{ arrow_icon_size }}px;
      height: {{ arrow_icon_size }}px;       
    }

    .video-slider-btn-prev-{{ section.id }} .animate-icon:after,
    .video-slider-btn-next-{{ section.id }} .animate-icon:after {
      width: {{ arrow_icon_size | minus: 0.3 }}px;
    }

    .video-slider-{{ section.id }} {   
      margin-top: {{ slider_mt }}px;
      margin-left: 0rem !important;
      margin-right: 0rem !important;
      padding-left: 0rem !important;
      padding-right: 0rem !important;
    }

    .video-slider-content-inner-{{ section.id }} {
      padding: {{ content_padding_vertical }}px {{ content_padding_horizontal }}px;
    }

    .video-play-label-{{ section.id }} svg {
      width: {{ control_size }}px;
      height: {{ control_size }}px;
    }

    .video-slider-name-{{ section.id }} {
      text-align: {{ profile_content_align }};
      font-size: {{ name_size }}px;
      justify-content: {{ profile_content_horizontal_align }};
      gap: {{ name_gap }}px;
    }

    .video-slider-name-{{ section.id }} svg {
      width: {{ verify_icon_width }}px;
    }

    .video-slider-details-{{ section.id }} {
      text-align: {{ profile_content_align }};
      margin-top: {{ text_mt }}px;    
    }

    .video-slider-details-{{ section.id }} * {
      font-size: {{ text_size }}px;
    }
    
    .video-slider-stars-{{ section.id }} {
      position: relative;
      z-index: 2;
      justify-content: {{ profile_content_horizontal_align }};
      margin-top: {{ stars_mt }}px;
    }

    .video-slider-stars-{{ section.id }} svg,
    .video-slider-stars-{{ section.id }} img {
      width: {{ stars_size }}px;
      height: {{ stars_size }}px;
    }
  }
{%- endstyle -%}

{% if width == 'custom' %}
  <style>
    .section-{{ section.id }}-settings {
      max-width: {{ content_width }}px;
    }
  </style>
{% elsif width == 'page' %}
  <style>
    .section-{{ section.id }}-settings {
      max-width: clamp(100px, var(--page-content-width, var(--page-width)), 100%);
    }
  </style>
{% endif %}

{% if margin_horizontal_mobile > 0 %}
  <style>
    .section-{{ section.id }} {
      border-left: solid {{ border_color }} {{ border_thickness }}px;
      border-right: solid {{ border_color }} {{ border_thickness }}px;
    }
    
    @media(min-width: 1024px) {
      .section-{{ section.id }} {
        border-left: 0px;
        border-right: 0px;
      }
    }
  </style>
{% endif %}

{% if margin_horizontal > 0 %}
  <style>
    @media(min-width: 1024px) {
      .section-{{ section.id }} {
        border-left: solid {{ border_color }} {{ border_thickness }}px;
        border-right: solid {{ border_color }} {{ border_thickness }}px;
      }
    }
  </style>
{% endif %}

{% if content_align_mobile == "left" %}
  <style>
    .video-slider-content-{{ section.id }} {
      text-align: left;
    }
  </style>
{% elsif content_align_mobile == "center" %}
  <style>
    .video-slider-content-{{ section.id }} {
      text-align: center;
    }
  </style>
{% elsif content_align_mobile == "right" %}
  <style>
    .video-slider-content-{{ section.id }} {
      text-align: right;
    }
  </style>
{% endif %}

{% if content_align == "left" %}
  <style>
    @media(min-width: 1024px) {
      .video-slider-content-{{ section.id }} {
        text-align: left;
      }
    }
  </style>
{% elsif content_align == "center" %}
  <style>
    @media(min-width: 1024px) {
    .video-slider-content-{{ section.id }} {
        text-align: center;
      }
    }
  </style>
{% elsif content_align == "right" %}
  <style>
    .video-slider-content-{{ section.id }} {
      text-align: right;
    }
  </style>
{% endif %}

{% if video_ratio_mobile == "portrait" %}
  <style>
    .video-slider-video-{{ section.id }} {
      aspect-ratio: 9.6/12; 
    }
  </style>
{% elsif video_ratio_mobile == "landscape" %}
  <style>
    .video-slider-video-{{ section.id }} {
      aspect-ratio: 12/8; 
    }
  </style>
{% elsif video_ratio_mobile == "square" %}
  <style>
    .video-slider-video-{{ section.id }} {
      aspect-ratio: 12/12; 
    }
  </style>
{% else %}
  <style>
    .video-slider-video-{{ section.id }} {
      aspect-ratio: auto; 
    }
  </style>
{% endif %}

{% if video_ratio == "portrait" %}
  <style>
    @media(min-width: 1024px) {
     .video-slider-video-{{ section.id }} {
        aspect-ratio: 9.6/12; 
      } 
    }
  </style>
{% elsif video_ratio == "landscape" %}
  <style>
    @media(min-width: 1024px) {
      .video-slider-video-{{ section.id }}{
        aspect-ratio: 12/8; 
      }
    }
  </style>
{% elsif video_ratio == "square" %}
  <style>
    @media(min-width: 1024px) {
      .video-slider-video-{{ section.id }} {
        aspect-ratio: 12/12; 
      }
    }
  </style>
{% else %}
  <style>
    @media(min-width: 1024px) {
      .video-slider-video-{{ section.id }} {
        aspect-ratio: auto; 
      }
    }
  </style>
{% endif %}

{% if name_custom %}
  <style>
    {{ name_font | font_face: font_display: 'swap' }}

    .video-slider-name-{{ section.id }} {
      font-family: {{ name_font.family }}, {{ name_font.fallback_families }};
      font-weight: {{ name_font.weight }};
      font-style: {{ name_font.style }};
    }
  </style>
{% endif %}

{% if text_custom %}
  <style>
    {{ text_font | font_face: font_display: 'swap' }}

    .video-slider-details-{{ section.id }} * {
      font-family: {{ text_font.family }}, {{ text_font.fallback_families }};
      font-weight: {{ text_font.weight }};
      font-style: {{ text_font.style }};
    }
  </style>
{% endif %}

{% if width == "full" %}
  <style>
    @media(min-width: 1024px) {
      .video-slider-wrapper-{{ section.id }} {
        -webkit-mask-image: linear-gradient(to right, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 15%, rgba(255,255,255,1) 85%, rgba(255,255,255,0) 100%);
        mask-image: linear-gradient(to right, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 15%, rgba(255,255,255,1) 85%, rgba(255,255,255,0) 100%);
      }
    }
   

    .section-{{ section.id }}-settings {
      padding-left: 0;
      padding-right: 0;
    }
  </style>
{% endif %}

{% if width != "full" %}
  <style>
    .video-slider-btn-prev-{{ section.id }},
    .video-slider-btn-next-{{ section.id }} {
      position: absolute;
      top: 50%;
      z-index: 2;
    }

    .video-slider-btn-prev-{{ section.id }} {
      left: 5%;
      transform: translateY(-50%);
    }

    .video-slider-btn-next-{{ section.id }} {
      right: 5%;
      transform: translateY(-50%);
    }
  </style>
{% endif %}

{% if arrow_shadow %}
  <style>
    .video-slider-btn-prev-{{ section.id }},
    .video-slider-btn-next-{{ section.id }} {
      box-shadow: 0px 7.86px 7.86px 0px #00000040;    
    }
   </style>
{% endif %}

{% if arrow_hover_effect == "color" %}
  <style>
    .video-slider-btn-prev-{{ section.id }}:hover,
    .video-slider-btn-next-{{ section.id }}:hover {
      transition: all 0.3s ease 0s;
      border: {{ arrow_border_thickness }}px solid {{ arrow_border_hover_color }};
      background: {{ arrow_bg_hover_color }};
    }
  
    .video-slider-btn-prev-{{ section.id }}:hover .animate-icon,
    .video-slider-btn-next-{{ section.id }}:hover .animate-icon {
      color: {{ arrow_hover_color }};
    }
  </style>
{% elsif arrow_hover_effect == "scale" %}
  <style>
    .video-slider-btn-prev-{{ section.id }}:hover,
    .video-slider-btn-next-{{ section.id }}:hover {
      transform: scale(0.9) translateY(-50%);
    }

    @media(min-width: 1024px) {
      .video-slider-btn-prev-{{ section.id }}:hover,
      .video-slider-btn-next-{{ section.id }}:hover {
        transform: scale(0.9) translateY(-50%);
      }
    }
  </style>
{% elsif arrow_hover_effect == "arrow" %}
  <style>
    .video-slider-btn-next-{{ section.id }}:hover .animate-icon:before {
      transform: translate(calc(1 * 0.125rem)) rotate(calc(1 * 45deg));
    }
  
    .video-slider-btn-prev-{{ section.id }}:hover .animate-icon:before {
      transform: translate(calc(-1 * 0.125rem)) rotate(calc(1 * 45deg));
    }
    
    .video-slider-btn-prev-{{ section.id }}:hover .animate-icon:after,
    .video-slider-btn-next-{{ section.id }}:hover .animate-icon:after {
      opacity: 1;
      transform: scaleX(1);
    }
  </style>
{% endif %}

{% if slide_round %}
  <style>
    @media(min-width: 1024px) {
      .video-slider-{{ section.id }} {
        -webkit-mask-image: linear-gradient(to right, rgba(0,0,0,0) 2%, rgba(0,0,0,1) 10%, rgba(0,0,0,1) 90%, rgba(0,0,0,0) 98%);
        mask-image: linear-gradient(to right, rgba(0,0,0,0) 2%, rgba(0,0,0,1) 10%, rgba(0,0,0,1) 90%, rgba(1, 0, 0, 0) 98%);
      }
    }
   

    .video-slider-slide-{{ section.id }} {
      border-radius: 999px !important;
    }
  </style>
{% endif %}

{% if arrow_show_mobile %}
  <style>
    .video-slider-btn-prev-{{ section.id }},
    .video-slider-btn-next-{{ section.id }} {
      display: flex;
    }
  </style>
{% else %}
  <style>
    .video-slider-btn-prev-{{ section.id }},
    .video-slider-btn-next-{{ section.id }} {
      display: none;
    }
  </style>
{% endif %}

{% if arrow_show_desktop %}
  <style>
    @media(min-width: 1024px) {
      .video-slider-btn-prev-{{ section.id }},
      .video-slider-btn-next-{{ section.id }} {
        display: flex;
      }
    }
  </style>
{% else %}
  <style>
    @media(min-width: 1024px) {
      .video-slider-btn-prev-{{ section.id }},
      .video-slider-btn-next-{{ section.id }} {
        display: none;
      }
    }
  </style>
{% endif %}

{% for block in section.blocks %}
  {% case block.type %}
    {% when 'subheading' %}
      <style>
        
        .video-slider-subheading-{{ block.id }} {
          margin: 0;
          margin-top: {{ block.settings.subheading_mt_mobile }}px;
          font-size: {{ block.settings.subheading_size_mobile }}px;
          line-height: {{ block.settings.subheading_height }}%;
          color: {{ block.settings.subheading_color }};
        }

        @media(min-width: 1024px) {
          .video-slider-subheading-{{ block.id }} {
            max-width: {{ content_max_width }}%;
            margin-top: {{ block.settings.subheading_mt }}px;
            font-size: {{block.settings.subheading_size}}px;
          }
        }
      </style>

      {% if block.settings.subheading_custom %}
        <style>
          {{ block.settings.subheading_font | font_face: font_display: 'swap' }}

          .video-slider-subheading-{{ block.id }} {
            font-family: {{ block.settings.subheading_font.family }}, {{ block.settings.subheading_font.fallback_families }};
            font-weight: {{ block.settings.subheading_font.weight }};
            font-style: {{ block.settings.subheading_font.style }};
          }
        </style>
      {% endif %}

    
      {% if content_align_mobile == "center" %}
        <style>
          .video-slider-subheading-{{ block.id }} {
            margin-left: auto;
            margin-right: auto;
          }
        </style>
      {% elsif content_align_mobile == "right" %}
        <style>
          .video-slider-subheading-{{ block.id }} {
            margin-left: auto;
          }
        </style>
      {% endif %}
      
      {% if content_align == "center" %}
        <style>
          @media(min-width: 1024px) {
            .video-slider-subheading-{{ block.id }} {
              margin-left: auto;
              margin-right: auto;
            } 
          }
        </style>
      {% elsif content_align == "right" %}
        <style>
          @media(min-width: 1024px) {
            .video-slider-subheading-{{ block.id }} {
              margin-left: auto;
              margin-right: 0px;
            } 
          }
        </style>
      {% else %}
        <style>
          @media(min-width: 1024px) {
            .video-slider-subheading-{{ block.id }} {
              margin-left: 0px;
              margin-right: 0px;
            } 
          }
        </style>
      {% endif %}

    {% when 'heading' %}
      <style>

        .video-slider-heading-{{ block.id }} {
          margin-top: {{ block.settings.heading_mt_mobile }}px;
        }
 
        .video-slider-heading-{{ block.id }} * {
          margin: 0;
          font-size: {{ block.settings.heading_size_mobile }}px;
          color: {{ block.settings.heading_color }};
          line-height: {{ block.settings.heading_height }}%;
        }

        @media(min-width: 1024px) {
          .video-slider-heading-{{ block.id }} {
            max-width: {{ content_max_width }}%;
            margin-top: {{ block.settings.heading_mt }}px;
          }

          .video-slider-heading-{{ block.id }} * {
            font-size: {{ block.settings.heading_size }}px;
          }
        }
      </style>
    
      {% if block.settings.heading_custom %}
        <style>
          {{ block.settings.heading_font | font_face: font_display: 'swap' }}

          .video-slider-heading-{{ block.id }} * {
            font-family: {{ block.settings.heading_font.family }}, {{ block.settings.heading_font.fallback_families }};
            font-weight: {{ block.settings.heading_font.weight }};
            font-style: {{ block.settings.heading_font.style }};
          }
        </style>
      {% endif %}

      
      {% if content_align_mobile == "center" %}
        <style>
          .video-slider-heading-{{ block.id }} {
            margin-left: auto;
            margin-right: auto;
          }
        </style>
      {% elsif content_align_mobile == "right" %}
        <style>
          .video-slider-heading-{{ block.id }} {
            margin-left: auto;
          }
        </style>
      {% endif %}
      
      {% if content_align == "center" %}
        <style>
          @media(min-width: 1024px) {
            .video-slider-heading-{{ block.id }} {
              margin-left: auto;
              margin-right: auto;
            } 
          }
        </style>
      {% elsif content_align == "right" %}
        <style>
          @media(min-width: 1024px) {
            .video-slider-heading-{{ block.id }} {
              margin-left: auto;
              margin-right: 0px;
            } 
          }
        </style>
      {% else %}
        <style>
          @media(min-width: 1024px) {
            .video-slider-heading-{{ block.id }} {
              margin-left: 0px;
              margin-right: 0px;
            } 
          }
        </style>
      {% endif %}

    {% when 'text' %}
      <style>

        .video-slider-text-{{ block.id }} {
          margin-top: {{ block.settings.text_mt_mobile }}px;
        }

        .video-slider-text-{{ block.id }} * {
          margin: 0;
          font-size: {{ block.settings.text_size_mobile }}px;
          line-height: {{ block.settings.text_height }}%;
          color: {{ block.settings.text_color }};
        }

        @media(min-width: 1024px) {
          .video-slider-text-{{ block.id }} {
            max-width: {{ content_max_width }}%;
            margin-top: {{ block.settings.text_mt }}px;
          }

          .video-slider-text-{{ block.id }} * {
            font-size: {{ block.settings.text_size }}px;
          }
        }
      </style>

      {% if block.settings.text_custom %}
        <style>
          {{ block.settings.text_font | font_face: font_display: 'swap' }}

          .video-slider-text-{{ block.id }} * {
            font-family: {{ block.settings.text_font.family }}, {{ block.settings.text_font.fallback_families }};
            font-weight: {{ block.settings.text_font.weight }};
            font-style: {{ block.settings.text_font.style }};
          }
        </style>
      {% endif %}

      
      {% if content_align_mobile == "center" %}
        <style>
          .video-slider-text-{{ block.id }} {
            margin-left: auto;
            margin-right: auto;
          }
        </style>
      {% elsif content_align_mobile == "right" %}
        <style>
          .video-slider-text-{{ block.id }} {
            margin-left: auto;
          }
        </style>
      {% endif %}
      
      {% if content_align == "center" %}
        <style>
          @media(min-width: 1024px) {
            .video-slider-text-{{ block.id }} {
              margin-left: auto;
              margin-right: auto;
            } 
          }
        </style>
      {% elsif content_align == "right" %}
        <style>
          @media(min-width: 1024px) {
            .video-slider-text-{{ block.id }} {
              margin-left: auto;
              margin-right: 0px;
            } 
          }
        </style>
      {% else %}
        <style>
          @media(min-width: 1024px) {
            .video-slider-text-{{ block.id }} {
              margin-left: 0px;
              margin-right: 0px;
            } 
          }
        </style>
      {% endif %}
  {% endcase %}
{% endfor %}

{% comment %} PREVIEW {% endcomment %}
<style>
  .video-slider-{{ section.id }}.preview .swiper-wrapper {
    display: flex;
    align-items: center;
    justify-content: space-between;
    overflow: hidden;
    gap: {{ section.settings.slider_gap }}px;
    padding: 10px;
  }

  .video-slider-{{ section.id }}.preview .video-slider-slide-{{ section.id }} {
    width: calc((100% - ({{ section.settings.slider_gap }}px * ({{ section.settings.slider_view | times: 1 }} - 1))) / {{ section.settings.slider_view | times: 1 }});
  }

  .video-slider-{{ section.id }}.preview .video-slider-slide-{{ section.id }}:not(:first-child) {
    margin-left: 10px;
  }

  @media(min-width: 1024px ) {
   .video-slider-{{ section.id }}.preview .video-slider-slide-{{ section.id }} {
      width: 33%;
    }
  }
</style>

<div class="section-{{ section.id }} example-{{ section.id }}" {% if background_style == 'solid' %}style="background-color:{{ background_color }};"{% else %} style="background-image: {{ background_gradient }};"{% endif %}>
  <div class="section-{{ section.id }}-settings">
    <div class="video-slider-content-{{ section.id }}">
      {% for block in section.blocks %}
        {% case block.type %}
        {% when 'subheading' %}
          {% if block.settings.subheading != blank %}
            <div class="video-slider-subheading-{{ block.id }}">
              {{ block.settings.subheading }}
            </div>
          {% endif %}
        {% when 'heading' %}
          {% if block.settings.heading != blank %}
            <div class="video-slider-heading-{{ block.id }}">
              {{ block.settings.heading }}
            </div>
          {% endif %}
        {% when 'text' %}
          {% if block.settings.text != blank %}
            <div class="video-slider-text-{{ block.id }}">{{ block.settings.text }}</div>
          {% endif %}  
        {% endcase %}
      {% endfor %}
    </div>
    <div class="video-slider-wrapper-{{ section.id }}">
      <div class="video-slider-{{ section.id }} preview swiper" data-view="{{ slider_view | times: 1 }}" data-view-mobile="{{ slider_view_mobile }}">
        <div class="swiper-wrapper">
          {% assign profile_blocks = section.blocks | where: "type", "profile" %}
          {% for item in (1..3) %}
            {% for block in profile_blocks %}
              <div class="video-slider-slide-{{ section.id }} swiper-slide">
                <div class="video-slider-video-{{ section.id }}">               
                  {% assign video_url_id = block.settings.video_url.id %}
                  {% assign loop_url = '&loop=1&playlist=' | append: video_url_id %}
                  {%- if block.settings.source != 'uploaded' -%}
                    {%  if block.settings.video_url != blank %}
                      {%- if block.settings.video_url.type == 'youtube' -%}
                        <iframe
                          {% if lazy %}data-{% endif %}src="https://www.youtube.com/embed/{{ video_url_id }}?enablejsapi=1&mute=1&autoplay=0&controls=0&modestbranding=1&showinfo=0&rel=0{{ loop_url }}"
                          data-src1="https://www.youtube.com/embed/{{ video_url_id }}?enablejsapi=1&mute=1&autoplay=1&controls=0&modestbranding=1&showinfo=0&rel=0{{ loop_url }}"  
                          data-src2="https://www.youtube.com/embed/{{ video_url_id }}?enablejsapi=1&mute=1&autoplay=0&controls=0&modestbranding=1&showinfo=0{{ loop_url }}" 
                          data-src3="about:blank"
                          allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
                          allowfullscreen
                          class="lazy"
                        ></iframe>
                      {%- elsif block.settings.video_url.type == 'vimeo' -%}
                        <iframe
                          {% if lazy %}data-{% endif %}src="https://player.vimeo.com/video/{{ video_url_id }}?enablejsapi=1&muted=1&autoplay=0&controls=0&modestbranding=1&showinfo=0&rel=0{{ loop_url }}"
                          data-src1="https://player.vimeo.com/video/{{ video_url_id }}?enablejsapi=1&muted=1&autoplay=1&controls=0&modestbranding=1&showinfo=0&rel=0{{ loop_url }}"  
                          data-src2="https://player.vimeo.com/video/{{ video_url_id }}?enablejsapi=1&muted=1&autoplay=0&controls=0&modestbranding=1&showinfo=0{{ loop_url }}" 
                          data-src3="about:blank"
                          allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
                          allowfullscreen
                          class="lazy"
                        ></iframe>
                        {% else %}
                           {% assign placeholder_video = 'https://cdn.shopify.com/videos/c/o/v/fbb140fd46e3429eba459e1549dbbe38.mp4' %}
                        <video {% if lazy %}data-{% endif %}src="{{ placeholder_video }}" playsinline preload="none" loop class="lazy"></video>
                        {% endif %}
                    {% endif %}
                  {% else %}
                    {% assign placeholder_video = 'https://cdn.shopify.com/videos/c/o/v/fbb140fd46e3429eba459e1549dbbe38.mp4' %}
                    <video 
                      {% if lazy %}data-{% endif %}
                      src="{% if block.settings.video != blank %}{{ block.settings.video.sources[1].url }}{% else %}{{ placeholder_video }}{% endif %}"
                      playsinline
                      preload="metadata"
                      {% if video_loop %}loop{% endif %}
                      class="lazy">
                    </video>                   
                  {% endif %}
                   <div class="video-slider-control-{{ section.id }}">
                      <button class="video-play-label-{{ section.id }}">
                        <svg width="61" height="60" viewBox="0 0 61 60" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M12.7461 0.5H48.7461C55.0974 0.5 60.2461 5.64873 60.2461 12V48C60.2461 54.3513 55.0974 59.5 48.7461 59.5H12.7461C6.39482 59.5 1.24609 54.3513 1.24609 48V12C1.24609 5.64873 6.39482 0.5 12.7461 0.5Z" fill="white" fill-opacity="0.2" stroke="white"/>
                          <path d="M21.7461 23.4817V36.5201C21.7461 39.1905 24.6062 40.8663 26.8889 39.5311L32.4615 36.2749L38.034 33.005C40.3168 31.6699 40.3168 28.3319 38.034 26.9967L32.4615 23.7269L26.8889 20.4707C24.6062 19.1356 21.7461 20.7977 21.7461 23.4817Z" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                      </button>
                    </div>
                </div>
                <div class="video-slider-content-inner-{{ section.id }}">
                  {% if block.settings.name != blank %}
                    <h3 class="video-slider-name-{{ section.id }}">
                      {{ block.settings.name }}
                      {% if block.settings.verify_icon %}
                        <svg viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M12.4333 3.31047C13.1946 2.65953 14.4413 2.65953 15.2136 3.31047L16.9568 4.81093C17.2878 5.09778 17.9056 5.32947 18.3469 5.32947H20.2225C21.392 5.32947 22.3518 6.28932 22.3518 7.45879V9.33437C22.3518 9.76465 22.5835 10.3935 22.8703 10.7245L24.3708 12.4677C25.0217 13.2289 25.0217 14.4756 24.3708 15.2479L22.8703 16.9911C22.5835 17.3221 22.3518 17.9399 22.3518 18.3813V20.2568C22.3518 21.4263 21.392 22.3862 20.2225 22.3862H18.3469C17.9166 22.3862 17.2878 22.6178 16.9568 22.9047L15.2136 24.4052C14.4523 25.0561 13.2056 25.0561 12.4333 24.4052L10.6901 22.9047C10.3592 22.6178 9.74133 22.3862 9.30002 22.3862H7.39134C6.22187 22.3862 5.26202 21.4263 5.26202 20.2568V18.3702C5.26202 17.9399 5.03033 17.3221 4.75451 16.9911L3.26508 15.2369C2.62518 14.4756 2.62518 13.24 3.26508 12.4787L4.75451 10.7245C5.03033 10.3935 5.26202 9.77568 5.26202 9.3454V7.44776C5.26202 6.27829 6.22187 5.31843 7.39134 5.31843H9.30002C9.7303 5.31843 10.3592 5.08675 10.6901 4.79989L12.4333 3.31047Z" fill="{{ verify_icon_bg }}" stroke="{{ verify_icon_bg }}" stroke-width="1.65492" stroke-linecap="round" stroke-linejoin="round"/>
                          <path d="M9.82031 13.8467L12.4792 16.5166L17.8081 11.1768" stroke="{{ verify_icon_color }}" stroke-width="1.65492" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                      {% endif %}
                    </h3>
                  {% endif %}
                  {% if block.settings.details != blank %}
                    <div class="video-slider-details-{{ section.id }}">
                      {% if text_max_length > 0 and block.settings.details.size > text_max_length %}
                        {{ block.settings.details | truncate: text_max_length }}
                      {% else %}
                        {{ block.settings.details }}
                      {% endif %}
                    </div>
                  {% endif %}
                  {% if block.settings.stars_count != 0 %}                  
                    <div class="video-slider-stars-{{ section.id }}">
                      {% if stars_icon != blank %}
                          {% assign stars_count_round = block.settings.stars_count | round: 0 %}
                          {% for item in (1..stars_count_round) %}
                            {%- capture sizes -%}(min-width: {{ content_width }}px) {{ content_width | minus: 100 | divided_by: 2 }}px, (min-width: 750px) calc((100vw - 130px) / 2), calc((100vw - 50px) / 2){%- endcapture -%}
                              {{ stars_icon | image_url: width: 1000 | image_tag:
                                loading: lazy_load_setting,
                                width: stars_icon.width,
                                height: stars_icon.height,
                                sizes: sizes,
                                widths: '360, 535, 750, 1070, 1500'
                              }}
                          {% endfor %}
                          {% else %}
                          <!-- Star 1 -->
                          <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                              {% if block.settings.stars_count >= 1 %}
                                  <path d="M10.1462 2.59401L11.4471 5.19588C11.6245 5.55808 12.0976 5.90549 12.4968 5.97201L14.8547 6.36377C16.3626 6.61509 16.7174 7.70905 15.6308 8.78824L13.7977 10.6214C13.4872 10.9318 13.3172 11.5306 13.4133 11.9593L13.9381 14.2285C14.3521 16.0247 13.3985 16.7195 11.8093 15.7808L9.59923 14.4724C9.20008 14.2359 8.54222 14.2359 8.13567 14.4724L5.92556 15.7808C4.34374 16.7195 3.38283 16.0173 3.79676 14.2285L4.32157 11.9593C4.41766 11.5306 4.24765 10.9318 3.9372 10.6214L2.10407 8.78824C1.02488 7.70905 1.37229 6.61509 2.88019 6.36377L5.23814 5.97201C5.6299 5.90549 6.10296 5.55808 6.28036 5.19588L7.5813 2.59401C8.2909 1.1822 9.444 1.1822 10.1462 2.59401Z" fill="{{ stars_color }}" stroke="{{ stars_color}}"/>
                              {% elsif block.settings.stars_count == 0.5 %}
                                  <path d="m10,2.563c-.304,0-.607.158-.763.474l-1.779,3.604-3.979.578c-.698.101-.977.959-.472,1.452l2.879,2.806-.68,3.962c-.119.695.61,1.225,1.235.897l3.558-1.87V2.563Z" fill="{{ stars_color }}" stroke="{{ stars_color}}"/>
                              {% endif %}
                          </svg>

                          <!-- Star 2 -->
                          <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                              {% if block.settings.stars_count >= 2 %}
                                  <path d="M10.1462 2.59401L11.4471 5.19588C11.6245 5.55808 12.0976 5.90549 12.4968 5.97201L14.8547 6.36377C16.3626 6.61509 16.7174 7.70905 15.6308 8.78824L13.7977 10.6214C13.4872 10.9318 13.3172 11.5306 13.4133 11.9593L13.9381 14.2285C14.3521 16.0247 13.3985 16.7195 11.8093 15.7808L9.59923 14.4724C9.20008 14.2359 8.54222 14.2359 8.13567 14.4724L5.92556 15.7808C4.34374 16.7195 3.38283 16.0173 3.79676 14.2285L4.32157 11.9593C4.41766 11.5306 4.24765 10.9318 3.9372 10.6214L2.10407 8.78824C1.02488 7.70905 1.37229 6.61509 2.88019 6.36377L5.23814 5.97201C5.6299 5.90549 6.10296 5.55808 6.28036 5.19588L7.5813 2.59401C8.2909 1.1822 9.444 1.1822 10.1462 2.59401Z" fill="{{ stars_color }}" stroke="{{ stars_color}}"/>
                              {% elsif block.settings.stars_count == 1.5 %}
                                  <path d="m10,2.563c-.304,0-.607.158-.763.474l-1.779,3.604-3.979.578c-.698.101-.977.959-.472,1.452l2.879,2.806-.68,3.962c-.119.695.61,1.225,1.235.897l3.558-1.87V2.563Z" fill="{{ stars_color }}" stroke="{{ stars_color}}"/>  
                              {% endif %}
                          </svg>

                          <!-- Star 3 -->
                          <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                              {% if block.settings.stars_count >= 3 %}
                                  <path d="M10.1462 2.59401L11.4471 5.19588C11.6245 5.55808 12.0976 5.90549 12.4968 5.97201L14.8547 6.36377C16.3626 6.61509 16.7174 7.70905 15.6308 8.78824L13.7977 10.6214C13.4872 10.9318 13.3172 11.5306 13.4133 11.9593L13.9381 14.2285C14.3521 16.0247 13.3985 16.7195 11.8093 15.7808L9.59923 14.4724C9.20008 14.2359 8.54222 14.2359 8.13567 14.4724L5.92556 15.7808C4.34374 16.7195 3.38283 16.0173 3.79676 14.2285L4.32157 11.9593C4.41766 11.5306 4.24765 10.9318 3.9372 10.6214L2.10407 8.78824C1.02488 7.70905 1.37229 6.61509 2.88019 6.36377L5.23814 5.97201C5.6299 5.90549 6.10296 5.55808 6.28036 5.19588L7.5813 2.59401C8.2909 1.1822 9.444 1.1822 10.1462 2.59401Z" fill="{{ stars_color }}" stroke="{{ stars_color}}"/>
                              {% elsif block.settings.stars_count == 2.5 %}
                                  <path d="m10,2.563c-.304,0-.607.158-.763.474l-1.779,3.604-3.979.578c-.698.101-.977.959-.472,1.452l2.879,2.806-.68,3.962c-.119.695.61,1.225,1.235.897l3.558-1.87V2.563Z" fill="{{ stars_color }}" stroke="{{ stars_color}}"/>                                
                              {% endif %}
                          </svg>

                          <!-- Star 4 -->
                          <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                              {% if block.settings.stars_count >= 4 %}
                                  <path d="M10.1462 2.59401L11.4471 5.19588C11.6245 5.55808 12.0976 5.90549 12.4968 5.97201L14.8547 6.36377C16.3626 6.61509 16.7174 7.70905 15.6308 8.78824L13.7977 10.6214C13.4872 10.9318 13.3172 11.5306 13.4133 11.9593L13.9381 14.2285C14.3521 16.0247 13.3985 16.7195 11.8093 15.7808L9.59923 14.4724C9.20008 14.2359 8.54222 14.2359 8.13567 14.4724L5.92556 15.7808C4.34374 16.7195 3.38283 16.0173 3.79676 14.2285L4.32157 11.9593C4.41766 11.5306 4.24765 10.9318 3.9372 10.6214L2.10407 8.78824C1.02488 7.70905 1.37229 6.61509 2.88019 6.36377L5.23814 5.97201C5.6299 5.90549 6.10296 5.55808 6.28036 5.19588L7.5813 2.59401C8.2909 1.1822 9.444 1.1822 10.1462 2.59401Z" fill="{{ stars_color }}" stroke="{{ stars_color}}"/>
                              {% elsif block.settings.stars_count == 3.5 %}
                                  <path d="m10,2.563c-.304,0-.607.158-.763.474l-1.779,3.604-3.979.578c-.698.101-.977.959-.472,1.452l2.879,2.806-.68,3.962c-.119.695.61,1.225,1.235.897l3.558-1.87V2.563Z" fill="{{ stars_color }}" stroke="{{ stars_color}}"/>
                              {% endif %}
                          </svg>

                          <!-- Star 5 -->
                          <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                              {% if block.settings.stars_count >= 5 %}
                                  <path d="M10.1462 2.59401L11.4471 5.19588C11.6245 5.55808 12.0976 5.90549 12.4968 5.97201L14.8547 6.36377C16.3626 6.61509 16.7174 7.70905 15.6308 8.78824L13.7977 10.6214C13.4872 10.9318 13.3172 11.5306 13.4133 11.9593L13.9381 14.2285C14.3521 16.0247 13.3985 16.7195 11.8093 15.7808L9.59923 14.4724C9.20008 14.2359 8.54222 14.2359 8.13567 14.4724L5.92556 15.7808C4.34374 16.7195 3.38283 16.0173 3.79676 14.2285L4.32157 11.9593C4.41766 11.5306 4.24765 10.9318 3.9372 10.6214L2.10407 8.78824C1.02488 7.70905 1.37229 6.61509 2.88019 6.36377L5.23814 5.97201C5.6299 5.90549 6.10296 5.55808 6.28036 5.19588L7.5813 2.59401C8.2909 1.1822 9.444 1.1822 10.1462 2.59401Z" fill="{{ stars_color }}" stroke="{{ stars_color}}"/>
                              {% elsif block.settings.stars_count == 4.5 %}
                                  <path d="m10,2.563c-.304,0-.607.158-.763.474l-1.779,3.604-3.979.578c-.698.101-.977.959-.472,1.452l2.879,2.806-.68,3.962c-.119.695.61,1.225,1.235.897l3.558-1.87V2.563Z" fill="{{ stars_color }}" stroke="{{ stars_color}}"/>
                              {% endif %}
                          </svg>
                      {% endif %}
                    </div>                       
                  {% endif %}  
                </div>
              </div>
            {% endfor %}
          {% endfor %} 
        </div>
      </div>     
      <button class="video-slider-btn-prev-{{ section.id }}">
        <span class="animate-icon"></span>
      </button>
      <button class="video-slider-btn-next-{{ section.id }}">
        <span class="animate-icon"></span>
      </button>    
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@19.1.3/dist/lazyload.min.js"></script>
<script src="https://www.youtube.com/iframe_api"></script>
<script src="https://player.vimeo.com/api/player.js"></script>

<script>
  function initVideoSlider() {
    document.querySelector('.video-slider-{{ section.id }}').classList.remove('preview');
    let lazyLoadInstance = new LazyLoad();
    window.addEventListener(
      "LazyLoad::Initialized",
      function (event) {
        window.lazyLoadInstance = event.detail.instance;
      },
      false
    );

    const slider = new Swiper(".video-slider-{{ section.id }}", {
      effect: "coverflow",
      centeredSlides: true,
      speed: 300,
      navigation: {
        nextEl: '.video-slider-btn-next-{{ section.id }}',
        prevEl: '.video-slider-btn-prev-{{ section.id }}',
      },
      loop: true,
       breakpoints: {
        320: {
          slidesPerView: parseFloat(document.querySelector(`.video-slider-{{ section.id }}`).dataset.viewMobile),
          coverflowEffect: {
            rotate: 0,
            stretch: 0,          
            depth: 160,            
            modifier: 1,
            slideShadows: false
          },
        },
        768: {       
          slidesPerView: parseFloat(document.querySelector(`.video-slider-{{ section.id }}`).dataset.viewMobile),
          coverflowEffect: {
            rotate: 0,
            stretch: 0,          
            depth: 160,            
            modifier: 1,
            slideShadows: false
          },
        },
        1024: {
          coverflowEffect: {
            rotate: 0,
            stretch: 0,
            {% if width == 'full' %}
              {% if slider_view == '3' %}
                depth: 387,
              {% elsif slider_view == '4' %}
                depth: 150,
              {% elsif slider_view == '5' %}
                depth: 240,
              {% endif %}
            {% else %}
              {% if slider_view == '3' %}
                depth: 400,
              {% elsif slider_view == '4' %}
                depth: 300,
              {% elsif slider_view == '5' %}
                depth: 240,
              {% endif %}
            {% endif %}
            modifier: 1,
            slideShadows: false
          },
          slidesPerView: parseFloat(document.querySelector(`.video-slider-{{ section.id }}`).dataset.view),
        },
        1200: {
          coverflowEffect: {
            rotate: 0,
            stretch: 0,
            {% if width == 'full' %}
              {% if slider_view == '3' %}
                depth: 387,
              {% elsif slider_view == '4' %}
                depth: 150,
              {% elsif slider_view == '5' %}
                depth: 240,
              {% endif %}
            {% else %}
              {% if slider_view == '3' %}
                depth: 400,
              {% elsif slider_view == '4' %}
                depth: 300,
              {% elsif slider_view == '5' %}
                depth: 240,
              {% endif %}
            {% endif %}
            modifier: 1,
            slideShadows: false
          },
          slidesPerView: parseFloat(document.querySelector(`.video-slider-{{ section.id }}`).dataset.view),
        },
        1500: {
          coverflowEffect: {
            rotate: 0,
            stretch: 0,
            {% if width == 'full' %}
              {% if slider_view == '3' %}
                depth: 387,
              {% elsif slider_view == '4' %}
                depth: 150,
              {% elsif slider_view == '5' %}
                depth: 240,
              {% endif %}
            {% else %}
              {% if slider_view == '3' %}
                depth: 400,
              {% elsif slider_view == '4' %}
                depth: 300,
              {% elsif slider_view == '5' %}
                depth: 240,
              {% endif %}
            {% endif %}
            modifier: 1,
            slideShadows: false
          },
          slidesPerView: parseFloat(document.querySelector(`.video-slider-{{ section.id }}`).dataset.view),
        }
      },
    });
    document.querySelector('.video-slider-{{ section.id }}').classList.remove('preview');
  }

  function initVideos() {
    const isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);
    const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
    const videoItems = document.querySelectorAll(`.video-slider-video-{{ section.id }}`);

    const youtubeUrlWithPlaysInline = (url) => {
      if (url.includes('youtube.com/embed')) {
        const separator = url.includes('?') ? '&' : '?';
        if (!url.includes('playsinline=')) {
          return `${url}${separator}playsinline=1`;
        }
      }
      return url;
    };

    videoItems.forEach((item) => {
      const video = item.querySelector('video');
      const iframeElement = item.querySelector('iframe');
      const videoButton = item.querySelector(`.video-slider-control-{{ section.id }}`);

      let youtubePlayer;
      let vimeoPlayer;
      let isVideoPlaying = false;
      let iframeInitialized = false;

      const initialDataSrc = iframeElement ? iframeElement.getAttribute('data-src2') : ''; 
      const isYoutube = initialDataSrc.includes('youtube.com');
      const isVimeo = initialDataSrc.includes('vimeo.com');

      if (iframeElement) {
        iframeElement.src = iframeElement.getAttribute('data-src2') || 'about:blank';
      }

      const initializeIframeVideo = (shouldPlay) => {
        if (!iframeElement || iframeInitialized) return;

        let srcToLoad = iframeElement.getAttribute('data-src2');
        if (isYoutube) {
          srcToLoad = youtubeUrlWithPlaysInline(srcToLoad);
        }
        
        if (isVimeo && !srcToLoad.includes('playsinline')) {
          const separator = srcToLoad.includes('?') ? '&' : '?';
          srcToLoad = `${srcToLoad}${separator}playsinline=1`;
        }
        
        iframeElement.src = srcToLoad;

        if (isYoutube) {
          if (typeof YT !== 'undefined' && YT.Player) {
            youtubePlayer = new YT.Player(iframeElement, {
              events: {
                onReady: (event) => {
                  iframeElement.youtubePlayerReady = true;
                  iframeElement.youtubePlayer = event.target;
                  
                  if (shouldPlay) {
                    event.target.unMute();
                    event.target.playVideo();
                  }
                },
                onStateChange: (event) => {
                  if (event.data === YT.PlayerState.PLAYING) {
                    isVideoPlaying = true;
                  } else if (event.data === YT.PlayerState.PAUSED || event.data === YT.PlayerState.ENDED) {
                    isVideoPlaying = false;
                  }
                },
              },
            });
          } else {
            window.onYouTubeIframeAPIReady = () => {
              youtubePlayer = new YT.Player(iframeElement, {
                events: {
                  onReady: (event) => {
                    iframeElement.youtubePlayerReady = true;
                    iframeElement.youtubePlayer = event.target;
                    if (shouldPlay) {
                      event.target.unMute();
                      event.target.playVideo();
                    }
                  },
                  onStateChange: (event) => {
                    if (event.data === YT.PlayerState.PLAYING) {
                      isVideoPlaying = true;
                    } else if (event.data === YT.PlayerState.PAUSED || event.data === YT.PlayerState.ENDED) {
                      isVideoPlaying = false;
                    }
                  },
                },
              });
            };
          }
        } else if (isVimeo) {
          vimeoPlayer = new Vimeo.Player(iframeElement);
          
          vimeoPlayer.ready().then(() => {
            iframeElement.vimeoPlayerReady = true;
            iframeElement.vimeoPlayer = vimeoPlayer;
            
            return vimeoPlayer.setVolume(1);
          }).then(() => {
            if (shouldPlay) {
              return vimeoPlayer.play();
            }
          }).catch((error) => {
            console.log('Vimeo initialization:', error);
          });

          vimeoPlayer.on('play', () => {
            isVideoPlaying = true;
          });
          vimeoPlayer.on('pause', () => {
            isVideoPlaying = false;
          });
          vimeoPlayer.on('ended', () => {
            isVideoPlaying = false;
          });
        }
        iframeInitialized = true;
      };

      function playVideo() {
        if (isVideoPlaying) {
          pauseVideo();
          return;
        }

        videoItems.forEach((otherItem) => {
          if (otherItem === item) return;
          const otherVideo = otherItem.querySelector('video');
          const otherIframeElement = otherItem.querySelector('iframe');

          if (otherVideo) otherVideo.pause();
          if (otherIframeElement) {
            const otherYoutubePlayer = otherIframeElement.youtubePlayer;
            const otherVimeoPlayer = otherIframeElement.vimeoPlayer;
            if (otherYoutubePlayer && otherIframeElement.youtubePlayerReady) {
              otherYoutubePlayer.pauseVideo();
            } else if (otherVimeoPlayer && otherIframeElement.vimeoPlayerReady) {
              otherVimeoPlayer.pause();
            }
          }
          const otherBtn = otherItem.querySelector(`.video-slider-action-{{ section.id }}`);
          if (otherBtn) otherBtn.classList.add('active');
        });

        isVideoPlaying = true;
        videoButton.classList.add('active');

        if (video) {
          video.play().catch(() => {
            video.muted = true;
            video.play();
          });
        }

        if (iframeElement) {
          const currentYoutubePlayer = iframeElement.youtubePlayer;
          const currentVimeoPlayer = iframeElement.vimeoPlayer;

          if (!iframeInitialized) {
            //  
            initializeIframeVideo(true); 
          } else if (currentYoutubePlayer && iframeElement.youtubePlayerReady) {
            currentYoutubePlayer.unMute();
            currentYoutubePlayer.playVideo();
          } else if (currentVimeoPlayer && iframeElement.vimeoPlayerReady) {
            //    iOS:  ,  
            currentVimeoPlayer.setVolume(1).then(() => {
              return currentVimeoPlayer.play();
            }).catch((error) => {
              console.error("Error playing Vimeo:", error);
              // Fallback:      
              setTimeout(() => {
                currentVimeoPlayer.play().catch(e => {
                  console.error("Retry failed:", e);
                  isVideoPlaying = false;
                  videoButton.classList.remove('active');
                });
              }, 300);
            });
          } else {
            iframeInitialized = false;
            initializeIframeVideo(true);
          }
        }
      }

      function pauseVideo() {
        isVideoPlaying = false;
        videoButton.classList.remove('active');

        if (video) {
          video.pause();
        }
        if (iframeElement) {
          const currentYoutubePlayer = iframeElement.youtubePlayer;
          const currentVimeoPlayer = iframeElement.vimeoPlayer;

          if (currentYoutubePlayer && iframeElement.youtubePlayerReady) {
            currentYoutubePlayer.pauseVideo();
          } else if (currentVimeoPlayer && iframeElement.vimeoPlayerReady) {
            currentVimeoPlayer.pause().catch((error) => {
              console.error("Error pausing Vimeo video:", error);
              isVideoPlaying = true;
              videoButton.classList.add('active');
            });
          } else {
            iframeElement.src = iframeElement.getAttribute('data-src2') || 'about:blank';
            iframeInitialized = false;
          }
        }
      }

      if (isVimeo && isIOS) {
        const observer = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting && !iframeInitialized) {
              setTimeout(() => {
                initializeIframeVideo(false);
              }, 100);
            }
          });
        }, { threshold: 0.5 });
        
        observer.observe(item);
      }

      if (videoButton) {
        videoButton.addEventListener('click', playVideo);
      }
    });
  }

  if (typeof window.onYouTubeIframeAPIReady === 'undefined') {
    window.onYouTubeIframeAPIReady = () => {
      document.dispatchEvent(new Event('youtubeAPIReady'));
      initVideos();
    };
  } else {
    const originalOnYouTubeIframeAPIReady = window.onYouTubeIframeAPIReady;
    window.onYouTubeIframeAPIReady = () => {
      originalOnYouTubeIframeAPIReady();
      document.dispatchEvent(new Event('youtubeAPIReady'));
      initVideos();
    };
  }

  document.addEventListener('DOMContentLoaded', initVideoSlider);
  document.addEventListener('DOMContentLoaded', initVideos);

  if (Shopify.designMode) {
    document.addEventListener('shopify:section:unload', initVideoSlider);
    document.addEventListener('shopify:section:load', initVideoSlider);
    document.addEventListener('shopify:section:unload', initVideos);
    document.addEventListener('shopify:section:load', initVideos);
  }
</script>

{% schema %}
  {
    "name": "SG- Video slider #5",
    "settings": [
      {
        "type": "paragraph",
        "content": " Save to display section correctly"
      },
      {
        "type": "header",
        "content": "Content"
      },
      {
        "type": "range",
        "id": "content_max_width",
        "min": 0,
        "max": 100,
        "step": 2,
        "unit": "%",
        "label": "Max width",
        "default": 80
      },
      {
        "type": "text_alignment",
        "id": "content_align",
        "label": "Alignment",
        "default": "center"
      },
      {
        "type": "text_alignment",
        "id": "content_align_mobile",
        "label": "Alignment - mobile",
        "default": "center"
      },
      {
        "type": "header",
        "content": "Arrows"
      },
      {
        "type": "checkbox",
        "id": "arrow_show_desktop",
        "label": "Show on desktop",
        "default": true
      },
      {
        "type": "checkbox",
        "id": "arrow_show_mobile",
        "label": "Show on mobile",
        "default": false
      },
      {
        "type": "range",
        "id": "arrow_size",
        "min": 10,
        "max": 100,
        "step": 2,
        "unit": "px",
        "label": "Size",
        "default": 50,
        "visible_if": "{{ section.settings.arrow_show_desktop }}"
      },
      {
        "type": "range",
        "id": "arrow_size_mobile",
        "min": 10,
        "max": 100,
        "step": 2,
        "unit": "px",
        "label": "Size - mobile",
        "default": 50,
        "visible_if": "{{ section.settings.arrow_show_mobile }}"
      },
      {
        "type": "range",
        "id": "arrow_icon_size",
        "min": 5,
        "max": 15,
        "step": 1,
        "unit": "px",
        "label": "Icon size",
        "default": 10,
        "visible_if": "{{ section.settings.arrow_show_desktop }}"
      },
      {
        "type": "range",
        "id": "arrow_icon_size_mobile",
        "min": 5,
        "max": 15,
        "step": 1,
        "unit": "px",
        "label": "Icon size - mobile",
        "default": 10,
        "visible_if": "{{ section.settings.arrow_show_mobile }}"
      },
      {
        "type": "range",
        "id": "arrow_radius",
        "min": 0,
        "max": 100,
        "step": 2,
        "unit": "px",
        "label": "Roundness",
        "default": 100,
        "visible_if": "{{ section.settings.arrow_show_desktop or section.settings.arrow_show_mobile }}"
      },
      {
        "type": "range",
        "id": "arrow_border_thickness",
        "min": 0,
        "max": 10,
        "step": 1,
        "unit": "px",
        "label": "Border thickness",
        "default": 0,
        "visible_if": "{{ section.settings.arrow_show_desktop or section.settings.arrow_show_mobile }}"
      },
      {
        "type": "select",
        "id": "arrow_hover_effect",
        "label": "Hover effect",
        "default": "color",
        "visible_if": "{{ section.settings.arrow_show_desktop or section.settings.arrow_show_mobile }}",
        "options": [
          {
            "label": "Change color",
            "value": "color"
          },
          {
            "label": "Change size",
            "value": "scale"
          },
          {
            "label": "Change arrow",
            "value": "arrow"
          },
          {
            "label": "None",
            "value": "none"
          }
        ]
      },
      {
        "type": "checkbox",
        "id": "arrow_shadow",
        "label": "Use shadow",
        "default": true,
        "visible_if": "{{ section.settings.arrow_show_desktop or section.settings.arrow_show_mobile }}"
      }, 
      {
        "type": "header",
        "content": "Slider"
      },
      {
        "type": "select",
        "id": "slider_view",
        "label": "Slides to show",
        "default": "3",
        "options": [
          {
            "label": "5",
            "value": "3"
          },
          {
            "label": "7",
            "value": "4"
          },
           {
            "label": "9",
            "value": "5"
          },
        ]
      },   
      {
        "type": "range",
        "id": "slider_view_mobile",
        "min": 1,
        "max": 1.5,
        "step": 0.1,
        "label": "Slides to show - mobile",
        "default": 1.2
      }, 
      {
        "type": "checkbox",
        "id": "slider_advanced",
        "label": "Advanced settings"
      },
      {
        "type": "range",
        "id": "slider_mt",
        "min": 0,
        "max": 100,
        "step": 2,
        "unit": "px",
        "label": "Margin top",
        "default": 48,
        "visible_if": "{{ section.settings.slider_advanced }}"
      },
      {
        "type": "range",
        "id": "slider_mt_mobile",
        "min": 0,
        "max": 100,
        "step": 2,
        "unit": "px",
        "label": "Margin top - mobile",
        "default": 32,
        "visible_if": "{{ section.settings.slider_advanced }}"
      },
      {
        "type": "header",
        "content": "Profile card"
      },  
      {
        "type": "range",
        "id": "slide_border_thickness",
        "min": 0,
        "max": 10,
        "step": 1,
        "unit": "px",
        "label": "Border thickness",
        "default": 0
      },  
      {
        "type": "checkbox",
        "id": "slide_round",
        "label": "Max roundness",
        "default": false
      },
      {
        "type": "range",
        "id": "slide_radius",
        "min": 0,
        "max": 100,
        "step": 2,
        "unit": "px",
        "label": "Roundness",
        "default": 12,
        "visible_if": "{{ section.settings.slide_round != true }}"
      },
      {
        "type": "header",
        "content": "Profile video"
      },
      {
        "type": "select",
        "id": "video_ratio",
        "label": "Aspect ratio",
        "default": "portrait",
        "options": [
          {
            "label": "Portrait",
            "value": "portrait"
          },
          {
            "label": "Square",
            "value": "square"
          },
          {
            "label": "Landscape",
            "value": "landscape"
          },
          {
            "label": "Original",
            "value": "original"
          }
        ]
      },
      {
        "type": "select",
        "id": "video_ratio_mobile",
        "label": "Aspect ratio - mobile",
        "default": "portrait",
        "options": [
          {
            "label": "Portrait",
            "value": "portrait"
          },
          {
            "label": "Square",
            "value": "square"
          },
          {
            "label": "Landscape",
            "value": "landscape"
          },
          {
            "label": "Original",
            "value": "original"
          }
        ]
      },
      {
        "type": "checkbox",
        "id": "video_loop",
        "label": "Loop video",
        "default": true
      },
      {
        "type": "checkbox",
        "id": "use_video_shadow",
        "label": "Use shadow",
        "default": true
      },      
      {
        "type": "header",
        "content": "Play button"
      },
      {
        "type": "range",
        "id": "control_size",
        "min": 0,
        "max": 100,
        "step": 2,
        "unit": "px",
        "label": "Size",
        "default": 60
      },
      {
        "type": "range",
        "id": "control_size_mobile",
        "min": 0,
        "max": 100,
        "step": 2,
        "unit": "px",
        "label": "Size - mobile",
        "default": 60
      },
      {
        "type": "range",
        "id": "control_radius",
        "min": 0,
        "max": 100,
        "step": 2,
        "unit": "px",
        "label": "Roundness",
        "default": 12
      },
      {
        "type": "header",
        "content": "Profile content"
      },    
      {
        "type": "checkbox",
        "id": "content_advanced",
        "label": "Advanced settings"
      },
      {
        "type": "range",
        "id": "content_padding_horizontal",
        "min": 0,
        "max": 100,
        "step": 2,
        "unit": "px",
        "label": "Padding horizontal",
        "default": 24,
        "visible_if": "{{ section.settings.content_advanced }}"
      },
      {
        "type": "range",
        "id": "content_padding_horizontal_mobile",
        "min": 0,
        "max": 100,
        "step": 2,
        "unit": "px",
        "label": "Padding horizontal - mobile",
        "default": 20,
        "visible_if": "{{ section.settings.content_advanced }}"
      },
      {
        "type": "range",
        "id": "content_padding_vertical",
        "min": 0,
        "max": 100,
        "step": 2,
        "unit": "px",
        "label": "Padding vertical",
        "default": 24,
        "visible_if": "{{ section.settings.content_advanced }}"
      },
      {
        "type": "range",
        "id": "content_padding_vertical_mobile",
        "min": 0,
        "max": 100,
        "step": 2,
        "unit": "px",
        "label": "Padding vertical - mobile",
        "default": 20,
        "visible_if": "{{ section.settings.content_advanced }}"
      },
      {
        "type": "text_alignment",
        "id": "profile_content_align",
        "label": "Alignment",
        "default": "center"
      },
      {
        "type": "text_alignment",
        "id": "profile_content_align_mobile",
        "label": "Alignment - mobile",
        "default": "center"
      },
      {
        "type": "header",
        "content": "Verified icon"
      },
      {
        "type": "range",
        "id": "verify_icon_width",
        "min": 0,
        "max": 40,
        "step": 1,
        "unit": "px",
        "label": "Size",
        "default": 16
      },
      {
        "type": "range",
        "id": "verify_icon_width_mobile",
        "min": 0,
        "max": 40,
        "step": 1,
        "unit": "px",
        "label": "Size - mobile",
        "default": 16
      },
      {
        "type": "header",
        "content": "Profile name"
      },
      {
        "type": "checkbox",
        "id": "name_custom",
        "label": "Use custom font",
        "default": false
      },
      {
        "type": "font_picker",
        "id": "name_font",
        "label": "Font family",
        "default": "josefin_sans_n4",
        "visible_if": "{{ section.settings.name_custom }}"
      },
      {
        "type": "range",
        "id": "name_size",
        "min": 0,
        "max": 40,
        "step": 1,
        "unit": "px",
        "label": "Font size",
        "default": 20
      },
      {
        "type": "range",
        "id": "name_size_mobile",
        "min": 0,
        "max": 40,
        "step": 1,
        "unit": "px",
        "label": "Font size - mobile",
        "default": 20
      },
      {
        "type": "checkbox",
        "id": "name_advanced",
        "label": "Advanced settings"
      },
      {
        "type": "range",
        "id": "name_height",
        "min": 50,
        "max": 200,
        "step": 10,
        "unit": "%",
        "label": "Line height",
        "default": 130,
        "visible_if": "{{ section.settings.name_advanced }}"
      },
      {
        "type": "range",
        "id": "name_gap",
        "min": 0,
        "max": 20,
        "step": 1,
        "unit": "px",
        "label": "Gap",
        "default": 8,
        "visible_if": "{{ section.settings.name_advanced }}"
      },
      {
        "type": "range",
        "id": "name_gap_mobile",
        "min": 0,
        "max": 20,
        "step": 1,
        "unit": "px",
        "label": "Gap - mobile",
        "default": 8,
        "visible_if": "{{ section.settings.name_advanced }}"
      },
      {
        "type": "header",
        "content": "Profile details"
      },
      {
        "type": "checkbox",
        "id": "text_custom",
        "label": "Use custom font",
        "default": false
      },
      {
        "type": "font_picker",
        "id": "text_font",
        "label": "Font family",
        "default": "josefin_sans_n4",
        "visible_if": "{{ section.settings.text_custom }}"
      },
      {
        "type": "range",
        "id": "text_size",
        "min": 0,
        "max": 40,
        "step": 1,
        "unit": "px",
        "label": "Font size",
        "default": 14
      },
      {
        "type": "range",
        "id": "text_size_mobile",
        "min": 0,
        "max": 40,
        "step": 1,
        "unit": "px",
        "label": "Font size - mobile",
        "default": 14
      },
      {
        "type": "checkbox",
        "id": "text_advanced",
        "label": "Advanced settings",
        "default": false
      },
      {
        "type": "range",
        "id": "text_height",
        "min": 50,
        "max": 200,
        "step": 10,
        "unit": "%",
        "label": "Line height",
        "default": 150,
        "visible_if": "{{ section.settings.text_advanced }}"
      },
      {
        "type": "range",
        "id": "text_mt",
        "min": 0,
        "max": 50,
        "step": 1,
        "unit": "px",
        "label": "Margin top",
        "default": 4,
        "visible_if": "{{ section.settings.text_advanced }}"
      },
      {
        "type": "range",
        "id": "text_mt_mobile",
        "min": 0,
        "max": 50,
        "step": 1,
        "unit": "px",
        "label": "Margin top - mobile",
        "default": 4,
        "visible_if": "{{ section.settings.text_advanced }}"
      },
      {
        "type": "range",
        "id": "text_max_length",
        "min": 0,
        "max": 300,
        "step": 10,
        "label": "Max description length",
        "default": 0,
        "info": "Set to 0 to show full description"
      },
            {
        "type": "header",
        "content": "Stars"
      },
      {
        "type": "image_picker",
        "label": "Stars icon",
        "id": "stars_icon",
        "info": "Replaces the default stars icon"
      },
      {
        "type": "range",
        "id": "stars_size",
        "min": 0,
        "max": 30,
        "step": 1,
        "unit": "px",
        "label": "Size",
        "default": 15
      },
      {
        "type": "range",
        "id": "stars_size_mobile",
        "min": 0,
        "max": 30,
        "step": 1,
        "unit": "px",
        "label": "Size - mobile",
        "default": 14
      },
      {
        "type": "checkbox",
        "id": "stars_advanced",
        "label": "Advanced settings",
        "default": false
      },
      {
        "type": "range",
        "id": "stars_mt",
        "min": 0,
        "max": 50,
        "step": 1,
        "unit": "px",
        "label": "Margin top",
        "default": 12,
        "visible_if": "{{ section.settings.stars_advanced }}"
      },
      {
        "type": "range",
        "id": "stars_mt_mobile",
        "min": 0,
        "max": 50,
        "step": 1,
        "unit": "px",
        "label": "Margin top - mobile",
        "default": 12,
        "visible_if": "{{ section.settings.stars_advanced }}"
      },  
      {
        "type": "header",
        "content": "Arrow colors",
        "visible_if": "{{ section.settings.arrow_show_desktop or section.settings.arrow_show_mobile }}"
      },
      {
        "type": "color",
        "label": "Icon",
        "id": "arrow_color",
        "default": "#121212",
        "visible_if": "{{ section.settings.arrow_show_desktop or section.settings.arrow_show_mobile }}"
      },
      {
        "type": "color",
        "label": "Icon hover",
        "id": "arrow_hover_color",
        "default": "#FFFFFF",
        "visible_if": "{{ section.settings.arrow_hover_effect == 'color' and section.settings.arrow_show_desktop or section.settings.arrow_hover_effect == 'color' and section.settings.arrow_show_mobile }}"
      },
      {
        "type": "color",
        "label": "Background",
        "id": "arrow_bg_color",
        "default": "#FFFFFF",
        "visible_if": "{{ section.settings.arrow_show_desktop or section.settings.arrow_show_mobile }}"
      },
      {
        "type": "color",
        "label": "Background hover",
        "id": "arrow_bg_hover_color",
        "default": "#121212",
        "visible_if": "{{ section.settings.arrow_hover_effect == 'color' and section.settings.arrow_show_desktop or section.settings.arrow_hover_effect == 'color' and section.settings.arrow_show_mobile }}"
      },
      {
        "type": "color",
        "label": "Border",
        "id": "arrow_border_color",
        "default": "#121212",
        "visible_if": "{{ section.settings.arrow_show_desktop or section.settings.arrow_show_mobile }}"
      },
      {
        "type": "color",
        "label": "Border hover",
        "id": "arrow_border_hover_color",
        "default": "#121212",
        "visible_if": "{{ section.settings.arrow_hover_effect == 'color' and section.settings.arrow_show_desktop or section.settings.arrow_hover_effect == 'color' and section.settings.arrow_show_mobile }}"
      },   
      {
        "type": "header",
        "content": "Verified icon colors"
      },
      {
        "type": "color",
        "label": "Icon",
        "id": "verify_icon_color",
        "default": "#FFFFFF"
      },
      {
        "type": "color",
        "label": "Background",
        "id": "verify_icon_bg",
        "default": "#4C8AE7"
      },
      {
        "type": "header",
        "content": "Profile colors"
      },     
      {
        "type": "color",
        "label": "Play button",
        "id": "control_color",
        "default": "#FFFFFF"
      },
      {
        "type": "color",
        "label": "Name",
        "id": "name_color",
        "default": "#FFFFFF"
      },
      {
        "type": "color",
        "label": "Details",
        "id": "text_color",
        "default": "#FFFFFF"
      },
      {
        "type": "color",
        "label": "Default stars",
        "id": "stars_color",
        "default": "#F6AF00",
        "visible_if": "{{ section.settings.stars_icon == blank }}"
      },  
      {
        "type": "color",
        "label": "Border",
        "id": "slide_border_color",
        "default": "#121212"
      }, 
      {
        "type": "header",
        "content": "Section colors"
      },
      {
        "type": "select",
        "id": "background_style",
        "label": "Background style",
        "default": "solid",
        "options": [
          {
            "label": "Solid",
            "value": "solid"
          },
          {
            "label": "Gradient",
            "value": "gradient"
          }
        ]
      },
      {
        "type": "color",
        "label": "Background",
        "id": "background_color",
        "default": "#FFFFFF",
        "visible_if": "{{ section.settings.background_style == 'solid' }}"
      },
      {
        "type": "color_background",
        "id": "background_gradient",
        "label": "Gradient",
        "default": "linear-gradient(180deg, #FFFFFF 0%, #F2F2F2 100%)",
        "visible_if": "{{ section.settings.background_style == 'gradient' }}"
      },
      {
        "type": "color",
        "label": "Border",
        "id": "border_color",
        "default": "#121212"
      },
      {
        "type": "header",
        "content": "Section margin (outside)"
      },
      {
        "type": "range",
        "id": "margin_top",
        "min": 0,
        "max": 100,
        "step": 4,
        "unit": "px",
        "label": "Top",
        "default": 0
      },
      {
        "type": "range",
        "id": "margin_bottom",
        "min": 0,
        "max": 100,
        "step": 4,
        "unit": "px",
        "label": "Bottom",
        "default": 0
      },
      {
        "type": "range",
        "id": "margin_horizontal",
        "min": 0,
        "max": 30,
        "step": 0.5,
        "unit": "rem",
        "label": "Sides",
        "default": 0
      },
      {
        "type": "range",
        "id": "margin_horizontal_mobile",
        "min": 0,
        "max": 15,
        "step": 0.5,
        "unit": "rem",
        "label": "Sides - mobile",
        "default": 0
      },
      {
        "type": "header",
        "content": "Section padding (inside)"
      },
      {
        "type": "range",
        "id": "padding_top",
        "min": 0,
        "max": 100,
        "step": 4,
        "unit": "px",
        "label": "Top",
        "default": 36
      },
      {
        "type": "range",
        "id": "padding_bottom",
        "min": 0,
        "max": 100,
        "step": 4,
        "unit": "px",
        "label": "Bottom",
        "default": 36
      },
      {
        "type": "range",
        "id": "padding_horizontal",
        "min": 0,
        "max": 30,
        "step": 0.5,
        "unit": "rem",
        "label": "Sides",
        "default": 5
      },
      {
        "type": "range",
        "id": "padding_horizontal_mobile",
        "min": 0,
        "max": 15,
        "step": 0.5,
        "unit": "rem",
        "label": "Sides - mobile",
        "default": 1.5
      },
      {
        "type": "header",
        "content": "Section"
      },
      {
        "type": "select",
        "id": "width",
        "label": "Width",
        "default": "page",
        "options": [
          {
            "label": "Page",
            "value": "page"
          },
          {
            "label": "Full",
            "value": "full"
          },
          {
            "label": "Custom",
            "value": "custom"
          }
        ]
      },
      {
        "type": "range",
        "id": "content_width",
        "min": 800,
        "max": 2000,
        "step": 100,
        "unit": "px",
        "label": "Content width",
        "default": 1200,
        "visible_if": "{{ section.settings.width == 'custom' }}"
      },
      {
        "type": "range",
        "id": "border_thickness",
        "min": 0,
        "max": 50,
        "step": 1,
        "unit": "px",
        "label": "Border thickness",
        "default": 0
      },
      {
        "type": "range",
        "id": "section_radius",
        "min": 0,
        "max": 100,
        "step": 2,
        "unit": "px",
        "label": "Roundness",
        "default": 0
      },
      {
        "type": "checkbox",
        "id": "lazy",
        "label": "Lazy load",
        "info": "Lazy load images for speed optimisation",
        "default": true
      }
    ],
    "blocks": [
      {
        "type": "subheading",
        "name": "SG-Subheading",
        "limit": 1,
        "settings": [
          {
            "type": "text",
            "id": "subheading",
            "label": "Subheading",
            "default": "Subheading"
          },        
          {
            "type": "checkbox",
            "id": "subheading_custom",
            "label": "Use custom font",
            "default": false
          },
          {
            "type": "font_picker",
            "id": "subheading_font",
            "label": "Font family",
            "default": "josefin_sans_n4",
            "visible_if": "{{ block.settings.subheading_custom }}"
          },
          {
            "type": "range",
            "id": "subheading_size",
            "min": 0,
            "max": 40,
            "step": 1,
            "unit": "px",
            "label": "Font size",
            "default": 12
          },
          {
            "type": "range",
            "id": "subheading_size_mobile",
            "min": 0,
            "max": 40,
            "step": 1,
            "unit": "px",
            "label": "Font size - mobile",
            "default": 12
          },
          {
            "type": "checkbox",
            "id": "subheading_advanced",
            "label": "Advanced settings",
            "default": false
          },
          {
            "type": "range",
            "id": "subheading_height",
            "min": 50,
            "max": 200,
            "step": 10,
            "unit": "%",
            "label": "Line height",
            "default": 130,
            "visible_if": "{{ block.settings.subheading_advanced }}"
          },
          {
            "type": "range",
            "id": "subheading_mt",
            "min": 0,
            "max": 100,
            "step": 2,
            "unit": "px",
            "label": "Margin top",
            "default": 0,
            "visible_if": "{{ block.settings.subheading_advanced }}"
          },
          {
            "type": "range",
            "id": "subheading_mt_mobile",
            "min": 0,
            "max": 100,
            "step": 2,
            "unit": "px",
            "label": "Margin top - mobile",
            "default": 0,
            "visible_if": "{{ block.settings.subheading_advanced }}"
          },
          {
            "type": "color",
            "label": "Color",
            "id": "subheading_color",
            "default": "#121212"
          }
        ]
      },
      {
        "type": "heading",
        "name": "SG-Heading",
        "limit": 1,
        "settings": [
          {
            "type": "richtext",
            "id": "heading",
            "label": "Heading",
            "default": "<h2>Video slider #5</h2>"
          },
          {
            "type": "checkbox",
            "id": "heading_custom",
            "label": "Use custom font",
            "default": false
          },
          {
            "type": "font_picker",
            "id": "heading_font",
            "label": "Font family",
            "default": "josefin_sans_n4",
            "visible_if": "{{ block.settings.heading_custom }}"
          },
          {
            "type": "range",
            "id": "heading_size",
            "min": 0,
            "max": 72,
            "step": 2,
            "unit": "px",
            "label": "Font size",
            "default": 48
          },
          {
            "type": "range",
            "id": "heading_size_mobile",
            "min": 0,
            "max": 72,
            "step": 2,
            "unit": "px",
            "label": "Font size - mobile",
            "default": 32
          },
          {
            "type": "checkbox",
            "id": "heading_advanced",
            "label": "Advanced settings",
            "default": false
          },
          {
            "type": "range",
            "id": "heading_height",
            "min": 50,
            "max": 200,
            "step": 10,
            "unit": "%",
            "label": "Line height",
            "default": 130,
            "visible_if": "{{ block.settings.heading_advanced }}"
          },
          {
            "type": "range",
            "id": "heading_mt",
            "min": 0,
            "max": 100,
            "step": 2,
            "unit": "px",
            "label": "Margin top",
            "default": 12,
            "visible_if": "{{ block.settings.heading_advanced }}"
          },
          {
            "type": "range",
            "id": "heading_mt_mobile",
            "min": 0,
            "max": 100,
            "step": 2,
            "unit": "px",
            "label": "Margin top - mobile",
            "default": 12,
            "visible_if": "{{ block.settings.heading_advanced }}"
          },
          {
            "type": "color",
            "label": "Color",
            "id": "heading_color",
            "default": "#121212"
          }
        ]
      },
      {
        "type": "text",
        "name": "SG-Text",
        "limit": 1,
        "settings": [
          {
            "type": "richtext",
            "id": "text",
            "label": "Text",
            "default": "<p>Tell your story</p>"
          },
          {
            "type": "checkbox",
            "id": "text_custom",
            "label": "Use custom font",
            "default": false
          },
          {
            "type": "font_picker",
            "id": "text_font",
            "label": "Font family",
            "default": "josefin_sans_n4",
            "visible_if": "{{ block.settings.text_custom }}"
          },
          {
            "type": "range",
            "id": "text_size",
            "min": 0,
            "max": 40,
            "step": 1,
            "unit": "px",
            "label": "Font size",
            "default": 14
          },
          {
            "type": "range",
            "id": "text_size_mobile",
            "min": 0,
            "max": 40,
            "step": 1,
            "unit": "px",
            "label": "Font size - mobile",
            "default": 14
          },
          {
            "type": "checkbox",
            "id": "text_advanced",
            "label": "Advanced settings",
            "default": false
          },
          {
            "type": "range",
            "id": "text_height",
            "min": 50,
            "max": 200,
            "step": 10,
            "unit": "%",
            "label": "Line height",
            "default": 150,
            "visible_if": "{{ block.settings.text_advanced }}"
          },
          {
            "type": "range",
            "id": "text_mt",
            "min": 0,
            "max": 100,
            "step": 2,
            "unit": "px",
            "label": "Margin top",
            "default": 14,
            "visible_if": "{{ block.settings.text_advanced }}"
          },
          {
            "type": "range",
            "id": "text_mt_mobile",
            "min": 0,
            "max": 100,
            "step": 2,
            "unit": "px",
            "label": "Margin top - mobile",
            "default": 14,
            "visible_if": "{{ block.settings.text_advanced }}"
          },
          {
            "type": "color",
            "label": "Color",
            "id": "text_color",
            "default": "#121212"
          }
        ]
      },
      {
        "type": "profile",
        "name": "SG-Profile",
        "settings": [   
          {
            "type": "select",
            "id": "source",
            "label": "Source",
            "default": "uploaded",
            "options": [
              {
                "label": "Uploaded",
                "value": "uploaded"
              },
              {
                "label": "External URL",
                "value": "external"
              }
            ]
          },
          {
            "type": "video",
            "id": "video",
            "label": "Video",
            "visible_if": "{{ block.settings.source == 'uploaded' }}"
          },
          {
            "type": "video_url",
            "id": "video_url",
            "label": "URL",
            "accept": [
              "youtube",
              "vimeo"
            ],
            "visible_if": "{{ block.settings.source == 'external' }}",
            "info": "Use a YouTube or Vimeo URL"
          },
          {
            "type": "text",
            "id": "name", 
            "label": "Profile name",
            "default": "Name"
          },           
          {
            "type": "richtext",
            "id": "details",
            "label": "Profile details",
            "default": "<p>Profile details</p>"
          },
          {
            "type": "range",
            "id": "stars_count",
            "min": 0,
            "max": 5,
            "step": 0.5,
            "label": "Star rating",
            "default": 5
          },
          {
            "type": "checkbox",
            "id": "verify_icon",
            "label": "Verified",
            "default": false
          }                
        ]
      }
    ],
    "presets": [
      {
        "name": "SG- Video slider #5",
        "blocks": [
          {
            "type": "subheading"
          },
          {
            "type": "heading"
          },
          {
            "type": "text"
          },
          {
            "type": "profile"
          },
          {
            "type": "profile"
          },
          {
            "type": "profile"            
          },
          {
            "type": "profile"
          },
          {
            "type": "profile"
          }
        ]
      }
    ]
  }
{% endschema %}